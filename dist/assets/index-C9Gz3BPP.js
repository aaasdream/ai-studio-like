(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();var La=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mu={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function U0(){if(Zh)return dl;Zh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,c){var d=null;if(c!==void 0&&(d=""+c),r.key!==void 0&&(d=""+r.key),"key"in r){c={};for(var p in r)p!=="key"&&(c[p]=r[p])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:d,ref:r!==void 0?r:null,props:c}}return dl.Fragment=t,dl.jsx=l,dl.jsxs=l,dl}var Xh;function k0(){return Xh||(Xh=1,mu.exports=U0()),mu.exports}var A=k0(),gu={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function z0(){if(Qh)return ke;Qh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,I={};function b(M,L,V){this.props=M,this.context=L,this.refs=I,this.updater=V||R}b.prototype.isReactComponent={},b.prototype.setState=function(M,L){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,L,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function U(){}U.prototype=b.prototype;function D(M,L,V){this.props=M,this.context=L,this.refs=I,this.updater=V||R}var q=D.prototype=new U;q.constructor=D,x(q,b.prototype),q.isPureReactComponent=!0;var G=Array.isArray;function X(){}var P={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function Y(M,L,V){var O=V.ref;return{$$typeof:i,type:M,key:L,ref:O!==void 0?O:null,props:V}}function re(M,L){return Y(M.type,L,M.props)}function _e(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function k(M){var L={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(V){return L[V]})}var ie=/\/+/g;function N(M,L){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):L.toString(36)}function K(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(X,X):(M.status="pending",M.then(function(L){M.status==="pending"&&(M.status="fulfilled",M.value=L)},function(L){M.status==="pending"&&(M.status="rejected",M.reason=L)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function J(M,L,V,O,W){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var ye=!1;if(M===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(M.$$typeof){case i:case t:ye=!0;break;case v:return ye=M._init,J(ye(M._payload),L,V,O,W)}}if(ye)return W=W(M),ye=O===""?"."+N(M,0):O,G(W)?(V="",ye!=null&&(V=ye.replace(ie,"$&/")+"/"),J(W,L,V,"",function(Ue){return Ue})):W!=null&&(_e(W)&&(W=re(W,V+(W.key==null||M&&M.key===W.key?"":(""+W.key).replace(ie,"$&/")+"/")+ye)),L.push(W)),1;ye=0;var Se=O===""?".":O+":";if(G(M))for(var me=0;me<M.length;me++)O=M[me],he=Se+N(O,me),ye+=J(O,L,V,he,W);else if(me=E(M),typeof me=="function")for(M=me.call(M),me=0;!(O=M.next()).done;)O=O.value,he=Se+N(O,me++),ye+=J(O,L,V,he,W);else if(he==="object"){if(typeof M.then=="function")return J(K(M),L,V,O,W);throw L=String(M),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Z(M,L,V){if(M==null)return M;var O=[],W=0;return J(M,O,"","",function(he){return L.call(V,he,W++)}),O}function ve(M){if(M._status===-1){var L=M._result;L=L(),L.then(function(V){(M._status===0||M._status===-1)&&(M._status=1,M._result=V)},function(V){(M._status===0||M._status===-1)&&(M._status=2,M._result=V)}),M._status===-1&&(M._status=0,M._result=L)}if(M._status===1)return M._result.default;throw M._result}var ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ce={map:Z,forEach:function(M,L,V){Z(M,function(){L.apply(this,arguments)},V)},count:function(M){var L=0;return Z(M,function(){L++}),L},toArray:function(M){return Z(M,function(L){return L})||[]},only:function(M){if(!_e(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ke.Activity=_,ke.Children=Ce,ke.Component=b,ke.Fragment=l,ke.Profiler=r,ke.PureComponent=D,ke.StrictMode=a,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ke.__COMPILER_RUNTIME={__proto__:null,c:function(M){return P.H.useMemoCache(M)}},ke.cache=function(M){return function(){return M.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(M,L,V){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var O=x({},M.props),W=M.key;if(L!=null)for(he in L.key!==void 0&&(W=""+L.key),L)!se.call(L,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&L.ref===void 0||(O[he]=L[he]);var he=arguments.length-2;if(he===1)O.children=V;else if(1<he){for(var ye=Array(he),Se=0;Se<he;Se++)ye[Se]=arguments[Se+2];O.children=ye}return Y(M.type,W,O)},ke.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},ke.createElement=function(M,L,V){var O,W={},he=null;if(L!=null)for(O in L.key!==void 0&&(he=""+L.key),L)se.call(L,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(W[O]=L[O]);var ye=arguments.length-2;if(ye===1)W.children=V;else if(1<ye){for(var Se=Array(ye),me=0;me<ye;me++)Se[me]=arguments[me+2];W.children=Se}if(M&&M.defaultProps)for(O in ye=M.defaultProps,ye)W[O]===void 0&&(W[O]=ye[O]);return Y(M,he,W)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(M){return{$$typeof:p,render:M}},ke.isValidElement=_e,ke.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ve}},ke.memo=function(M,L){return{$$typeof:m,type:M,compare:L===void 0?null:L}},ke.startTransition=function(M){var L=P.T,V={};P.T=V;try{var O=M(),W=P.S;W!==null&&W(V,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(X,ce)}catch(he){ce(he)}finally{L!==null&&V.types!==null&&(L.types=V.types),P.T=L}},ke.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ke.use=function(M){return P.H.use(M)},ke.useActionState=function(M,L,V){return P.H.useActionState(M,L,V)},ke.useCallback=function(M,L){return P.H.useCallback(M,L)},ke.useContext=function(M){return P.H.useContext(M)},ke.useDebugValue=function(){},ke.useDeferredValue=function(M,L){return P.H.useDeferredValue(M,L)},ke.useEffect=function(M,L){return P.H.useEffect(M,L)},ke.useEffectEvent=function(M){return P.H.useEffectEvent(M)},ke.useId=function(){return P.H.useId()},ke.useImperativeHandle=function(M,L,V){return P.H.useImperativeHandle(M,L,V)},ke.useInsertionEffect=function(M,L){return P.H.useInsertionEffect(M,L)},ke.useLayoutEffect=function(M,L){return P.H.useLayoutEffect(M,L)},ke.useMemo=function(M,L){return P.H.useMemo(M,L)},ke.useOptimistic=function(M,L){return P.H.useOptimistic(M,L)},ke.useReducer=function(M,L,V){return P.H.useReducer(M,L,V)},ke.useRef=function(M){return P.H.useRef(M)},ke.useState=function(M){return P.H.useState(M)},ke.useSyncExternalStore=function(M,L,V){return P.H.useSyncExternalStore(M,L,V)},ke.useTransition=function(){return P.H.useTransition()},ke.version="19.2.0",ke}var Wh;function Gu(){return Wh||(Wh=1,gu.exports=z0()),gu.exports}var Ie=Gu();const Gm=qu(Ie);var yu={exports:{}},hl={},vu={exports:{}},_u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function L0(){return $h||($h=1,(function(i){function t(J,Z){var ve=J.length;J.push(Z);e:for(;0<ve;){var ce=ve-1>>>1,Ce=J[ce];if(0<r(Ce,Z))J[ce]=Z,J[ve]=Ce,ve=ce;else break e}}function l(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var Z=J[0],ve=J.pop();if(ve!==Z){J[0]=ve;e:for(var ce=0,Ce=J.length,M=Ce>>>1;ce<M;){var L=2*(ce+1)-1,V=J[L],O=L+1,W=J[O];if(0>r(V,ve))O<Ce&&0>r(W,V)?(J[ce]=W,J[O]=ve,ce=O):(J[ce]=V,J[L]=ve,ce=L);else if(O<Ce&&0>r(W,ve))J[ce]=W,J[O]=ve,ce=O;else break e}}return Z}function r(J,Z){var ve=J.sortIndex-Z.sortIndex;return ve!==0?ve:J.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],m=[],v=1,_=null,S=3,E=!1,R=!1,x=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function q(J){for(var Z=l(m);Z!==null;){if(Z.callback===null)a(m);else if(Z.startTime<=J)a(m),Z.sortIndex=Z.expirationTime,t(g,Z);else break;Z=l(m)}}function G(J){if(x=!1,q(J),!R)if(l(g)!==null)R=!0,X||(X=!0,k());else{var Z=l(m);Z!==null&&K(G,Z.startTime-J)}}var X=!1,P=-1,se=5,Y=-1;function re(){return I?!0:!(i.unstable_now()-Y<se)}function _e(){if(I=!1,X){var J=i.unstable_now();Y=J;var Z=!0;try{e:{R=!1,x&&(x=!1,U(P),P=-1),E=!0;var ve=S;try{t:{for(q(J),_=l(g);_!==null&&!(_.expirationTime>J&&re());){var ce=_.callback;if(typeof ce=="function"){_.callback=null,S=_.priorityLevel;var Ce=ce(_.expirationTime<=J);if(J=i.unstable_now(),typeof Ce=="function"){_.callback=Ce,q(J),Z=!0;break t}_===l(g)&&a(g),q(J)}else a(g);_=l(g)}if(_!==null)Z=!0;else{var M=l(m);M!==null&&K(G,M.startTime-J),Z=!1}}break e}finally{_=null,S=ve,E=!1}Z=void 0}}finally{Z?k():X=!1}}}var k;if(typeof D=="function")k=function(){D(_e)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,N=ie.port2;ie.port1.onmessage=_e,k=function(){N.postMessage(null)}}else k=function(){b(_e,0)};function K(J,Z){P=b(function(){J(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(J){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var ve=S;S=Z;try{return J()}finally{S=ve}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(J,Z){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ve=S;S=J;try{return Z()}finally{S=ve}},i.unstable_scheduleCallback=function(J,Z,ve){var ce=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ce+ve:ce):ve=ce,J){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ve+Ce,J={id:v++,callback:Z,priorityLevel:J,startTime:ve,expirationTime:Ce,sortIndex:-1},ve>ce?(J.sortIndex=ve,t(m,J),l(g)===null&&J===l(m)&&(x?(U(P),P=-1):x=!0,K(G,ve-ce))):(J.sortIndex=Ce,t(g,J),R||E||(R=!0,X||(X=!0,k()))),J},i.unstable_shouldYield=re,i.unstable_wrapCallback=function(J){var Z=S;return function(){var ve=S;S=Z;try{return J.apply(this,arguments)}finally{S=ve}}}})(_u)),_u}var jh;function B0(){return jh||(jh=1,vu.exports=L0()),vu.exports}var Su={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function q0(){if(ep)return bt;ep=1;var i=Gu();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,bt.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(g,m,null,v)},bt.flushSync=function(g){var m=d.T,v=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=m,a.p=v,a.d.f()}},bt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},bt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},bt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=p(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},bt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},bt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=p(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},bt.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=p(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},bt.requestFormReset=function(g){a.d.r(g)},bt.unstable_batchedUpdates=function(g,m){return g(m)},bt.useFormState=function(g,m,v){return d.H.useFormState(g,m,v)},bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var tp;function G0(){if(tp)return Su.exports;tp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Su.exports=q0(),Su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function H0(){if(np)return hl;np=1;var i=B0(),t=Gu(),l=G0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(s=h.return,s!==null){o=s;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return g(h),e;if(y===s)return g(h),n;y=y.sibling}throw Error(a(188))}if(o.return!==s.return)o=h,s=y;else{for(var T=!1,w=h.child;w;){if(w===o){T=!0,o=h,s=y;break}if(w===s){T=!0,s=h,o=y;break}w=w.sibling}if(!T){for(w=y.child;w;){if(w===o){T=!0,o=y,s=h;break}if(w===s){T=!0,s=y,o=h;break}w=w.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function N(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case b:return"Profiler";case I:return"StrictMode";case G:return"Suspense";case X:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case D:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:N(e.type)||"Memo";case se:n=e._payload,e=e._init;try{return N(e(n))}catch{}}return null}var K=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ce=[],Ce=-1;function M(e){return{current:e}}function L(e){0>Ce||(e.current=ce[Ce],ce[Ce]=null,Ce--)}function V(e,n){Ce++,ce[Ce]=e.current,e.current=n}var O=M(null),W=M(null),he=M(null),ye=M(null);function Se(e,n){switch(V(he,n),V(W,e),V(O,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yh(n),e=vh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(O),V(O,e)}function me(){L(O),L(W),L(he)}function Ue(e){e.memoizedState!==null&&V(ye,e);var n=O.current,o=vh(n,e.type);n!==o&&(V(W,e),V(O,o))}function be(e){W.current===e&&(L(O),L(W)),ye.current===e&&(L(ye),rl._currentValue=ve)}var Ze,Oe;function C(e){if(Ze===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ze=n&&n[1]||"",Oe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+e+Oe}var ae=!1;function oe(e,n){if(!e||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(le){var ne=le}Reflect.construct(e,[],de)}else{try{de.call()}catch(le){ne=le}e.call(de.prototype)}}else{try{throw Error()}catch(le){ne=le}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(le){if(le&&ne&&typeof le.stack=="string")return[le.stack,ne.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),T=y[0],w=y[1];if(T&&w){var H=T.split(`
`),ee=w.split(`
`);for(h=s=0;s<H.length&&!H[s].includes("DetermineComponentFrameRoot");)s++;for(;h<ee.length&&!ee[h].includes("DetermineComponentFrameRoot");)h++;if(s===H.length||h===ee.length)for(s=H.length-1,h=ee.length-1;1<=s&&0<=h&&H[s]!==ee[h];)h--;for(;1<=s&&0<=h;s--,h--)if(H[s]!==ee[h]){if(s!==1||h!==1)do if(s--,h--,0>h||H[s]!==ee[h]){var ue=`
`+H[s].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=s&&0<=h);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?C(o):""}function B(e,n){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return e.child!==n&&n!==null?C("Suspense Fallback"):C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return oe(e.type,!1);case 11:return oe(e.type.render,!1);case 1:return oe(e.type,!0);case 31:return C("Activity");default:return""}}function z(e){try{var n="",o=null;do n+=B(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Q=Object.prototype.hasOwnProperty,pe=i.unstable_scheduleCallback,ge=i.unstable_cancelCallback,te=i.unstable_shouldYield,Te=i.unstable_requestPaint,xe=i.unstable_now,Ee=i.unstable_getCurrentPriorityLevel,we=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,Be=i.unstable_NormalPriority,wt=i.unstable_LowPriority,zn=i.unstable_IdlePriority,Ft=i.log,ri=i.unstable_setDisableYieldValue,nt=null,vt=null;function Yt(e){if(typeof Ft=="function"&&ri(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(nt,e)}catch{}}var rt=Math.clz32?Math.clz32:ns,El=Math.log,ts=Math.LN2;function ns(e){return e>>>=0,e===0?32:31-(El(e)/ts|0)|0}var Ri=256,ui=262144,un=4194304;function Jt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cl(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var h=0,y=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var w=s&134217727;return w!==0?(s=w&~y,s!==0?h=Jt(s):(T&=w,T!==0?h=Jt(T):o||(o=w&~e,o!==0&&(h=Jt(o))))):(w=s&~y,w!==0?h=Jt(w):T!==0?h=Jt(T):o||(o=s&~e,o!==0&&(h=Jt(o)))),h===0?0:n!==0&&n!==h&&(n&y)===0&&(y=h&-h,o=n&-n,y>=o||y===32&&(o&4194048)!==0)?n:h}function To(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wu(){var e=un;return un<<=1,(un&62914560)===0&&(un=4194304),e}function is(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Eo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tg(e,n,o,s,h,y){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var w=e.entanglements,H=e.expirationTimes,ee=e.hiddenUpdates;for(o=T&~o;0<o;){var ue=31-rt(o),de=1<<ue;w[ue]=0,H[ue]=-1;var ne=ee[ue];if(ne!==null)for(ee[ue]=null,ue=0;ue<ne.length;ue++){var le=ne[ue];le!==null&&(le.lane&=-536870913)}o&=~de}s!==0&&$u(e,s,0),y!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=y&~(T&~n))}function $u(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-rt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function ju(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-rt(o),h=1<<s;h&n|e[s]&n&&(e[s]|=n),o&=~h}}function ec(e,n){var o=n&-n;return o=(o&42)!==0?1:os(o),(o&(e.suspendedLanes|n))!==0?0:o}function os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ls(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Ph(e.type))}function nc(e,n){var o=Z.p;try{return Z.p=e,n()}finally{Z.p=o}}var Ln=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Ln,Mt="__reactProps$"+Ln,wi="__reactContainer$"+Ln,as="__reactEvents$"+Ln,Eg="__reactListeners$"+Ln,Cg="__reactHandles$"+Ln,ic="__reactResources$"+Ln,Co="__reactMarker$"+Ln;function ss(e){delete e[Tt],delete e[Mt],delete e[as],delete e[Eg],delete e[Cg]}function Mi(e){var n=e[Tt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[wi]||o[Tt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Ah(e);e!==null;){if(o=e[Tt])return o;e=Ah(e)}return n}e=o,o=e.parentNode}return null}function Ii(e){if(e=e[Tt]||e[wi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Di(e){var n=e[ic];return n||(n=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(e){e[Co]=!0}var oc=new Set,lc={};function ci(e,n){Ui(e,n),Ui(e+"Capture",n)}function Ui(e,n){for(lc[e]=n,e=0;e<n.length;e++)oc.add(n[e])}var xg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},sc={};function Ag(e){return Q.call(sc,e)?!0:Q.call(ac,e)?!1:xg.test(e)?sc[e]=!0:(ac[e]=!0,!1)}function xl(e,n,o){if(Ag(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Al(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function pn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bg(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,y=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){o=""+T,y.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function rs(e){if(!e._valueTracker){var n=rc(e)?"checked":"value";e._valueTracker=bg(e,n,""+e[n])}}function uc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=rc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ng=/[\n"\\]/g;function Zt(e){return e.replace(Ng,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function us(e,n,o,s,h,y,T,w){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?cs(e,T,Kt(n)):o!=null?cs(e,T,Kt(o)):s!=null&&e.removeAttribute("value"),h==null&&y!=null&&(e.defaultChecked=!!y),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Kt(w):e.removeAttribute("name")}function cc(e,n,o,s,h,y,T,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),n!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||n!=null)){rs(e);return}o=o!=null?""+Kt(o):"",n=n!=null?""+Kt(n):o,w||n===e.value||(e.value=n),e.defaultValue=n}s=s??h,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=w?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),rs(e)}function cs(e,n,o){n==="number"&&bl(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ki(e,n,o,s){if(e=e.options,n){n={};for(var h=0;h<o.length;h++)n["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=n.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Kt(o),n=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,s&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fc(e,n,o){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Kt(o):""}function dc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(K(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Kt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),rs(e)}function zi(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Rg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||Rg.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function pc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var h in n)s=n[h],n.hasOwnProperty(h)&&o[h]!==s&&hc(e,h,s)}else for(var y in n)n.hasOwnProperty(y)&&hc(e,y,n[y])}function fs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return Mg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var ds=null;function hs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Li=null,Bi=null;function mc(e){var n=Ii(e);if(n&&(e=n.stateNode)){var o=e[Mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(us(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Zt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var h=s[Mt]||null;if(!h)throw Error(a(90));us(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&uc(s)}break e;case"textarea":fc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ki(e,!!o.multiple,n,!1)}}}var ps=!1;function gc(e,n,o){if(ps)return e(n,o);ps=!0;try{var s=e(n);return s}finally{if(ps=!1,(Li!==null||Bi!==null)&&(pa(),Li&&(n=Li,e=Bi,Bi=Li=null,mc(n),e)))for(n=0;n<e.length;n++)mc(e[n])}}function Ao(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Mt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(gn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){ms=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{ms=!1}var Bn=null,gs=null,Rl=null;function yc(){if(Rl)return Rl;var e,n=gs,o=n.length,s,h="value"in Bn?Bn.value:Bn.textContent,y=h.length;for(e=0;e<o&&n[e]===h[e];e++);var T=o-e;for(s=1;s<=T&&n[o-s]===h[y-s];s++);return Rl=h.slice(e,1<s?1-s:void 0)}function wl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function vc(){return!1}function It(e){function n(o,s,h,y,T){this._reactName=o,this._targetInst=h,this.type=s,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(o=e[w],this[w]=o?o(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ml:vc,this.isPropagationStopped=vc,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),n}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=It(fi),No=_({},fi,{view:0,detail:0}),Ig=It(No),ys,vs,Ro,Dl=_({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ro&&(Ro&&e.type==="mousemove"?(ys=e.screenX-Ro.screenX,vs=e.screenY-Ro.screenY):vs=ys=0,Ro=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:vs}}),_c=It(Dl),Dg=_({},Dl,{dataTransfer:0}),Ug=It(Dg),kg=_({},No,{relatedTarget:0}),_s=It(kg),zg=_({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lg=It(zg),Bg=_({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qg=It(Bg),Gg=_({},fi,{data:0}),Sc=It(Gg),Hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Vg[e])?!!n[e]:!1}function Ss(){return Og}var Fg=_({},No,{key:function(e){if(e.key){var n=Hg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yg=It(Fg),Jg=_({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tc=It(Jg),Kg=_({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),Zg=It(Kg),Xg=_({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qg=It(Xg),Wg=_({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=It(Wg),jg=_({},fi,{newState:0,oldState:0}),ey=It(jg),ty=[9,13,27,32],Ts=gn&&"CompositionEvent"in window,wo=null;gn&&"documentMode"in document&&(wo=document.documentMode);var ny=gn&&"TextEvent"in window&&!wo,Ec=gn&&(!Ts||wo&&8<wo&&11>=wo),Cc=" ",xc=!1;function Ac(e,n){switch(e){case"keyup":return ty.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qi=!1;function iy(e,n){switch(e){case"compositionend":return bc(n);case"keypress":return n.which!==32?null:(xc=!0,Cc);case"textInput":return e=n.data,e===Cc&&xc?null:e;default:return null}}function oy(e,n){if(qi)return e==="compositionend"||!Ts&&Ac(e,n)?(e=yc(),Rl=gs=Bn=null,qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ec&&n.locale!=="ko"?null:n.data;default:return null}}var ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ly[e.type]:n==="textarea"}function Rc(e,n,o,s){Li?Bi?Bi.push(s):Bi=[s]:Li=s,n=Ta(n,"onChange"),0<n.length&&(o=new Il("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Mo=null,Io=null;function ay(e){fh(e,0)}function Ul(e){var n=xo(e);if(uc(n))return e}function wc(e,n){if(e==="change")return n}var Mc=!1;if(gn){var Es;if(gn){var Cs="oninput"in document;if(!Cs){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Cs=typeof Ic.oninput=="function"}Es=Cs}else Es=!1;Mc=Es&&(!document.documentMode||9<document.documentMode)}function Dc(){Mo&&(Mo.detachEvent("onpropertychange",Uc),Io=Mo=null)}function Uc(e){if(e.propertyName==="value"&&Ul(Io)){var n=[];Rc(n,Io,e,hs(e)),gc(ay,n)}}function sy(e,n,o){e==="focusin"?(Dc(),Mo=n,Io=o,Mo.attachEvent("onpropertychange",Uc)):e==="focusout"&&Dc()}function ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ul(Io)}function uy(e,n){if(e==="click")return Ul(n)}function cy(e,n){if(e==="input"||e==="change")return Ul(n)}function fy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bt=typeof Object.is=="function"?Object.is:fy;function Do(e,n){if(Bt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var h=o[s];if(!Q.call(n,h)||!Bt(e[h],n[h]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zc(e,n){var o=kc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kc(o)}}function Lc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bl(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=bl(e.document)}return n}function xs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var dy=gn&&"documentMode"in document&&11>=document.documentMode,Gi=null,As=null,Uo=null,bs=!1;function qc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bs||Gi==null||Gi!==bl(s)||(s=Gi,"selectionStart"in s&&xs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Uo&&Do(Uo,s)||(Uo=s,s=Ta(As,"onSelect"),0<s.length&&(n=new Il("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Gi)))}function di(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Hi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Ns={},Gc={};gn&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function hi(e){if(Ns[e])return Ns[e];if(!Hi[e])return e;var n=Hi[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Gc)return Ns[e]=n[o];return e}var Hc=hi("animationend"),Pc=hi("animationiteration"),Vc=hi("animationstart"),hy=hi("transitionrun"),py=hi("transitionstart"),my=hi("transitioncancel"),Oc=hi("transitionend"),Fc=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function ln(e,n){Fc.set(e,n),ci(n,[e])}var kl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],Pi=0,ws=0;function zl(){for(var e=Pi,n=ws=Pi=0;n<e;){var o=Xt[n];Xt[n++]=null;var s=Xt[n];Xt[n++]=null;var h=Xt[n];Xt[n++]=null;var y=Xt[n];if(Xt[n++]=null,s!==null&&h!==null){var T=s.pending;T===null?h.next=h:(h.next=T.next,T.next=h),s.pending=h}y!==0&&Yc(o,h,y)}}function Ll(e,n,o,s){Xt[Pi++]=e,Xt[Pi++]=n,Xt[Pi++]=o,Xt[Pi++]=s,ws|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ms(e,n,o,s){return Ll(e,n,o,s),Bl(e)}function pi(e,n){return Ll(e,null,null,n),Bl(e)}function Yc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var h=!1,y=e.return;y!==null;)y.childLanes|=o,s=y.alternate,s!==null&&(s.childLanes|=o),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(h=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,h&&n!==null&&(h=31-rt(o),e=y.hiddenUpdates,s=e[h],s===null?e[h]=[n]:s.push(n),n.lane=o|536870912),y):null}function Bl(e){if(50<tl)throw tl=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Vi={};function gy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,n,o,s){return new gy(e,n,o,s)}function Is(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,n){var o=e.alternate;return o===null?(o=qt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Jc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ql(e,n,o,s,h,y){var T=0;if(s=e,typeof e=="function")Is(e)&&(T=1);else if(typeof e=="string")T=T0(e,o,O.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=qt(31,o,n,h),e.elementType=Y,e.lanes=y,e;case x:return mi(o.children,h,y,n);case I:T=8,h|=24;break;case b:return e=qt(12,o,n,h|2),e.elementType=b,e.lanes=y,e;case G:return e=qt(13,o,n,h),e.elementType=G,e.lanes=y,e;case X:return e=qt(19,o,n,h),e.elementType=X,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:T=10;break e;case U:T=9;break e;case q:T=11;break e;case P:T=14;break e;case se:T=16,s=null;break e}T=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=qt(T,o,n,h),n.elementType=e,n.type=s,n.lanes=y,n}function mi(e,n,o,s){return e=qt(7,e,s,n),e.lanes=o,e}function Ds(e,n,o){return e=qt(6,e,null,n),e.lanes=o,e}function Kc(e){var n=qt(18,null,null,0);return n.stateNode=e,n}function Us(e,n,o){return n=qt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zc=new WeakMap;function Qt(e,n){if(typeof e=="object"&&e!==null){var o=Zc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:z(n)},Zc.set(e,n),n)}return{value:e,source:n,stack:z(n)}}var Oi=[],Fi=0,Gl=null,ko=0,Wt=[],$t=0,qn=null,cn=1,fn="";function vn(e,n){Oi[Fi++]=ko,Oi[Fi++]=Gl,Gl=e,ko=n}function Xc(e,n,o){Wt[$t++]=cn,Wt[$t++]=fn,Wt[$t++]=qn,qn=e;var s=cn;e=fn;var h=32-rt(s)-1;s&=~(1<<h),o+=1;var y=32-rt(n)+h;if(30<y){var T=h-h%5;y=(s&(1<<T)-1).toString(32),s>>=T,h-=T,cn=1<<32-rt(n)+h|o<<h|s,fn=y+e}else cn=1<<y|o<<h|s,fn=e}function ks(e){e.return!==null&&(vn(e,1),Xc(e,1,0))}function zs(e){for(;e===Gl;)Gl=Oi[--Fi],Oi[Fi]=null,ko=Oi[--Fi],Oi[Fi]=null;for(;e===qn;)qn=Wt[--$t],Wt[$t]=null,fn=Wt[--$t],Wt[$t]=null,cn=Wt[--$t],Wt[$t]=null}function Qc(e,n){Wt[$t++]=cn,Wt[$t++]=fn,Wt[$t++]=qn,cn=n.id,fn=n.overflow,qn=e}var Et=null,ot=null,Fe=!1,Gn=null,jt=!1,Ls=Error(a(519));function Hn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Qt(n,e)),Ls}function Wc(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[Tt]=e,n[Mt]=s,o){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(o=0;o<il.length;o++)He(il[o],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),cc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),dc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||mh(n.textContent,o)?(s.popover!=null&&(He("beforetoggle",n),He("toggle",n)),s.onScroll!=null&&He("scroll",n),s.onScrollEnd!=null&&He("scrollend",n),s.onClick!=null&&(n.onclick=mn),n=!0):n=!1,n||Hn(e,!0)}function $c(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:Et=Et.return}}function Yi(e){if(e!==Et)return!1;if(!Fe)return $c(e),Fe=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||eu(e.type,e.memoizedProps)),o=!o),o&&ot&&Hn(e),$c(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ot=xh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ot=xh(e)}else n===27?(n=ot,ei(e.type)?(e=lu,lu=null,ot=e):ot=n):ot=Et?tn(e.stateNode.nextSibling):null;return!0}function gi(){ot=Et=null,Fe=!1}function Bs(){var e=Gn;return e!==null&&(zt===null?zt=e:zt.push.apply(zt,e),Gn=null),e}function zo(e){Gn===null?Gn=[e]:Gn.push(e)}var qs=M(null),yi=null,_n=null;function Pn(e,n,o){V(qs,n._currentValue),n._currentValue=o}function Sn(e){e._currentValue=qs.current,L(qs)}function Gs(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Hs(e,n,o,s){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var y=h.dependencies;if(y!==null){var T=h.child;y=y.firstContext;e:for(;y!==null;){var w=y;y=h;for(var H=0;H<n.length;H++)if(w.context===n[H]){y.lanes|=o,w=y.alternate,w!==null&&(w.lanes|=o),Gs(y.return,o,e),s||(T=null);break e}y=w.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(a(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),Gs(T,o,e),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===e){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Ji(e,n,o,s){e=null;for(var h=n,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var w=h.type;Bt(h.pendingProps.value,T.value)||(e!==null?e.push(w):e=[w])}}else if(h===ye.current){if(T=h.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}h=h.return}e!==null&&Hs(n,e,o,s),n.flags|=262144}function Hl(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vi(e){yi=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return jc(yi,e)}function Pl(e,n){return yi===null&&vi(e),jc(e,n)}function jc(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},_n===null){if(e===null)throw Error(a(308));_n=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else _n=_n.next=n;return o}var yy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},vy=i.unstable_scheduleCallback,_y=i.unstable_NormalPriority,ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ps(){return{controller:new yy,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&vy(_y,function(){e.controller.abort()})}var Bo=null,Vs=0,Ki=0,Zi=null;function Sy(e,n){if(Bo===null){var o=Bo=[];Vs=0,Ki=Yr(),Zi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Vs++,n.then(ef,ef),n}function ef(){if(--Vs===0&&Bo!==null){Zi!==null&&(Zi.status="fulfilled");var e=Bo;Bo=null,Ki=0,Zi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ty(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var h=0;h<o.length;h++)(0,o[h])(n)},function(h){for(s.status="rejected",s.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),s}var tf=J.S;J.S=function(e,n){Gd=xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Sy(e,n),tf!==null&&tf(e,n)};var _i=M(null);function Os(){var e=_i.current;return e!==null?e:it.pooledCache}function Vl(e,n){n===null?V(_i,_i.current):V(_i,n.pool)}function nf(){var e=Os();return e===null?null:{parent:ht._currentValue,pool:e}}var Xi=Error(a(460)),Fs=Error(a(474)),Ol=Error(a(542)),Fl={then:function(){}};function of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(mn,mn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sf(e),e;default:if(typeof n.status=="string")n.then(mn,mn);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=s}},function(s){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sf(e),e}throw Ti=n,Xi}}function Si(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ti=o,Xi):o}}var Ti=null;function af(){if(Ti===null)throw Error(a(459));var e=Ti;return Ti=null,e}function sf(e){if(e===Xi||e===Ol)throw Error(a(483))}var Qi=null,qo=0;function Yl(e){var n=qo;return qo+=1,Qi===null&&(Qi=[]),lf(Qi,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Jl(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rf(e){function n($,F){if(e){var j=$.deletions;j===null?($.deletions=[F],$.flags|=16):j.push(F)}}function o($,F){if(!e)return null;for(;F!==null;)n($,F),F=F.sibling;return null}function s($){for(var F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function h($,F){return $=yn($,F),$.index=0,$.sibling=null,$}function y($,F,j){return $.index=j,e?(j=$.alternate,j!==null?(j=j.index,j<F?($.flags|=67108866,F):j):($.flags|=67108866,F)):($.flags|=1048576,F)}function T($){return e&&$.alternate===null&&($.flags|=67108866),$}function w($,F,j,fe){return F===null||F.tag!==6?(F=Ds(j,$.mode,fe),F.return=$,F):(F=h(F,j),F.return=$,F)}function H($,F,j,fe){var Me=j.type;return Me===x?ue($,F,j.props.children,fe,j.key):F!==null&&(F.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===se&&Si(Me)===F.type)?(F=h(F,j.props),Go(F,j),F.return=$,F):(F=ql(j.type,j.key,j.props,null,$.mode,fe),Go(F,j),F.return=$,F)}function ee($,F,j,fe){return F===null||F.tag!==4||F.stateNode.containerInfo!==j.containerInfo||F.stateNode.implementation!==j.implementation?(F=Us(j,$.mode,fe),F.return=$,F):(F=h(F,j.children||[]),F.return=$,F)}function ue($,F,j,fe,Me){return F===null||F.tag!==7?(F=mi(j,$.mode,fe,Me),F.return=$,F):(F=h(F,j),F.return=$,F)}function de($,F,j){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Ds(""+F,$.mode,j),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return j=ql(F.type,F.key,F.props,null,$.mode,j),Go(j,F),j.return=$,j;case R:return F=Us(F,$.mode,j),F.return=$,F;case se:return F=Si(F),de($,F,j)}if(K(F)||k(F))return F=mi(F,$.mode,j,null),F.return=$,F;if(typeof F.then=="function")return de($,Yl(F),j);if(F.$$typeof===D)return de($,Pl($,F),j);Jl($,F)}return null}function ne($,F,j,fe){var Me=F!==null?F.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Me!==null?null:w($,F,""+j,fe);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return j.key===Me?H($,F,j,fe):null;case R:return j.key===Me?ee($,F,j,fe):null;case se:return j=Si(j),ne($,F,j,fe)}if(K(j)||k(j))return Me!==null?null:ue($,F,j,fe,null);if(typeof j.then=="function")return ne($,F,Yl(j),fe);if(j.$$typeof===D)return ne($,F,Pl($,j),fe);Jl($,j)}return null}function le($,F,j,fe,Me){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return $=$.get(j)||null,w(F,$,""+fe,Me);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:return $=$.get(fe.key===null?j:fe.key)||null,H(F,$,fe,Me);case R:return $=$.get(fe.key===null?j:fe.key)||null,ee(F,$,fe,Me);case se:return fe=Si(fe),le($,F,j,fe,Me)}if(K(fe)||k(fe))return $=$.get(j)||null,ue(F,$,fe,Me,null);if(typeof fe.then=="function")return le($,F,j,Yl(fe),Me);if(fe.$$typeof===D)return le($,F,j,Pl(F,fe),Me);Jl(F,fe)}return null}function Ne($,F,j,fe){for(var Me=null,Ye=null,Re=F,Le=F=0,Ve=null;Re!==null&&Le<j.length;Le++){Re.index>Le?(Ve=Re,Re=null):Ve=Re.sibling;var Je=ne($,Re,j[Le],fe);if(Je===null){Re===null&&(Re=Ve);break}e&&Re&&Je.alternate===null&&n($,Re),F=y(Je,F,Le),Ye===null?Me=Je:Ye.sibling=Je,Ye=Je,Re=Ve}if(Le===j.length)return o($,Re),Fe&&vn($,Le),Me;if(Re===null){for(;Le<j.length;Le++)Re=de($,j[Le],fe),Re!==null&&(F=y(Re,F,Le),Ye===null?Me=Re:Ye.sibling=Re,Ye=Re);return Fe&&vn($,Le),Me}for(Re=s(Re);Le<j.length;Le++)Ve=le(Re,$,Le,j[Le],fe),Ve!==null&&(e&&Ve.alternate!==null&&Re.delete(Ve.key===null?Le:Ve.key),F=y(Ve,F,Le),Ye===null?Me=Ve:Ye.sibling=Ve,Ye=Ve);return e&&Re.forEach(function(li){return n($,li)}),Fe&&vn($,Le),Me}function De($,F,j,fe){if(j==null)throw Error(a(151));for(var Me=null,Ye=null,Re=F,Le=F=0,Ve=null,Je=j.next();Re!==null&&!Je.done;Le++,Je=j.next()){Re.index>Le?(Ve=Re,Re=null):Ve=Re.sibling;var li=ne($,Re,Je.value,fe);if(li===null){Re===null&&(Re=Ve);break}e&&Re&&li.alternate===null&&n($,Re),F=y(li,F,Le),Ye===null?Me=li:Ye.sibling=li,Ye=li,Re=Ve}if(Je.done)return o($,Re),Fe&&vn($,Le),Me;if(Re===null){for(;!Je.done;Le++,Je=j.next())Je=de($,Je.value,fe),Je!==null&&(F=y(Je,F,Le),Ye===null?Me=Je:Ye.sibling=Je,Ye=Je);return Fe&&vn($,Le),Me}for(Re=s(Re);!Je.done;Le++,Je=j.next())Je=le(Re,$,Le,Je.value,fe),Je!==null&&(e&&Je.alternate!==null&&Re.delete(Je.key===null?Le:Je.key),F=y(Je,F,Le),Ye===null?Me=Je:Ye.sibling=Je,Ye=Je);return e&&Re.forEach(function(D0){return n($,D0)}),Fe&&vn($,Le),Me}function tt($,F,j,fe){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case E:e:{for(var Me=j.key;F!==null;){if(F.key===Me){if(Me=j.type,Me===x){if(F.tag===7){o($,F.sibling),fe=h(F,j.props.children),fe.return=$,$=fe;break e}}else if(F.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===se&&Si(Me)===F.type){o($,F.sibling),fe=h(F,j.props),Go(fe,j),fe.return=$,$=fe;break e}o($,F);break}else n($,F);F=F.sibling}j.type===x?(fe=mi(j.props.children,$.mode,fe,j.key),fe.return=$,$=fe):(fe=ql(j.type,j.key,j.props,null,$.mode,fe),Go(fe,j),fe.return=$,$=fe)}return T($);case R:e:{for(Me=j.key;F!==null;){if(F.key===Me)if(F.tag===4&&F.stateNode.containerInfo===j.containerInfo&&F.stateNode.implementation===j.implementation){o($,F.sibling),fe=h(F,j.children||[]),fe.return=$,$=fe;break e}else{o($,F);break}else n($,F);F=F.sibling}fe=Us(j,$.mode,fe),fe.return=$,$=fe}return T($);case se:return j=Si(j),tt($,F,j,fe)}if(K(j))return Ne($,F,j,fe);if(k(j)){if(Me=k(j),typeof Me!="function")throw Error(a(150));return j=Me.call(j),De($,F,j,fe)}if(typeof j.then=="function")return tt($,F,Yl(j),fe);if(j.$$typeof===D)return tt($,F,Pl($,j),fe);Jl($,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,F!==null&&F.tag===6?(o($,F.sibling),fe=h(F,j),fe.return=$,$=fe):(o($,F),fe=Ds(j,$.mode,fe),fe.return=$,$=fe),T($)):o($,F)}return function($,F,j,fe){try{qo=0;var Me=tt($,F,j,fe);return Qi=null,Me}catch(Re){if(Re===Xi||Re===Ol)throw Re;var Ye=qt(29,Re,null,$.mode);return Ye.lanes=fe,Ye.return=$,Ye}finally{}}}var Ei=rf(!0),uf=rf(!1),Vn=!1;function Ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Js(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function On(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Xe&2)!==0){var h=s.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),s.pending=n,n=Bl(e),Yc(e,null,o),n}return Ll(e,s,n,o),Bl(e)}function Ho(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,ju(e,o)}}function Ks(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?h=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?h=y=n:y=y.next=n}else h=y=n;o={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Zs=!1;function Po(){if(Zs){var e=Zi;if(e!==null)throw e}}function Vo(e,n,o,s){Zs=!1;var h=e.updateQueue;Vn=!1;var y=h.firstBaseUpdate,T=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var H=w,ee=H.next;H.next=null,T===null?y=ee:T.next=ee,T=H;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,w=ue.lastBaseUpdate,w!==T&&(w===null?ue.firstBaseUpdate=ee:w.next=ee,ue.lastBaseUpdate=H))}if(y!==null){var de=h.baseState;T=0,ue=ee=H=null,w=y;do{var ne=w.lane&-536870913,le=ne!==w.lane;if(le?(Pe&ne)===ne:(s&ne)===ne){ne!==0&&ne===Ki&&(Zs=!0),ue!==null&&(ue=ue.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ne=e,De=w;ne=n;var tt=o;switch(De.tag){case 1:if(Ne=De.payload,typeof Ne=="function"){de=Ne.call(tt,de,ne);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=De.payload,ne=typeof Ne=="function"?Ne.call(tt,de,ne):Ne,ne==null)break e;de=_({},de,ne);break e;case 2:Vn=!0}}ne=w.callback,ne!==null&&(e.flags|=64,le&&(e.flags|=8192),le=h.callbacks,le===null?h.callbacks=[ne]:le.push(ne))}else le={lane:ne,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ue===null?(ee=ue=le,H=de):ue=ue.next=le,T|=ne;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;le=w,w=le.next,le.next=null,h.lastBaseUpdate=le,h.shared.pending=null}}while(!0);ue===null&&(H=de),h.baseState=H,h.firstBaseUpdate=ee,h.lastBaseUpdate=ue,y===null&&(h.shared.lanes=0),Xn|=T,e.lanes=T,e.memoizedState=de}}function cf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ff(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)cf(o[e],n)}var Wi=M(null),Kl=M(0);function df(e,n){e=wn,V(Kl,e),V(Wi,n),wn=e|n.baseLanes}function Xs(){V(Kl,wn),V(Wi,Wi.current)}function Qs(){wn=Kl.current,L(Wi),L(Kl)}var Gt=M(null),en=null;function Yn(e){var n=e.alternate;V(ft,ft.current&1),V(Gt,e),en===null&&(n===null||Wi.current!==null||n.memoizedState!==null)&&(en=e)}function Ws(e){V(ft,ft.current),V(Gt,e),en===null&&(en=e)}function hf(e){e.tag===22?(V(ft,ft.current),V(Gt,e),en===null&&(en=e)):Jn()}function Jn(){V(ft,ft.current),V(Gt,Gt.current)}function Ht(e){L(Gt),en===e&&(en=null),L(ft)}var ft=M(0);function Zl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||iu(o)||ou(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tn=0,ze=null,je=null,pt=null,Xl=!1,$i=!1,Ci=!1,Ql=0,Oo=0,ji=null,Ey=0;function ut(){throw Error(a(321))}function $s(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Bt(e[o],n[o]))return!1;return!0}function js(e,n,o,s,h,y){return Tn=y,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,J.H=e===null||e.memoizedState===null?Qf:pr,Ci=!1,y=o(s,h),Ci=!1,$i&&(y=mf(n,o,s,h)),pf(e),y}function pf(e){J.H=Jo;var n=je!==null&&je.next!==null;if(Tn=0,pt=je=ze=null,Xl=!1,Oo=0,ji=null,n)throw Error(a(300));e===null||mt||(e=e.dependencies,e!==null&&Hl(e)&&(mt=!0))}function mf(e,n,o,s){ze=e;var h=0;do{if($i&&(ji=null),Oo=0,$i=!1,25<=h)throw Error(a(301));if(h+=1,pt=je=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=Wf,y=n(o,s)}while($i);return y}function Cy(){var e=J.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(ze.flags|=1024),n}function er(){var e=Ql!==0;return Ql=0,e}function tr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function nr(e){if(Xl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xl=!1}Tn=0,pt=je=ze=null,$i=!1,Oo=Ql=0,ji=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ze.memoizedState=pt=e:pt=pt.next=e,pt}function dt(){if(je===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var n=pt===null?ze.memoizedState:pt.next;if(n!==null)pt=n,je=e;else{if(e===null)throw ze.alternate===null?Error(a(467)):Error(a(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},pt===null?ze.memoizedState=pt=e:pt=pt.next=e}return pt}function Wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Oo;return Oo+=1,ji===null&&(ji=[]),e=lf(ji,e,n),n=ze,(pt===null?n.memoizedState:pt.next)===null&&(n=n.alternate,J.H=n===null||n.memoizedState===null?Qf:pr),e}function $l(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===D)return Ct(e)}throw Error(a(438,String(e)))}function ir(e){var n=null,o=ze.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=ze.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Wl(),ze.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=re;return n.index++,o}function En(e,n){return typeof n=="function"?n(e):n}function jl(e){var n=dt();return or(n,je,e)}function or(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var h=e.baseQueue,y=s.pending;if(y!==null){if(h!==null){var T=h.next;h.next=y.next,y.next=T}n.baseQueue=h=y,s.pending=null}if(y=e.baseState,h===null)e.memoizedState=y;else{n=h.next;var w=T=null,H=null,ee=n,ue=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Pe&de)===de:(Tn&de)===de){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===Ki&&(ue=!0);else if((Tn&ne)===ne){ee=ee.next,ne===Ki&&(ue=!0);continue}else de={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(w=H=de,T=y):H=H.next=de,ze.lanes|=ne,Xn|=ne;de=ee.action,Ci&&o(y,de),y=ee.hasEagerState?ee.eagerState:o(y,de)}else ne={lane:de,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(w=H=ne,T=y):H=H.next=ne,ze.lanes|=de,Xn|=de;ee=ee.next}while(ee!==null&&ee!==n);if(H===null?T=y:H.next=w,!Bt(y,e.memoizedState)&&(mt=!0,ue&&(o=Zi,o!==null)))throw o;e.memoizedState=y,e.baseState=T,e.baseQueue=H,s.lastRenderedState=y}return h===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function lr(e){var n=dt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,h=o.pending,y=n.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do y=e(y,T.action),T=T.next;while(T!==h);Bt(y,n.memoizedState)||(mt=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),o.lastRenderedState=y}return[y,s]}function gf(e,n,o){var s=ze,h=dt(),y=Fe;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=n();var T=!Bt((je||h).memoizedState,o);if(T&&(h.memoizedState=o,mt=!0),h=h.queue,rr(_f.bind(null,s,h,e),[e]),h.getSnapshot!==n||T||pt!==null&&pt.memoizedState.tag&1){if(s.flags|=2048,eo(9,{destroy:void 0},vf.bind(null,s,h,o,n),null),it===null)throw Error(a(349));y||(Tn&127)!==0||yf(s,n,o)}return o}function yf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ze.updateQueue,n===null?(n=Wl(),ze.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function vf(e,n,o,s){n.value=o,n.getSnapshot=s,Sf(n)&&Tf(e)}function _f(e,n,o){return o(function(){Sf(n)&&Tf(e)})}function Sf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Bt(e,o)}catch{return!0}}function Tf(e){var n=pi(e,2);n!==null&&Lt(n,e,2)}function ar(e){var n=Rt();if(typeof e=="function"){var o=e;if(e=o(),Ci){Yt(!0);try{o()}finally{Yt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},n}function Ef(e,n,o,s){return e.baseState=o,or(e,je,typeof s=="function"?s:En)}function xy(e,n,o,s,h){if(na(e))throw Error(a(485));if(e=n.action,e!==null){var y={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};J.T!==null?o(!0):y.isTransition=!1,s(y),o=n.pending,o===null?(y.next=n.pending=y,Cf(n,y)):(y.next=o.next,n.pending=o.next=y)}}function Cf(e,n){var o=n.action,s=n.payload,h=e.state;if(n.isTransition){var y=J.T,T={};J.T=T;try{var w=o(h,s),H=J.S;H!==null&&H(T,w),xf(e,n,w)}catch(ee){sr(e,n,ee)}finally{y!==null&&T.types!==null&&(y.types=T.types),J.T=y}}else try{y=o(h,s),xf(e,n,y)}catch(ee){sr(e,n,ee)}}function xf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Af(e,n,s)},function(s){return sr(e,n,s)}):Af(e,n,o)}function Af(e,n,o){n.status="fulfilled",n.value=o,bf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Cf(e,o)))}function sr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,bf(n),n=n.next;while(n!==s)}e.action=null}function bf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Nf(e,n){return n}function Rf(e,n){if(Fe){var o=it.formState;if(o!==null){e:{var s=ze;if(Fe){if(ot){t:{for(var h=ot,y=jt;h.nodeType!==8;){if(!y){h=null;break t}if(h=tn(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){ot=tn(h.nextSibling),s=h.data==="F!";break e}}Hn(s)}s=!1}s&&(n=o[0])}}return o=Rt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:n},o.queue=s,o=Kf.bind(null,ze,s),s.dispatch=o,s=ar(!1),y=hr.bind(null,ze,!1,s.queue),s=Rt(),h={state:n,dispatch:null,action:e,pending:null},s.queue=h,o=xy.bind(null,ze,h,y,o),h.dispatch=o,s.memoizedState=e,[n,o,!1]}function wf(e){var n=dt();return Mf(n,je,e)}function Mf(e,n,o){if(n=or(e,n,Nf)[0],e=jl(En)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Fo(n)}catch(T){throw T===Xi?Ol:T}else s=n;n=dt();var h=n.queue,y=h.dispatch;return o!==n.memoizedState&&(ze.flags|=2048,eo(9,{destroy:void 0},Ay.bind(null,h,o),null)),[s,y,e]}function Ay(e,n){e.action=n}function If(e){var n=dt(),o=je;if(o!==null)return Mf(n,o,e);dt(),n=n.memoizedState,o=dt();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function eo(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=ze.updateQueue,n===null&&(n=Wl(),ze.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Df(){return dt().memoizedState}function ea(e,n,o,s){var h=Rt();ze.flags|=e,h.memoizedState=eo(1|n,{destroy:void 0},o,s===void 0?null:s)}function ta(e,n,o,s){var h=dt();s=s===void 0?null:s;var y=h.memoizedState.inst;je!==null&&s!==null&&$s(s,je.memoizedState.deps)?h.memoizedState=eo(n,y,o,s):(ze.flags|=e,h.memoizedState=eo(1|n,y,o,s))}function Uf(e,n){ea(8390656,8,e,n)}function rr(e,n){ta(2048,8,e,n)}function by(e){ze.flags|=4;var n=ze.updateQueue;if(n===null)n=Wl(),ze.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function kf(e){var n=dt().memoizedState;return by({ref:n,nextImpl:e}),function(){if((Xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function zf(e,n){return ta(4,2,e,n)}function Lf(e,n){return ta(4,4,e,n)}function Bf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qf(e,n,o){o=o!=null?o.concat([e]):null,ta(4,4,Bf.bind(null,n,e),o)}function ur(){}function Gf(e,n){var o=dt();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&$s(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Hf(e,n){var o=dt();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&$s(n,s[1]))return s[0];if(s=e(),Ci){Yt(!0);try{e()}finally{Yt(!1)}}return o.memoizedState=[s,n],s}function cr(e,n,o){return o===void 0||(Tn&1073741824)!==0&&(Pe&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Pd(),ze.lanes|=e,Xn|=e,o)}function Pf(e,n,o,s){return Bt(o,n)?o:Wi.current!==null?(e=cr(e,o,s),Bt(e,n)||(mt=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(Pe&261930)===0?(mt=!0,e.memoizedState=o):(e=Pd(),ze.lanes|=e,Xn|=e,n)}function Vf(e,n,o,s,h){var y=Z.p;Z.p=y!==0&&8>y?y:8;var T=J.T,w={};J.T=w,hr(e,!1,n,o);try{var H=h(),ee=J.S;if(ee!==null&&ee(w,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ue=Ty(H,s);Yo(e,n,ue,Ot(e))}else Yo(e,n,s,Ot(e))}catch(de){Yo(e,n,{then:function(){},status:"rejected",reason:de},Ot())}finally{Z.p=y,T!==null&&w.types!==null&&(T.types=w.types),J.T=T}}function Ny(){}function fr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var h=Of(e).queue;Vf(e,h,n,ve,o===null?Ny:function(){return Ff(e),o(s)})}function Of(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:ve},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ff(e){var n=Of(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},Ot())}function dr(){return Ct(rl)}function Yf(){return dt().memoizedState}function Jf(){return dt().memoizedState}function Ry(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Ot();e=On(o);var s=Fn(n,e,o);s!==null&&(Lt(s,n,o),Ho(s,n,o)),n={cache:Ps()},e.payload=n;return}n=n.return}}function wy(e,n,o){var s=Ot();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},na(e)?Zf(n,o):(o=Ms(e,n,o,s),o!==null&&(Lt(o,e,s),Xf(o,n,s)))}function Kf(e,n,o){var s=Ot();Yo(e,n,o,s)}function Yo(e,n,o,s){var h={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(na(e))Zf(n,h);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var T=n.lastRenderedState,w=y(T,o);if(h.hasEagerState=!0,h.eagerState=w,Bt(w,T))return Ll(e,n,h,0),it===null&&zl(),!1}catch{}finally{}if(o=Ms(e,n,h,s),o!==null)return Lt(o,e,s),Xf(o,n,s),!0}return!1}function hr(e,n,o,s){if(s={lane:2,revertLane:Yr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},na(e)){if(n)throw Error(a(479))}else n=Ms(e,o,s,2),n!==null&&Lt(n,e,2)}function na(e){var n=e.alternate;return e===ze||n!==null&&n===ze}function Zf(e,n){$i=Xl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Xf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,ju(e,o)}}var Jo={readContext:Ct,use:$l,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Jo.useEffectEvent=ut;var Qf={readContext:Ct,use:$l,useCallback:function(e,n){return Rt().memoizedState=[e,n===void 0?null:n],e},useContext:Ct,useEffect:Uf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,ea(4194308,4,Bf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return ea(4194308,4,e,n)},useInsertionEffect:function(e,n){ea(4,2,e,n)},useMemo:function(e,n){var o=Rt();n=n===void 0?null:n;var s=e();if(Ci){Yt(!0);try{e()}finally{Yt(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=Rt();if(o!==void 0){var h=o(n);if(Ci){Yt(!0);try{o(n)}finally{Yt(!1)}}}else h=n;return s.memoizedState=s.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},s.queue=e,e=e.dispatch=wy.bind(null,ze,e),[s.memoizedState,e]},useRef:function(e){var n=Rt();return e={current:e},n.memoizedState=e},useState:function(e){e=ar(e);var n=e.queue,o=Kf.bind(null,ze,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:ur,useDeferredValue:function(e,n){var o=Rt();return cr(o,e,n)},useTransition:function(){var e=ar(!1);return e=Vf.bind(null,ze,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=ze,h=Rt();if(Fe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),it===null)throw Error(a(349));(Pe&127)!==0||yf(s,n,o)}h.memoizedState=o;var y={value:o,getSnapshot:n};return h.queue=y,Uf(_f.bind(null,s,y,e),[e]),s.flags|=2048,eo(9,{destroy:void 0},vf.bind(null,s,y,o,n),null),o},useId:function(){var e=Rt(),n=it.identifierPrefix;if(Fe){var o=fn,s=cn;o=(s&~(1<<32-rt(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Ql++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Ey++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:dr,useFormState:Rf,useActionState:Rf,useOptimistic:function(e){var n=Rt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=hr.bind(null,ze,!0,o),o.dispatch=n,[e,n]},useMemoCache:ir,useCacheRefresh:function(){return Rt().memoizedState=Ry.bind(null,ze)},useEffectEvent:function(e){var n=Rt(),o={impl:e};return n.memoizedState=o,function(){if((Xe&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},pr={readContext:Ct,use:$l,useCallback:Gf,useContext:Ct,useEffect:rr,useImperativeHandle:qf,useInsertionEffect:zf,useLayoutEffect:Lf,useMemo:Hf,useReducer:jl,useRef:Df,useState:function(){return jl(En)},useDebugValue:ur,useDeferredValue:function(e,n){var o=dt();return Pf(o,je.memoizedState,e,n)},useTransition:function(){var e=jl(En)[0],n=dt().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:gf,useId:Yf,useHostTransitionStatus:dr,useFormState:wf,useActionState:wf,useOptimistic:function(e,n){var o=dt();return Ef(o,je,e,n)},useMemoCache:ir,useCacheRefresh:Jf};pr.useEffectEvent=kf;var Wf={readContext:Ct,use:$l,useCallback:Gf,useContext:Ct,useEffect:rr,useImperativeHandle:qf,useInsertionEffect:zf,useLayoutEffect:Lf,useMemo:Hf,useReducer:lr,useRef:Df,useState:function(){return lr(En)},useDebugValue:ur,useDeferredValue:function(e,n){var o=dt();return je===null?cr(o,e,n):Pf(o,je.memoizedState,e,n)},useTransition:function(){var e=lr(En)[0],n=dt().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:gf,useId:Yf,useHostTransitionStatus:dr,useFormState:If,useActionState:If,useOptimistic:function(e,n){var o=dt();return je!==null?Ef(o,je,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:ir,useCacheRefresh:Jf};Wf.useEffectEvent=kf;function mr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:_({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var gr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Ot(),h=On(s);h.payload=n,o!=null&&(h.callback=o),n=Fn(e,h,s),n!==null&&(Lt(n,e,s),Ho(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Ot(),h=On(s);h.tag=1,h.payload=n,o!=null&&(h.callback=o),n=Fn(e,h,s),n!==null&&(Lt(n,e,s),Ho(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Ot(),s=On(o);s.tag=2,n!=null&&(s.callback=n),n=Fn(e,s,o),n!==null&&(Lt(n,e,o),Ho(n,e,o))}};function $f(e,n,o,s,h,y,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,y,T):n.prototype&&n.prototype.isPureReactComponent?!Do(o,s)||!Do(h,y):!0}function jf(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&gr.enqueueReplaceState(n,n.state,null)}function xi(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=_({},o));for(var h in e)o[h]===void 0&&(o[h]=e[h])}return o}function ed(e){kl(e)}function td(e){console.error(e)}function nd(e){kl(e)}function ia(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function id(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yr(e,n,o){return o=On(o),o.tag=3,o.payload={element:null},o.callback=function(){ia(e,n)},o}function od(e){return e=On(e),e.tag=3,e}function ld(e,n,o,s){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var y=s.value;e.payload=function(){return h(y)},e.callback=function(){id(n,o,s)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){id(n,o,s),typeof h!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})})}function My(e,n,o,s,h){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Ji(n,o,h,!0),o=Gt.current,o!==null){switch(o.tag){case 31:case 13:return en===null?ma():o.alternate===null&&ct===0&&(ct=3),o.flags&=-257,o.flags|=65536,o.lanes=h,s===Fl?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Vr(e,s,h)),!1;case 22:return o.flags|=65536,s===Fl?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Vr(e,s,h)),!1}throw Error(a(435,o.tag))}return Vr(e,s,h),ma(),!1}if(Fe)return n=Gt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,s!==Ls&&(e=Error(a(422),{cause:s}),zo(Qt(e,o)))):(s!==Ls&&(n=Error(a(423),{cause:s}),zo(Qt(n,o))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,s=Qt(s,o),h=yr(e.stateNode,s,h),Ks(e,h),ct!==4&&(ct=2)),!1;var y=Error(a(520),{cause:s});if(y=Qt(y,o),el===null?el=[y]:el.push(y),ct!==4&&(ct=2),n===null)return!0;s=Qt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=h&-h,o.lanes|=e,e=yr(o.stateNode,s,e),Ks(o,e),!1;case 1:if(n=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qn===null||!Qn.has(y))))return o.flags|=65536,h&=-h,o.lanes|=h,h=od(h),ld(h,e,o,s),Ks(o,h),!1}o=o.return}while(o!==null);return!1}var vr=Error(a(461)),mt=!1;function xt(e,n,o,s){n.child=e===null?uf(n,null,o,s):Ei(n,e.child,o,s)}function ad(e,n,o,s,h){o=o.render;var y=n.ref;if("ref"in s){var T={};for(var w in s)w!=="ref"&&(T[w]=s[w])}else T=s;return vi(n),s=js(e,n,o,T,y,h),w=er(),e!==null&&!mt?(tr(e,n,h),Cn(e,n,h)):(Fe&&w&&ks(n),n.flags|=1,xt(e,n,s,h),n.child)}function sd(e,n,o,s,h){if(e===null){var y=o.type;return typeof y=="function"&&!Is(y)&&y.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=y,rd(e,n,y,s,h)):(e=ql(o.type,null,s,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,!br(e,h)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:Do,o(T,s)&&e.ref===n.ref)return Cn(e,n,h)}return n.flags|=1,e=yn(y,s),e.ref=n.ref,e.return=n,n.child=e}function rd(e,n,o,s,h){if(e!==null){var y=e.memoizedProps;if(Do(y,s)&&e.ref===n.ref)if(mt=!1,n.pendingProps=s=y,br(e,h))(e.flags&131072)!==0&&(mt=!0);else return n.lanes=e.lanes,Cn(e,n,h)}return _r(e,n,o,s,h)}function ud(e,n,o,s){var h=s.children,y=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,e!==null){for(s=n.child=e.child,h=0;s!==null;)h=h|s.lanes|s.childLanes,s=s.sibling;s=h&~y}else s=0,n.child=null;return cd(e,n,y,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vl(n,y!==null?y.cachePool:null),y!==null?df(n,y):Xs(),hf(n);else return s=n.lanes=536870912,cd(e,n,y!==null?y.baseLanes|o:o,o,s)}else y!==null?(Vl(n,y.cachePool),df(n,y),Jn(),n.memoizedState=null):(e!==null&&Vl(n,null),Xs(),Jn());return xt(e,n,h,o),n.child}function Ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cd(e,n,o,s,h){var y=Os();return y=y===null?null:{parent:ht._currentValue,pool:y},n.memoizedState={baseLanes:o,cachePool:y},e!==null&&Vl(n,null),Xs(),hf(n),e!==null&&Ji(e,n,s,!0),n.childLanes=h,null}function oa(e,n){return n=aa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function fd(e,n,o){return Ei(n,e.child,null,o),e=oa(n,n.pendingProps),e.flags|=2,Ht(n),n.memoizedState=null,e}function Iy(e,n,o){var s=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Fe){if(s.mode==="hidden")return e=oa(n,s),n.lanes=536870912,Ko(null,e);if(Ws(n),(e=ot)?(e=Ch(e,jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},o=Kc(e),o.return=n,n.child=o,Et=n,ot=null)):e=null,e===null)throw Hn(n);return n.lanes=536870912,null}return oa(n,s)}var y=e.memoizedState;if(y!==null){var T=y.dehydrated;if(Ws(n),h)if(n.flags&256)n.flags&=-257,n=fd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(mt||Ji(e,n,o,!1),h=(o&e.childLanes)!==0,mt||h){if(s=it,s!==null&&(T=ec(s,o),T!==0&&T!==y.retryLane))throw y.retryLane=T,pi(e,T),Lt(s,e,T),vr;ma(),n=fd(e,n,o)}else e=y.treeContext,ot=tn(T.nextSibling),Et=n,Fe=!0,Gn=null,jt=!1,e!==null&&Qc(n,e),n=oa(n,s),n.flags|=4096;return n}return e=yn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function la(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function _r(e,n,o,s,h){return vi(n),o=js(e,n,o,s,void 0,h),s=er(),e!==null&&!mt?(tr(e,n,h),Cn(e,n,h)):(Fe&&s&&ks(n),n.flags|=1,xt(e,n,o,h),n.child)}function dd(e,n,o,s,h,y){return vi(n),n.updateQueue=null,o=mf(n,s,o,h),pf(e),s=er(),e!==null&&!mt?(tr(e,n,y),Cn(e,n,y)):(Fe&&s&&ks(n),n.flags|=1,xt(e,n,o,y),n.child)}function hd(e,n,o,s,h){if(vi(n),n.stateNode===null){var y=Vi,T=o.contextType;typeof T=="object"&&T!==null&&(y=Ct(T)),y=new o(s,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gr,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=s,y.state=n.memoizedState,y.refs={},Ys(n),T=o.contextType,y.context=typeof T=="object"&&T!==null?Ct(T):Vi,y.state=n.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(mr(n,o,T,s),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&gr.enqueueReplaceState(y,y.state,null),Vo(n,s,y,h),Po(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){y=n.stateNode;var w=n.memoizedProps,H=xi(o,w);y.props=H;var ee=y.context,ue=o.contextType;T=Vi,typeof ue=="object"&&ue!==null&&(T=Ct(ue));var de=o.getDerivedStateFromProps;ue=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||ee!==T)&&jf(n,y,s,T),Vn=!1;var ne=n.memoizedState;y.state=ne,Vo(n,s,y,h),Po(),ee=n.memoizedState,w||ne!==ee||Vn?(typeof de=="function"&&(mr(n,o,de,s),ee=n.memoizedState),(H=Vn||$f(n,o,H,s,ne,ee,T))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=ee),y.props=s,y.state=ee,y.context=T,s=H):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{y=n.stateNode,Js(e,n),T=n.memoizedProps,ue=xi(o,T),y.props=ue,de=n.pendingProps,ne=y.context,ee=o.contextType,H=Vi,typeof ee=="object"&&ee!==null&&(H=Ct(ee)),w=o.getDerivedStateFromProps,(ee=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==de||ne!==H)&&jf(n,y,s,H),Vn=!1,ne=n.memoizedState,y.state=ne,Vo(n,s,y,h),Po();var le=n.memoizedState;T!==de||ne!==le||Vn||e!==null&&e.dependencies!==null&&Hl(e.dependencies)?(typeof w=="function"&&(mr(n,o,w,s),le=n.memoizedState),(ue=Vn||$f(n,o,ue,s,ne,le,H)||e!==null&&e.dependencies!==null&&Hl(e.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,le,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,le,H)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=le),y.props=s,y.state=le,y.context=H,s=ue):(typeof y.componentDidUpdate!="function"||T===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),s=!1)}return y=s,la(e,n),s=(n.flags&128)!==0,y||s?(y=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,e!==null&&s?(n.child=Ei(n,e.child,null,h),n.child=Ei(n,null,o,h)):xt(e,n,o,h),n.memoizedState=y.state,e=n.child):e=Cn(e,n,h),e}function pd(e,n,o,s){return gi(),n.flags|=256,xt(e,n,o,s),n.child}var Sr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tr(e){return{baseLanes:e,cachePool:nf()}}function Er(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Vt),e}function md(e,n,o){var s=n.pendingProps,h=!1,y=(n.flags&128)!==0,T;if((T=y)||(T=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Fe){if(h?Yn(n):Jn(),(e=ot)?(e=Ch(e,jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qn!==null?{id:cn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},o=Kc(e),o.return=n,n.child=o,Et=n,ot=null)):e=null,e===null)throw Hn(n);return ou(e)?n.lanes=32:n.lanes=536870912,null}var w=s.children;return s=s.fallback,h?(Jn(),h=n.mode,w=aa({mode:"hidden",children:w},h),s=mi(s,h,o,null),w.return=n,s.return=n,w.sibling=s,n.child=w,s=n.child,s.memoizedState=Tr(o),s.childLanes=Er(e,T,o),n.memoizedState=Sr,Ko(null,s)):(Yn(n),Cr(n,w))}var H=e.memoizedState;if(H!==null&&(w=H.dehydrated,w!==null)){if(y)n.flags&256?(Yn(n),n.flags&=-257,n=xr(e,n,o)):n.memoizedState!==null?(Jn(),n.child=e.child,n.flags|=128,n=null):(Jn(),w=s.fallback,h=n.mode,s=aa({mode:"visible",children:s.children},h),w=mi(w,h,o,null),w.flags|=2,s.return=n,w.return=n,s.sibling=w,n.child=s,Ei(n,e.child,null,o),s=n.child,s.memoizedState=Tr(o),s.childLanes=Er(e,T,o),n.memoizedState=Sr,n=Ko(null,s));else if(Yn(n),ou(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var ee=T.dgst;T=ee,s=Error(a(419)),s.stack="",s.digest=T,zo({value:s,source:null,stack:null}),n=xr(e,n,o)}else if(mt||Ji(e,n,o,!1),T=(o&e.childLanes)!==0,mt||T){if(T=it,T!==null&&(s=ec(T,o),s!==0&&s!==H.retryLane))throw H.retryLane=s,pi(e,s),Lt(T,e,s),vr;iu(w)||ma(),n=xr(e,n,o)}else iu(w)?(n.flags|=192,n.child=e.child,n=null):(e=H.treeContext,ot=tn(w.nextSibling),Et=n,Fe=!0,Gn=null,jt=!1,e!==null&&Qc(n,e),n=Cr(n,s.children),n.flags|=4096);return n}return h?(Jn(),w=s.fallback,h=n.mode,H=e.child,ee=H.sibling,s=yn(H,{mode:"hidden",children:s.children}),s.subtreeFlags=H.subtreeFlags&65011712,ee!==null?w=yn(ee,w):(w=mi(w,h,o,null),w.flags|=2),w.return=n,s.return=n,s.sibling=w,n.child=s,Ko(null,s),s=n.child,w=e.child.memoizedState,w===null?w=Tr(o):(h=w.cachePool,h!==null?(H=ht._currentValue,h=h.parent!==H?{parent:H,pool:H}:h):h=nf(),w={baseLanes:w.baseLanes|o,cachePool:h}),s.memoizedState=w,s.childLanes=Er(e,T,o),n.memoizedState=Sr,Ko(e.child,s)):(Yn(n),o=e.child,e=o.sibling,o=yn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=o,n.memoizedState=null,o)}function Cr(e,n){return n=aa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function aa(e,n){return e=qt(22,e,null,n),e.lanes=0,e}function xr(e,n,o){return Ei(n,e.child,null,o),e=Cr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,o)}function Ar(e,n,o,s,h,y){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:h,treeForkCount:y}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=o,T.tailMode=h,T.treeForkCount=y)}function yd(e,n,o){var s=n.pendingProps,h=s.revealOrder,y=s.tail;s=s.children;var T=ft.current,w=(T&2)!==0;if(w?(T=T&1|2,n.flags|=128):T&=1,V(ft,T),xt(e,n,s,o),s=Fe?ko:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gd(e,o,n);else if(e.tag===19)gd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(o=n.child,h=null;o!==null;)e=o.alternate,e!==null&&Zl(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),Ar(n,!1,h,o,y,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Zl(e)===null){n.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}Ar(n,!0,o,null,y,s);break;case"together":Ar(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function Cn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Xn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Ji(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=yn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=yn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function br(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Hl(e)))}function Dy(e,n,o){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),Pn(n,ht,e.memoizedState.cache),gi();break;case 27:case 5:Ue(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:Pn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ws(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Yn(n),n.flags|=128,null):(o&n.child.childLanes)!==0?md(e,n,o):(Yn(n),e=Cn(e,n,o),e!==null?e.sibling:null);Yn(n);break;case 19:var h=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Ji(e,n,o,!1),s=(o&n.childLanes)!==0),h){if(s)return yd(e,n,o);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),V(ft,ft.current),s)break;return null;case 22:return n.lanes=0,ud(e,n,o,n.pendingProps);case 24:Pn(n,ht,e.memoizedState.cache)}return Cn(e,n,o)}function vd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)mt=!0;else{if(!br(e,o)&&(n.flags&128)===0)return mt=!1,Dy(e,n,o);mt=(e.flags&131072)!==0}else mt=!1,Fe&&(n.flags&1048576)!==0&&Xc(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Si(n.elementType),n.type=e,typeof e=="function")Is(e)?(s=xi(e,s),n.tag=1,n=hd(null,n,e,s,o)):(n.tag=0,n=_r(null,n,e,s,o));else{if(e!=null){var h=e.$$typeof;if(h===q){n.tag=11,n=ad(null,n,e,s,o);break e}else if(h===P){n.tag=14,n=sd(null,n,e,s,o);break e}}throw n=N(e)||e,Error(a(306,n,""))}}return n;case 0:return _r(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,h=xi(s,n.pendingProps),hd(e,n,s,h,o);case 3:e:{if(Se(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var y=n.memoizedState;h=y.element,Js(e,n),Vo(n,s,null,o);var T=n.memoizedState;if(s=T.cache,Pn(n,ht,s),s!==y.cache&&Hs(n,[ht],o,!0),Po(),s=T.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=pd(e,n,s,o);break e}else if(s!==h){h=Qt(Error(a(424)),n),zo(h),n=pd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ot=tn(e.firstChild),Et=n,Fe=!0,Gn=null,jt=!0,o=uf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(gi(),s===h){n=Cn(e,n,o);break e}xt(e,n,s,o)}n=n.child}return n;case 26:return la(e,n),e===null?(o=wh(n.type,null,n.pendingProps,null))?n.memoizedState=o:Fe||(o=n.type,e=n.pendingProps,s=Ea(he.current).createElement(o),s[Tt]=n,s[Mt]=e,At(s,o,e),_t(s),n.stateNode=s):n.memoizedState=wh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ue(n),e===null&&Fe&&(s=n.stateNode=bh(n.type,n.pendingProps,he.current),Et=n,jt=!0,h=ot,ei(n.type)?(lu=h,ot=tn(s.firstChild)):ot=h),xt(e,n,n.pendingProps.children,o),la(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Fe&&((h=s=ot)&&(s=r0(s,n.type,n.pendingProps,jt),s!==null?(n.stateNode=s,Et=n,ot=tn(s.firstChild),jt=!1,h=!0):h=!1),h||Hn(n)),Ue(n),h=n.type,y=n.pendingProps,T=e!==null?e.memoizedProps:null,s=y.children,eu(h,y)?s=null:T!==null&&eu(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=js(e,n,Cy,null,null,o),rl._currentValue=h),la(e,n),xt(e,n,s,o),n.child;case 6:return e===null&&Fe&&((e=o=ot)&&(o=u0(o,n.pendingProps,jt),o!==null?(n.stateNode=o,Et=n,ot=null,e=!0):e=!1),e||Hn(n)),null;case 13:return md(e,n,o);case 4:return Se(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Ei(n,null,s,o):xt(e,n,s,o),n.child;case 11:return ad(e,n,n.type,n.pendingProps,o);case 7:return xt(e,n,n.pendingProps,o),n.child;case 8:return xt(e,n,n.pendingProps.children,o),n.child;case 12:return xt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Pn(n,n.type,s.value),xt(e,n,s.children,o),n.child;case 9:return h=n.type._context,s=n.pendingProps.children,vi(n),h=Ct(h),s=s(h),n.flags|=1,xt(e,n,s,o),n.child;case 14:return sd(e,n,n.type,n.pendingProps,o);case 15:return rd(e,n,n.type,n.pendingProps,o);case 19:return yd(e,n,o);case 31:return Iy(e,n,o);case 22:return ud(e,n,o,n.pendingProps);case 24:return vi(n),s=Ct(ht),e===null?(h=Os(),h===null&&(h=it,y=Ps(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=o),h=y),n.memoizedState={parent:s,cache:h},Ys(n),Pn(n,ht,h)):((e.lanes&o)!==0&&(Js(e,n),Vo(n,null,null,o),Po()),h=e.memoizedState,y=n.memoizedState,h.parent!==s?(h={parent:s,cache:s},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Pn(n,ht,s)):(s=y.cache,Pn(n,ht,s),s!==h.cache&&Hs(n,[ht],o,!0))),xt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function xn(e){e.flags|=4}function Nr(e,n,o,s,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Yd())e.flags|=8192;else throw Ti=Fl,Fs}else e.flags&=-16777217}function _d(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kh(n))if(Yd())e.flags|=8192;else throw Ti=Fl,Fs}function sa(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wu():536870912,e.lanes|=n,oo|=n)}function Zo(e,n){if(!Fe)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,s|=h.subtreeFlags&65011712,s|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function Uy(e,n,o){var s=n.pendingProps;switch(zs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Sn(ht),me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Yi(n)?xn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bs())),lt(n),null;case 26:var h=n.type,y=n.memoizedState;return e===null?(xn(n),y!==null?(lt(n),_d(n,y)):(lt(n),Nr(n,h,null,s,o))):y?y!==e.memoizedState?(xn(n),lt(n),_d(n,y)):(lt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&xn(n),lt(n),Nr(n,h,e,s,o)),null;case 27:if(be(n),o=he.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&xn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return lt(n),null}e=O.current,Yi(n)?Wc(n):(e=bh(h,s,o),n.stateNode=e,xn(n))}return lt(n),null;case 5:if(be(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&xn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return lt(n),null}if(y=O.current,Yi(n))Wc(n);else{var T=Ea(he.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?y.multiple=!0:s.size&&(y.size=s.size);break;default:y=typeof s.is=="string"?T.createElement(h,{is:s.is}):T.createElement(h)}}y[Tt]=n,y[Mt]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=y;e:switch(At(y,h,s),h){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&xn(n)}}return lt(n),Nr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&xn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=he.current,Yi(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,h=Et,h!==null)switch(h.tag){case 27:case 5:s=h.memoizedProps}e[Tt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||mh(e.nodeValue,o)),e||Hn(n,!0)}else e=Ea(e).createTextNode(s),e[Tt]=n,n.stateNode=e}return lt(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Yi(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Tt]=n}else gi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),e=!1}else o=Bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Ht(n),n):(Ht(n),null);if((n.flags&128)!==0)throw Error(a(558))}return lt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Yi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Tt]=n}else gi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=Bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ht(n),n):(Ht(n),null)}return Ht(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,h=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(h=s.alternate.memoizedState.cachePool.pool),y=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==h&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),sa(n,n.updateQueue),lt(n),null);case 4:return me(),e===null&&Xr(n.stateNode.containerInfo),lt(n),null;case 10:return Sn(n.type),lt(n),null;case 19:if(L(ft),s=n.memoizedState,s===null)return lt(n),null;if(h=(n.flags&128)!==0,y=s.rendering,y===null)if(h)Zo(s,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=Zl(e),y!==null){for(n.flags|=128,Zo(s,!1),e=y.updateQueue,n.updateQueue=e,sa(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Jc(o,e),o=o.sibling;return V(ft,ft.current&1|2),Fe&&vn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&xe()>da&&(n.flags|=128,h=!0,Zo(s,!1),n.lanes=4194304)}else{if(!h)if(e=Zl(y),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,sa(n,e),Zo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!y.alternate&&!Fe)return lt(n),null}else 2*xe()-s.renderingStartTime>da&&o!==536870912&&(n.flags|=128,h=!0,Zo(s,!1),n.lanes=4194304);s.isBackwards?(y.sibling=n.child,n.child=y):(e=s.last,e!==null?e.sibling=y:n.child=y,s.last=y)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,o=ft.current,V(ft,h?o&1|2:o&1),Fe&&vn(n,s.treeForkCount),e):(lt(n),null);case 22:case 23:return Ht(n),Qs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),o=n.updateQueue,o!==null&&sa(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&L(_i),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Sn(ht),lt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ky(e,n){switch(zs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Sn(ht),me(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return be(n),null;case 31:if(n.memoizedState!==null){if(Ht(n),n.alternate===null)throw Error(a(340));gi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ht(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));gi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(ft),null;case 4:return me(),null;case 10:return Sn(n.type),null;case 22:case 23:return Ht(n),Qs(),e!==null&&L(_i),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Sn(ht),null;case 25:return null;default:return null}}function Sd(e,n){switch(zs(n),n.tag){case 3:Sn(ht),me();break;case 26:case 27:case 5:be(n);break;case 4:me();break;case 31:n.memoizedState!==null&&Ht(n);break;case 13:Ht(n);break;case 19:L(ft);break;case 10:Sn(n.type);break;case 22:case 23:Ht(n),Qs(),e!==null&&L(_i);break;case 24:Sn(ht)}}function Xo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var h=s.next;o=h;do{if((o.tag&e)===e){s=void 0;var y=o.create,T=o.inst;s=y(),T.destroy=s}o=o.next}while(o!==h)}}catch(w){$e(n,n.return,w)}}function Kn(e,n,o){try{var s=n.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var y=h.next;s=y;do{if((s.tag&e)===e){var T=s.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,h=n;var H=o,ee=w;try{ee()}catch(ue){$e(h,H,ue)}}}s=s.next}while(s!==y)}}catch(ue){$e(n,n.return,ue)}}function Td(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{ff(n,o)}catch(s){$e(e,e.return,s)}}}function Ed(e,n,o){o.props=xi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){$e(e,n,s)}}function Qo(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(h){$e(e,n,h)}}function dn(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(h){$e(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){$e(e,n,h)}else o.current=null}function Cd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(h){$e(e,e.return,h)}}function Rr(e,n,o){try{var s=e.stateNode;n0(s,e.type,o,n),s[Mt]=n}catch(h){$e(e,e.return,h)}}function xd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ei(e.type)||e.tag===4}function wr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=mn));else if(s!==4&&(s===27&&ei(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Mr(e,n,o),e=e.sibling;e!==null;)Mr(e,n,o),e=e.sibling}function ra(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&ei(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(ra(e,n,o),e=e.sibling;e!==null;)ra(e,n,o),e=e.sibling}function Ad(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);At(n,s,o),n[Tt]=e,n[Mt]=o}catch(y){$e(e,e.return,y)}}var An=!1,gt=!1,Ir=!1,bd=typeof WeakSet=="function"?WeakSet:Set,St=null;function zy(e,n){if(e=e.containerInfo,$r=wa,e=Bc(e),xs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var h=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,w=-1,H=-1,ee=0,ue=0,de=e,ne=null;t:for(;;){for(var le;de!==o||h!==0&&de.nodeType!==3||(w=T+h),de!==y||s!==0&&de.nodeType!==3||(H=T+s),de.nodeType===3&&(T+=de.nodeValue.length),(le=de.firstChild)!==null;)ne=de,de=le;for(;;){if(de===e)break t;if(ne===o&&++ee===h&&(w=T),ne===y&&++ue===s&&(H=T),(le=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=le}o=w===-1||H===-1?null:{start:w,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(jr={focusedElem:e,selectionRange:o},wa=!1,St=n;St!==null;)if(n=St,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,St=e;else for(;St!==null;){switch(n=St,y=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)h=e[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,o=n,h=y.memoizedProps,y=y.memoizedState,s=o.stateNode;try{var Ne=xi(o.type,h);e=s.getSnapshotBeforeUpdate(Ne,y),s.__reactInternalSnapshotBeforeUpdate=e}catch(De){$e(o,o.return,De)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)nu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,St=e;break}St=n.return}}function Nd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:Nn(e,o),s&4&&Xo(5,o);break;case 1:if(Nn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(T){$e(o,o.return,T)}else{var h=xi(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){$e(o,o.return,T)}}s&64&&Td(o),s&512&&Qo(o,o.return);break;case 3:if(Nn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{ff(e,n)}catch(T){$e(o,o.return,T)}}break;case 27:n===null&&s&4&&Ad(o);case 26:case 5:Nn(e,o),n===null&&s&4&&Cd(o),s&512&&Qo(o,o.return);break;case 12:Nn(e,o);break;case 31:Nn(e,o),s&4&&Md(e,o);break;case 13:Nn(e,o),s&4&&Id(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Fy.bind(null,o),c0(e,o))));break;case 22:if(s=o.memoizedState!==null||An,!s){n=n!==null&&n.memoizedState!==null||gt,h=An;var y=gt;An=s,(gt=n)&&!y?Rn(e,o,(o.subtreeFlags&8772)!==0):Nn(e,o),An=h,gt=y}break;case 30:break;default:Nn(e,o)}}function Rd(e){var n=e.alternate;n!==null&&(e.alternate=null,Rd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ss(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var st=null,Dt=!1;function bn(e,n,o){for(o=o.child;o!==null;)wd(e,n,o),o=o.sibling}function wd(e,n,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(nt,o)}catch{}switch(o.tag){case 26:gt||dn(o,n),bn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gt||dn(o,n);var s=st,h=Dt;ei(o.type)&&(st=o.stateNode,Dt=!1),bn(e,n,o),ll(o.stateNode),st=s,Dt=h;break;case 5:gt||dn(o,n);case 6:if(s=st,h=Dt,st=null,bn(e,n,o),st=s,Dt=h,st!==null)if(Dt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(o.stateNode)}catch(y){$e(o,n,y)}else try{st.removeChild(o.stateNode)}catch(y){$e(o,n,y)}break;case 18:st!==null&&(Dt?(e=st,Th(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),ho(e)):Th(st,o.stateNode));break;case 4:s=st,h=Dt,st=o.stateNode.containerInfo,Dt=!0,bn(e,n,o),st=s,Dt=h;break;case 0:case 11:case 14:case 15:Kn(2,o,n),gt||Kn(4,o,n),bn(e,n,o);break;case 1:gt||(dn(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Ed(o,n,s)),bn(e,n,o);break;case 21:bn(e,n,o);break;case 22:gt=(s=gt)||o.memoizedState!==null,bn(e,n,o),gt=s;break;default:bn(e,n,o)}}function Md(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ho(e)}catch(o){$e(n,n.return,o)}}}function Id(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ho(e)}catch(o){$e(n,n.return,o)}}function Ly(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new bd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new bd),n;default:throw Error(a(435,e.tag))}}function ua(e,n){var o=Ly(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var h=Yy.bind(null,e,s);s.then(h,h)}})}function Ut(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var h=o[s],y=e,T=n,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(ei(w.type)){st=w.stateNode,Dt=!1;break e}break;case 5:st=w.stateNode,Dt=!1;break e;case 3:case 4:st=w.stateNode.containerInfo,Dt=!0;break e}w=w.return}if(st===null)throw Error(a(160));wd(y,T,h),st=null,Dt=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dd(n,e),n=n.sibling}var an=null;function Dd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(n,e),kt(e),s&4&&(Kn(3,e,e.return),Xo(3,e),Kn(5,e,e.return));break;case 1:Ut(n,e),kt(e),s&512&&(gt||o===null||dn(o,o.return)),s&64&&An&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var h=an;if(Ut(n,e),kt(e),s&512&&(gt||o===null||dn(o,o.return)),s&4){var y=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,h=h.ownerDocument||h;t:switch(s){case"title":y=h.getElementsByTagName("title")[0],(!y||y[Co]||y[Tt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(s),h.head.insertBefore(y,h.querySelector("head > title"))),At(y,s,o),y[Tt]=e,_t(y),s=y;break e;case"link":var T=Dh("link","href",h).get(s+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(y=T[w],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break t}}y=h.createElement(s),At(y,s,o),h.head.appendChild(y);break;case"meta":if(T=Dh("meta","content",h).get(s+(o.content||""))){for(w=0;w<T.length;w++)if(y=T[w],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break t}}y=h.createElement(s),At(y,s,o),h.head.appendChild(y);break;default:throw Error(a(468,s))}y[Tt]=e,_t(y),s=y}e.stateNode=s}else Uh(h,e.type,e.stateNode);else e.stateNode=Ih(h,s,e.memoizedProps);else y!==s?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,s===null?Uh(h,e.type,e.stateNode):Ih(h,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rr(e,e.memoizedProps,o.memoizedProps)}break;case 27:Ut(n,e),kt(e),s&512&&(gt||o===null||dn(o,o.return)),o!==null&&s&4&&Rr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Ut(n,e),kt(e),s&512&&(gt||o===null||dn(o,o.return)),e.flags&32){h=e.stateNode;try{zi(h,"")}catch(Ne){$e(e,e.return,Ne)}}s&4&&e.stateNode!=null&&(h=e.memoizedProps,Rr(e,h,o!==null?o.memoizedProps:h)),s&1024&&(Ir=!0);break;case 6:if(Ut(n,e),kt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(Ne){$e(e,e.return,Ne)}}break;case 3:if(Aa=null,h=an,an=Ca(n.containerInfo),Ut(n,e),an=h,kt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{ho(n.containerInfo)}catch(Ne){$e(e,e.return,Ne)}Ir&&(Ir=!1,Ud(e));break;case 4:s=an,an=Ca(e.stateNode.containerInfo),Ut(n,e),kt(e),an=s;break;case 12:Ut(n,e),kt(e);break;case 31:Ut(n,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 13:Ut(n,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(fa=xe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 22:h=e.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,ee=An,ue=gt;if(An=ee||h,gt=ue||H,Ut(n,e),gt=ue,An=ee,kt(e),s&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(o===null||H||An||gt||Ai(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){H=o=n;try{if(y=H.stateNode,h)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=H.stateNode;var de=H.memoizedProps.style,ne=de!=null&&de.hasOwnProperty("display")?de.display:null;w.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ne){$e(H,H.return,Ne)}}}else if(n.tag===6){if(o===null){H=n;try{H.stateNode.nodeValue=h?"":H.memoizedProps}catch(Ne){$e(H,H.return,Ne)}}}else if(n.tag===18){if(o===null){H=n;try{var le=H.stateNode;h?Eh(le,!0):Eh(H.stateNode,!1)}catch(Ne){$e(H,H.return,Ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,ua(e,o))));break;case 19:Ut(n,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 30:break;case 21:break;default:Ut(n,e),kt(e)}}function kt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(xd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var h=o.stateNode,y=wr(e);ra(e,y,h);break;case 5:var T=o.stateNode;o.flags&32&&(zi(T,""),o.flags&=-33);var w=wr(e);ra(e,w,T);break;case 3:case 4:var H=o.stateNode.containerInfo,ee=wr(e);Mr(e,ee,H);break;default:throw Error(a(161))}}catch(ue){$e(e,e.return,ue)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ud(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ud(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Nn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Nd(e,n.alternate,n),n=n.sibling}function Ai(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Kn(4,n,n.return),Ai(n);break;case 1:dn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Ed(n,n.return,o),Ai(n);break;case 27:ll(n.stateNode);case 26:case 5:dn(n,n.return),Ai(n);break;case 22:n.memoizedState===null&&Ai(n);break;case 30:Ai(n);break;default:Ai(n)}e=e.sibling}}function Rn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,h=e,y=n,T=y.flags;switch(y.tag){case 0:case 11:case 15:Rn(h,y,o),Xo(4,y);break;case 1:if(Rn(h,y,o),s=y,h=s.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ee){$e(s,s.return,ee)}if(s=y,h=s.updateQueue,h!==null){var w=s.stateNode;try{var H=h.shared.hiddenCallbacks;if(H!==null)for(h.shared.hiddenCallbacks=null,h=0;h<H.length;h++)cf(H[h],w)}catch(ee){$e(s,s.return,ee)}}o&&T&64&&Td(y),Qo(y,y.return);break;case 27:Ad(y);case 26:case 5:Rn(h,y,o),o&&s===null&&T&4&&Cd(y),Qo(y,y.return);break;case 12:Rn(h,y,o);break;case 31:Rn(h,y,o),o&&T&4&&Md(h,y);break;case 13:Rn(h,y,o),o&&T&4&&Id(h,y);break;case 22:y.memoizedState===null&&Rn(h,y,o),Qo(y,y.return);break;case 30:break;default:Rn(h,y,o)}n=n.sibling}}function Dr(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Lo(o))}function Ur(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function sn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kd(e,n,o,s),n=n.sibling}function kd(e,n,o,s){var h=n.flags;switch(n.tag){case 0:case 11:case 15:sn(e,n,o,s),h&2048&&Xo(9,n);break;case 1:sn(e,n,o,s);break;case 3:sn(e,n,o,s),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){sn(e,n,o,s),e=n.stateNode;try{var y=n.memoizedProps,T=y.id,w=y.onPostCommit;typeof w=="function"&&w(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){$e(n,n.return,H)}}else sn(e,n,o,s);break;case 31:sn(e,n,o,s);break;case 13:sn(e,n,o,s);break;case 23:break;case 22:y=n.stateNode,T=n.alternate,n.memoizedState!==null?y._visibility&2?sn(e,n,o,s):Wo(e,n):y._visibility&2?sn(e,n,o,s):(y._visibility|=2,to(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Dr(T,n);break;case 24:sn(e,n,o,s),h&2048&&Ur(n.alternate,n);break;default:sn(e,n,o,s)}}function to(e,n,o,s,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var y=e,T=n,w=o,H=s,ee=T.flags;switch(T.tag){case 0:case 11:case 15:to(y,T,w,H,h),Xo(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?to(y,T,w,H,h):Wo(y,T):(ue._visibility|=2,to(y,T,w,H,h)),h&&ee&2048&&Dr(T.alternate,T);break;case 24:to(y,T,w,H,h),h&&ee&2048&&Ur(T.alternate,T);break;default:to(y,T,w,H,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,h=s.flags;switch(s.tag){case 22:Wo(o,s),h&2048&&Dr(s.alternate,s);break;case 24:Wo(o,s),h&2048&&Ur(s.alternate,s);break;default:Wo(o,s)}n=n.sibling}}var $o=8192;function no(e,n,o){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)zd(e,n,o),e=e.sibling}function zd(e,n,o){switch(e.tag){case 26:no(e,n,o),e.flags&$o&&e.memoizedState!==null&&E0(o,an,e.memoizedState,e.memoizedProps);break;case 5:no(e,n,o);break;case 3:case 4:var s=an;an=Ca(e.stateNode.containerInfo),no(e,n,o),an=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=$o,$o=16777216,no(e,n,o),$o=s):no(e,n,o));break;default:no(e,n,o)}}function Ld(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];St=s,qd(s,e)}Ld(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bd(e),e=e.sibling}function Bd(e){switch(e.tag){case 0:case 11:case 15:jo(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:jo(e);break;case 12:jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ca(e)):jo(e);break;default:jo(e)}}function ca(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];St=s,qd(s,e)}Ld(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Kn(8,n,n.return),ca(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,ca(n));break;default:ca(n)}e=e.sibling}}function qd(e,n){for(;St!==null;){var o=St;switch(o.tag){case 0:case 11:case 15:Kn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Lo(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,St=s;else e:for(o=e;St!==null;){s=St;var h=s.sibling,y=s.return;if(Rd(s),s===o){St=null;break e}if(h!==null){h.return=y,St=h;break e}St=y}}}var By={getCacheForType:function(e){var n=Ct(ht),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Ct(ht).controller.signal}},qy=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,Ge=null,Pe=0,We=0,Pt=null,Zn=!1,io=!1,kr=!1,wn=0,ct=0,Xn=0,bi=0,zr=0,Vt=0,oo=0,el=null,zt=null,Lr=!1,fa=0,Gd=0,da=1/0,ha=null,Qn=null,yt=0,Wn=null,lo=null,Mn=0,Br=0,qr=null,Hd=null,tl=0,Gr=null;function Ot(){return(Xe&2)!==0&&Pe!==0?Pe&-Pe:J.T!==null?Yr():tc()}function Pd(){if(Vt===0)if((Pe&536870912)===0||Fe){var e=ui;ui<<=1,(ui&3932160)===0&&(ui=262144),Vt=e}else Vt=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Vt}function Lt(e,n,o){(e===it&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(ao(e,0),$n(e,Pe,Vt,!1)),Eo(e,o),((Xe&2)===0||e!==it)&&(e===it&&((Xe&2)===0&&(bi|=o),ct===4&&$n(e,Pe,Vt,!1)),hn(e))}function Vd(e,n,o){if((Xe&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||To(e,n),h=s?Py(e,n):Pr(e,n,!0),y=s;do{if(h===0){io&&!s&&$n(e,n,0,!1);break}else{if(o=e.current.alternate,y&&!Gy(o)){h=Pr(e,n,!1),y=!1;continue}if(h===2){if(y=n,e.errorRecoveryDisabledLanes&y)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var w=e;h=el;var H=w.current.memoizedState.isDehydrated;if(H&&(ao(w,T).flags|=256),T=Pr(w,T,!1),T!==2){if(kr&&!H){w.errorRecoveryDisabledLanes|=y,bi|=y,h=4;break e}y=zt,zt=h,y!==null&&(zt===null?zt=y:zt.push.apply(zt,y))}h=T}if(y=!1,h!==2)continue}}if(h===1){ao(e,0),$n(e,n,0,!0);break}e:{switch(s=e,y=h,y){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$n(s,n,Vt,!Zn);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=fa+300-xe(),10<h)){if($n(s,n,Vt,!Zn),Cl(s,0,!0)!==0)break e;Mn=n,s.timeoutHandle=_h(Od.bind(null,s,o,zt,ha,Lr,n,Vt,bi,oo,Zn,y,"Throttled",-0,0),h);break e}Od(s,o,zt,ha,Lr,n,Vt,bi,oo,Zn,y,null,-0,0)}}break}while(!0);hn(e)}function Od(e,n,o,s,h,y,T,w,H,ee,ue,de,ne,le){if(e.timeoutHandle=-1,de=n.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},zd(n,y,de);var Ne=(y&62914560)===y?fa-xe():(y&4194048)===y?Gd-xe():0;if(Ne=C0(de,Ne),Ne!==null){Mn=y,e.cancelPendingCommit=Ne(Wd.bind(null,e,n,y,o,s,h,T,w,H,ue,de,null,ne,le)),$n(e,y,T,!ee);return}}Wd(e,n,y,o,s,h,T,w,H)}function Gy(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var h=o[s],y=h.getSnapshot;h=h.value;try{if(!Bt(y(),h))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $n(e,n,o,s){n&=~zr,n&=~bi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var h=n;0<h;){var y=31-rt(h),T=1<<y;s[y]=-1,h&=~T}o!==0&&$u(e,o,n)}function pa(){return(Xe&6)===0?(nl(0),!1):!0}function Hr(){if(Ge!==null){if(We===0)var e=Ge.return;else e=Ge,_n=yi=null,nr(e),Qi=null,qo=0,e=Ge;for(;e!==null;)Sd(e.alternate,e),e=e.return;Ge=null}}function ao(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,l0(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Mn=0,Hr(),it=e,Ge=o=yn(e.current,null),Pe=n,We=0,Pt=null,Zn=!1,io=To(e,n),kr=!1,oo=Vt=zr=bi=Xn=ct=0,zt=el=null,Lr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var h=31-rt(s),y=1<<h;n|=e[h],s&=~y}return wn=n,zl(),o}function Fd(e,n){ze=null,J.H=Jo,n===Xi||n===Ol?(n=af(),We=3):n===Fs?(n=af(),We=4):We=n===vr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pt=n,Ge===null&&(ct=1,ia(e,Qt(n,e.current)))}function Yd(){var e=Gt.current;return e===null?!0:(Pe&4194048)===Pe?en===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?e===en:!1}function Jd(){var e=J.H;return J.H=Jo,e===null?Jo:e}function Kd(){var e=J.A;return J.A=By,e}function ma(){ct=4,Zn||(Pe&4194048)!==Pe&&Gt.current!==null||(io=!0),(Xn&134217727)===0&&(bi&134217727)===0||it===null||$n(it,Pe,Vt,!1)}function Pr(e,n,o){var s=Xe;Xe|=2;var h=Jd(),y=Kd();(it!==e||Pe!==n)&&(ha=null,ao(e,n)),n=!1;var T=ct;e:do try{if(We!==0&&Ge!==null){var w=Ge,H=Pt;switch(We){case 8:Hr(),T=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(n=!0);var ee=We;if(We=0,Pt=null,so(e,w,H,ee),o&&io){T=0;break e}break;default:ee=We,We=0,Pt=null,so(e,w,H,ee)}}Hy(),T=ct;break}catch(ue){Fd(e,ue)}while(!0);return n&&e.shellSuspendCounter++,_n=yi=null,Xe=s,J.H=h,J.A=y,Ge===null&&(it=null,Pe=0,zl()),T}function Hy(){for(;Ge!==null;)Zd(Ge)}function Py(e,n){var o=Xe;Xe|=2;var s=Jd(),h=Kd();it!==e||Pe!==n?(ha=null,da=xe()+500,ao(e,n)):io=To(e,n);e:do try{if(We!==0&&Ge!==null){n=Ge;var y=Pt;t:switch(We){case 1:We=0,Pt=null,so(e,n,y,1);break;case 2:case 9:if(of(y)){We=0,Pt=null,Xd(n);break}n=function(){We!==2&&We!==9||it!==e||(We=7),hn(e)},y.then(n,n);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:of(y)?(We=0,Pt=null,Xd(n)):(We=0,Pt=null,so(e,n,y,7));break;case 5:var T=null;switch(Ge.tag){case 26:T=Ge.memoizedState;case 5:case 27:var w=Ge;if(T?kh(T):w.stateNode.complete){We=0,Pt=null;var H=w.sibling;if(H!==null)Ge=H;else{var ee=w.return;ee!==null?(Ge=ee,ga(ee)):Ge=null}break t}}We=0,Pt=null,so(e,n,y,5);break;case 6:We=0,Pt=null,so(e,n,y,6);break;case 8:Hr(),ct=6;break e;default:throw Error(a(462))}}Vy();break}catch(ue){Fd(e,ue)}while(!0);return _n=yi=null,J.H=s,J.A=h,Xe=o,Ge!==null?0:(it=null,Pe=0,zl(),ct)}function Vy(){for(;Ge!==null&&!te();)Zd(Ge)}function Zd(e){var n=vd(e.alternate,e,wn);e.memoizedProps=e.pendingProps,n===null?ga(e):Ge=n}function Xd(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=dd(o,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=dd(o,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:nr(n);default:Sd(o,n),n=Ge=Jc(n,wn),n=vd(o,n,wn)}e.memoizedProps=e.pendingProps,n===null?ga(e):Ge=n}function so(e,n,o,s){_n=yi=null,nr(n),Qi=null,qo=0;var h=n.return;try{if(My(e,h,n,o,Pe)){ct=1,ia(e,Qt(o,e.current)),Ge=null;return}}catch(y){if(h!==null)throw Ge=h,y;ct=1,ia(e,Qt(o,e.current)),Ge=null;return}n.flags&32768?(Fe||s===1?e=!0:io||(Pe&536870912)!==0?e=!1:(Zn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Gt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Qd(n,e)):ga(n)}function ga(e){var n=e;do{if((n.flags&32768)!==0){Qd(n,Zn);return}e=n.return;var o=Uy(n.alternate,n,wn);if(o!==null){Ge=o;return}if(n=n.sibling,n!==null){Ge=n;return}Ge=n=e}while(n!==null);ct===0&&(ct=5)}function Qd(e,n){do{var o=ky(e.alternate,e);if(o!==null){o.flags&=32767,Ge=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=o}while(e!==null);ct=6,Ge=null}function Wd(e,n,o,s,h,y,T,w,H){e.cancelPendingCommit=null;do ya();while(yt!==0);if((Xe&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(y=n.lanes|n.childLanes,y|=ws,Tg(e,o,y,T,w,H),e===it&&(Ge=it=null,Pe=0),lo=n,Wn=e,Mn=o,Br=y,qr=h,Hd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jy(Be,function(){return nh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=J.T,J.T=null,h=Z.p,Z.p=2,T=Xe,Xe|=4;try{zy(e,n,o)}finally{Xe=T,Z.p=h,J.T=s}}yt=1,$d(),jd(),eh()}}function $d(){if(yt===1){yt=0;var e=Wn,n=lo,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var s=Z.p;Z.p=2;var h=Xe;Xe|=4;try{Dd(n,e);var y=jr,T=Bc(e.containerInfo),w=y.focusedElem,H=y.selectionRange;if(T!==w&&w&&w.ownerDocument&&Lc(w.ownerDocument.documentElement,w)){if(H!==null&&xs(w)){var ee=H.start,ue=H.end;if(ue===void 0&&(ue=ee),"selectionStart"in w)w.selectionStart=ee,w.selectionEnd=Math.min(ue,w.value.length);else{var de=w.ownerDocument||document,ne=de&&de.defaultView||window;if(ne.getSelection){var le=ne.getSelection(),Ne=w.textContent.length,De=Math.min(H.start,Ne),tt=H.end===void 0?De:Math.min(H.end,Ne);!le.extend&&De>tt&&(T=tt,tt=De,De=T);var $=zc(w,De),F=zc(w,tt);if($&&F&&(le.rangeCount!==1||le.anchorNode!==$.node||le.anchorOffset!==$.offset||le.focusNode!==F.node||le.focusOffset!==F.offset)){var j=de.createRange();j.setStart($.node,$.offset),le.removeAllRanges(),De>tt?(le.addRange(j),le.extend(F.node,F.offset)):(j.setEnd(F.node,F.offset),le.addRange(j))}}}}for(de=[],le=w;le=le.parentNode;)le.nodeType===1&&de.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<de.length;w++){var fe=de[w];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}wa=!!$r,jr=$r=null}finally{Xe=h,Z.p=s,J.T=o}}e.current=n,yt=2}}function jd(){if(yt===2){yt=0;var e=Wn,n=lo,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var s=Z.p;Z.p=2;var h=Xe;Xe|=4;try{Nd(e,n.alternate,n)}finally{Xe=h,Z.p=s,J.T=o}}yt=3}}function eh(){if(yt===4||yt===3){yt=0,Te();var e=Wn,n=lo,o=Mn,s=Hd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?yt=5:(yt=0,lo=Wn=null,th(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Qn=null),ls(o),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(nt,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=J.T,h=Z.p,Z.p=2,J.T=null;try{for(var y=e.onRecoverableError,T=0;T<s.length;T++){var w=s[T];y(w.value,{componentStack:w.stack})}}finally{J.T=n,Z.p=h}}(Mn&3)!==0&&ya(),hn(e),h=e.pendingLanes,(o&261930)!==0&&(h&42)!==0?e===Gr?tl++:(tl=0,Gr=e):tl=0,nl(0)}}function th(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function ya(){return $d(),jd(),eh(),nh()}function nh(){if(yt!==5)return!1;var e=Wn,n=Br;Br=0;var o=ls(Mn),s=J.T,h=Z.p;try{Z.p=32>o?32:o,J.T=null,o=qr,qr=null;var y=Wn,T=Mn;if(yt=0,lo=Wn=null,Mn=0,(Xe&6)!==0)throw Error(a(331));var w=Xe;if(Xe|=4,Bd(y.current),kd(y,y.current,T,o),Xe=w,nl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(nt,y)}catch{}return!0}finally{Z.p=h,J.T=s,th(e,n)}}function ih(e,n,o){n=Qt(o,n),n=yr(e.stateNode,n,2),e=Fn(e,n,2),e!==null&&(Eo(e,2),hn(e))}function $e(e,n,o){if(e.tag===3)ih(e,e,o);else for(;n!==null;){if(n.tag===3){ih(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qn===null||!Qn.has(s))){e=Qt(o,e),o=od(2),s=Fn(n,o,2),s!==null&&(ld(o,s,n,e),Eo(s,2),hn(s));break}}n=n.return}}function Vr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new qy;var h=new Set;s.set(n,h)}else h=s.get(n),h===void 0&&(h=new Set,s.set(n,h));h.has(o)||(kr=!0,h.add(o),e=Oy.bind(null,e,n,o),n.then(e,e))}function Oy(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,it===e&&(Pe&o)===o&&(ct===4||ct===3&&(Pe&62914560)===Pe&&300>xe()-fa?(Xe&2)===0&&ao(e,0):zr|=o,oo===Pe&&(oo=0)),hn(e)}function oh(e,n){n===0&&(n=Wu()),e=pi(e,n),e!==null&&(Eo(e,n),hn(e))}function Fy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),oh(e,o)}function Yy(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),oh(e,o)}function Jy(e,n){return pe(e,n)}var va=null,ro=null,Or=!1,_a=!1,Fr=!1,jn=0;function hn(e){e!==ro&&e.next===null&&(ro===null?va=ro=e:ro=ro.next=e),_a=!0,Or||(Or=!0,Zy())}function nl(e,n){if(!Fr&&_a){Fr=!0;do for(var o=!1,s=va;s!==null;){if(e!==0){var h=s.pendingLanes;if(h===0)var y=0;else{var T=s.suspendedLanes,w=s.pingedLanes;y=(1<<31-rt(42|e)+1)-1,y&=h&~(T&~w),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,rh(s,y))}else y=Pe,y=Cl(s,s===it?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||To(s,y)||(o=!0,rh(s,y));s=s.next}while(o);Fr=!1}}function Ky(){lh()}function lh(){_a=Or=!1;var e=0;jn!==0&&o0()&&(e=jn);for(var n=xe(),o=null,s=va;s!==null;){var h=s.next,y=ah(s,n);y===0?(s.next=null,o===null?va=h:o.next=h,h===null&&(ro=o)):(o=s,(e!==0||(y&3)!==0)&&(_a=!0)),s=h}yt!==0&&yt!==5||nl(e),jn!==0&&(jn=0)}function ah(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,h=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var T=31-rt(y),w=1<<T,H=h[T];H===-1?((w&o)===0||(w&s)!==0)&&(h[T]=Sg(w,n)):H<=n&&(e.expiredLanes|=w),y&=~w}if(n=it,o=Pe,o=Cl(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(We===2||We===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ge(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||To(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&ge(s),ls(o)){case 2:case 8:o=Qe;break;case 32:o=Be;break;case 268435456:o=zn;break;default:o=Be}return s=sh.bind(null,e),o=pe(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&ge(s),e.callbackPriority=2,e.callbackNode=null,2}function sh(e,n){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ya()&&e.callbackNode!==o)return null;var s=Pe;return s=Cl(e,e===it?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Vd(e,s,n),ah(e,xe()),e.callbackNode!=null&&e.callbackNode===o?sh.bind(null,e):null)}function rh(e,n){if(ya())return null;Vd(e,n,!0)}function Zy(){a0(function(){(Xe&6)!==0?pe(we,Ky):lh()})}function Yr(){if(jn===0){var e=Ki;e===0&&(e=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),jn=e}return jn}function uh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function ch(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Xy(e,n,o,s,h){if(n==="submit"&&o&&o.stateNode===h){var y=uh((h[Mt]||null).action),T=s.submitter;T&&(n=(n=T[Mt]||null)?uh(n.formAction):T.getAttribute("formAction"),n!==null&&(y=n,T=null));var w=new Il("action","action",null,s,h);e.push({event:w,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(jn!==0){var H=T?ch(h,T):new FormData(h);fr(o,{pending:!0,data:H,method:h.method,action:y},null,H)}}else typeof y=="function"&&(w.preventDefault(),H=T?ch(h,T):new FormData(h),fr(o,{pending:!0,data:H,method:h.method,action:y},y,H))},currentTarget:h}]})}}for(var Jr=0;Jr<Rs.length;Jr++){var Kr=Rs[Jr],Qy=Kr.toLowerCase(),Wy=Kr[0].toUpperCase()+Kr.slice(1);ln(Qy,"on"+Wy)}ln(Hc,"onAnimationEnd"),ln(Pc,"onAnimationIteration"),ln(Vc,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(hy,"onTransitionRun"),ln(py,"onTransitionStart"),ln(my,"onTransitionCancel"),ln(Oc,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function fh(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],h=s.event;s=s.listeners;e:{var y=void 0;if(n)for(var T=s.length-1;0<=T;T--){var w=s[T],H=w.instance,ee=w.currentTarget;if(w=w.listener,H!==y&&h.isPropagationStopped())break e;y=w,h.currentTarget=ee;try{y(h)}catch(ue){kl(ue)}h.currentTarget=null,y=H}else for(T=0;T<s.length;T++){if(w=s[T],H=w.instance,ee=w.currentTarget,w=w.listener,H!==y&&h.isPropagationStopped())break e;y=w,h.currentTarget=ee;try{y(h)}catch(ue){kl(ue)}h.currentTarget=null,y=H}}}}function He(e,n){var o=n[as];o===void 0&&(o=n[as]=new Set);var s=e+"__bubble";o.has(s)||(dh(n,e,2,!1),o.add(s))}function Zr(e,n,o){var s=0;n&&(s|=4),dh(o,e,s,n)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[Sa]){e[Sa]=!0,oc.forEach(function(o){o!=="selectionchange"&&($y.has(o)||Zr(o,!1,e),Zr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Sa]||(n[Sa]=!0,Zr("selectionchange",!1,n))}}function dh(e,n,o,s){switch(Ph(n)){case 2:var h=b0;break;case 8:h=N0;break;default:h=cu}o=h.bind(null,n,o,e),h=void 0,!ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),s?h!==void 0?e.addEventListener(n,o,{capture:!0,passive:h}):e.addEventListener(n,o,!0):h!==void 0?e.addEventListener(n,o,{passive:h}):e.addEventListener(n,o,!1)}function Qr(e,n,o,s,h){var y=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var w=s.stateNode.containerInfo;if(w===h)break;if(T===4)for(T=s.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;w!==null;){if(T=Mi(w),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){s=y=T;continue e}w=w.parentNode}}s=s.return}gc(function(){var ee=y,ue=hs(o),de=[];e:{var ne=Fc.get(e);if(ne!==void 0){var le=Il,Ne=e;switch(e){case"keypress":if(wl(o)===0)break e;case"keydown":case"keyup":le=Yg;break;case"focusin":Ne="focus",le=_s;break;case"focusout":Ne="blur",le=_s;break;case"beforeblur":case"afterblur":le=_s;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Zg;break;case Hc:case Pc:case Vc:le=Lg;break;case Oc:le=Qg;break;case"scroll":case"scrollend":le=Ig;break;case"wheel":le=$g;break;case"copy":case"cut":case"paste":le=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Tc;break;case"toggle":case"beforetoggle":le=ey}var De=(n&4)!==0,tt=!De&&(e==="scroll"||e==="scrollend"),$=De?ne!==null?ne+"Capture":null:ne;De=[];for(var F=ee,j;F!==null;){var fe=F;if(j=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||j===null||$===null||(fe=Ao(F,$),fe!=null&&De.push(ol(F,fe,j))),tt)break;F=F.return}0<De.length&&(ne=new le(ne,Ne,null,o,ue),de.push({event:ne,listeners:De}))}}if((n&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",ne&&o!==ds&&(Ne=o.relatedTarget||o.fromElement)&&(Mi(Ne)||Ne[wi]))break e;if((le||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,le?(Ne=o.relatedTarget||o.toElement,le=ee,Ne=Ne?Mi(Ne):null,Ne!==null&&(tt=c(Ne),De=Ne.tag,Ne!==tt||De!==5&&De!==27&&De!==6)&&(Ne=null)):(le=null,Ne=ee),le!==Ne)){if(De=_c,fe="onMouseLeave",$="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(De=Tc,fe="onPointerLeave",$="onPointerEnter",F="pointer"),tt=le==null?ne:xo(le),j=Ne==null?ne:xo(Ne),ne=new De(fe,F+"leave",le,o,ue),ne.target=tt,ne.relatedTarget=j,fe=null,Mi(ue)===ee&&(De=new De($,F+"enter",Ne,o,ue),De.target=j,De.relatedTarget=tt,fe=De),tt=fe,le&&Ne)t:{for(De=jy,$=le,F=Ne,j=0,fe=$;fe;fe=De(fe))j++;fe=0;for(var Me=F;Me;Me=De(Me))fe++;for(;0<j-fe;)$=De($),j--;for(;0<fe-j;)F=De(F),fe--;for(;j--;){if($===F||F!==null&&$===F.alternate){De=$;break t}$=De($),F=De(F)}De=null}else De=null;le!==null&&hh(de,ne,le,De,!1),Ne!==null&&tt!==null&&hh(de,tt,Ne,De,!0)}}e:{if(ne=ee?xo(ee):window,le=ne.nodeName&&ne.nodeName.toLowerCase(),le==="select"||le==="input"&&ne.type==="file")var Ye=wc;else if(Nc(ne))if(Mc)Ye=cy;else{Ye=ry;var Re=sy}else le=ne.nodeName,!le||le.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&fs(ee.elementType)&&(Ye=wc):Ye=uy;if(Ye&&(Ye=Ye(e,ee))){Rc(de,Ye,o,ue);break e}Re&&Re(e,ne,ee),e==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&cs(ne,"number",ne.value)}switch(Re=ee?xo(ee):window,e){case"focusin":(Nc(Re)||Re.contentEditable==="true")&&(Gi=Re,As=ee,Uo=null);break;case"focusout":Uo=As=Gi=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,qc(de,o,ue);break;case"selectionchange":if(dy)break;case"keydown":case"keyup":qc(de,o,ue)}var Le;if(Ts)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else qi?Ac(e,o)&&(Ve="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ec&&o.locale!=="ko"&&(qi||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&qi&&(Le=yc()):(Bn=ue,gs="value"in Bn?Bn.value:Bn.textContent,qi=!0)),Re=Ta(ee,Ve),0<Re.length&&(Ve=new Sc(Ve,e,null,o,ue),de.push({event:Ve,listeners:Re}),Le?Ve.data=Le:(Le=bc(o),Le!==null&&(Ve.data=Le)))),(Le=ny?iy(e,o):oy(e,o))&&(Ve=Ta(ee,"onBeforeInput"),0<Ve.length&&(Re=new Sc("onBeforeInput","beforeinput",null,o,ue),de.push({event:Re,listeners:Ve}),Re.data=Le)),Xy(de,e,ee,o,ue)}fh(de,n)})}function ol(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ta(e,n){for(var o=n+"Capture",s=[];e!==null;){var h=e,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Ao(e,o),h!=null&&s.unshift(ol(e,h,y)),h=Ao(e,n),h!=null&&s.push(ol(e,h,y))),e.tag===3)return s;e=e.return}return[]}function jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hh(e,n,o,s,h){for(var y=n._reactName,T=[];o!==null&&o!==s;){var w=o,H=w.alternate,ee=w.stateNode;if(w=w.tag,H!==null&&H===s)break;w!==5&&w!==26&&w!==27||ee===null||(H=ee,h?(ee=Ao(o,y),ee!=null&&T.unshift(ol(o,ee,H))):h||(ee=Ao(o,y),ee!=null&&T.push(ol(o,ee,H)))),o=o.return}T.length!==0&&e.push({event:n,listeners:T})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function ph(e){return(typeof e=="string"?e:""+e).replace(e0,`
`).replace(t0,"")}function mh(e,n){return n=ph(n),ph(e)===n}function et(e,n,o,s,h,y){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||zi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&zi(e,""+s);break;case"className":Al(e,"class",s);break;case"tabIndex":Al(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(e,o,s);break;case"style":pc(e,s,y);break;case"data":if(n!=="object"){Al(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Nl(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(n!=="input"&&et(e,n,"name",h.name,h,null),et(e,n,"formEncType",h.formEncType,h,null),et(e,n,"formMethod",h.formMethod,h,null),et(e,n,"formTarget",h.formTarget,h,null)):(et(e,n,"encType",h.encType,h,null),et(e,n,"method",h.method,h,null),et(e,n,"target",h.target,h,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Nl(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=mn);break;case"onScroll":s!=null&&He("scroll",e);break;case"onScrollEnd":s!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Nl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":He("beforetoggle",e),He("toggle",e),xl(e,"popover",s);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":xl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wg.get(o)||o,xl(e,o,s))}}function Wr(e,n,o,s,h,y){switch(o){case"style":pc(e,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?zi(e,s):(typeof s=="number"||typeof s=="bigint")&&zi(e,""+s);break;case"onScroll":s!=null&&He("scroll",e);break;case"onScrollEnd":s!=null&&He("scrollend",e);break;case"onClick":s!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),n=o.slice(2,h?o.length-7:void 0),y=e[Mt]||null,y=y!=null?y[o]:null,typeof y=="function"&&e.removeEventListener(n,y,h),typeof s=="function")){typeof y!="function"&&y!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,h);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):xl(e,o,s)}}}function At(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var s=!1,h=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":s=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:et(e,n,y,T,o,null)}}h&&et(e,n,"srcSet",o.srcSet,o,null),s&&et(e,n,"src",o.src,o,null);return;case"input":He("invalid",e);var w=y=T=h=null,H=null,ee=null;for(s in o)if(o.hasOwnProperty(s)){var ue=o[s];if(ue!=null)switch(s){case"name":h=ue;break;case"type":T=ue;break;case"checked":H=ue;break;case"defaultChecked":ee=ue;break;case"value":y=ue;break;case"defaultValue":w=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,n));break;default:et(e,n,s,ue,o,null)}}cc(e,y,w,H,ee,T,h,!1);return;case"select":He("invalid",e),s=T=y=null;for(h in o)if(o.hasOwnProperty(h)&&(w=o[h],w!=null))switch(h){case"value":y=w;break;case"defaultValue":T=w;break;case"multiple":s=w;default:et(e,n,h,w,o,null)}n=y,o=T,e.multiple=!!s,n!=null?ki(e,!!s,n,!1):o!=null&&ki(e,!!s,o,!0);return;case"textarea":He("invalid",e),y=h=s=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":s=w;break;case"defaultValue":h=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:et(e,n,T,w,o,null)}dc(e,s,h,y);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(s=o[H],s!=null))switch(H){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:et(e,n,H,s,o,null)}return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(s=0;s<il.length;s++)He(il[s],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(s=o[ee],s!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:et(e,n,ee,s,o,null)}return;default:if(fs(n)){for(ue in o)o.hasOwnProperty(ue)&&(s=o[ue],s!==void 0&&Wr(e,n,ue,s,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(s=o[w],s!=null&&et(e,n,w,s,o,null))}function n0(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,T=null,w=null,H=null,ee=null,ue=null;for(le in o){var de=o[le];if(o.hasOwnProperty(le)&&de!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=de;default:s.hasOwnProperty(le)||et(e,n,le,null,s,de)}}for(var ne in s){var le=s[ne];if(de=o[ne],s.hasOwnProperty(ne)&&(le!=null||de!=null))switch(ne){case"type":y=le;break;case"name":h=le;break;case"checked":ee=le;break;case"defaultChecked":ue=le;break;case"value":T=le;break;case"defaultValue":w=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,n));break;default:le!==de&&et(e,n,ne,le,s,de)}}us(e,T,w,H,ee,ue,y,h);return;case"select":le=T=w=ne=null;for(y in o)if(H=o[y],o.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":le=H;default:s.hasOwnProperty(y)||et(e,n,y,null,s,H)}for(h in s)if(y=s[h],H=o[h],s.hasOwnProperty(h)&&(y!=null||H!=null))switch(h){case"value":ne=y;break;case"defaultValue":w=y;break;case"multiple":T=y;default:y!==H&&et(e,n,h,y,s,H)}n=w,o=T,s=le,ne!=null?ki(e,!!o,ne,!1):!!s!=!!o&&(n!=null?ki(e,!!o,n,!0):ki(e,!!o,o?[]:"",!1));return;case"textarea":le=ne=null;for(w in o)if(h=o[w],o.hasOwnProperty(w)&&h!=null&&!s.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(e,n,w,null,s,h)}for(T in s)if(h=s[T],y=o[T],s.hasOwnProperty(T)&&(h!=null||y!=null))switch(T){case"value":ne=h;break;case"defaultValue":le=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==y&&et(e,n,T,h,s,y)}fc(e,ne,le);return;case"option":for(var Ne in o)if(ne=o[Ne],o.hasOwnProperty(Ne)&&ne!=null&&!s.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:et(e,n,Ne,null,s,ne)}for(H in s)if(ne=s[H],le=o[H],s.hasOwnProperty(H)&&ne!==le&&(ne!=null||le!=null))switch(H){case"selected":e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:et(e,n,H,ne,s,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)ne=o[De],o.hasOwnProperty(De)&&ne!=null&&!s.hasOwnProperty(De)&&et(e,n,De,null,s,ne);for(ee in s)if(ne=s[ee],le=o[ee],s.hasOwnProperty(ee)&&ne!==le&&(ne!=null||le!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,n));break;default:et(e,n,ee,ne,s,le)}return;default:if(fs(n)){for(var tt in o)ne=o[tt],o.hasOwnProperty(tt)&&ne!==void 0&&!s.hasOwnProperty(tt)&&Wr(e,n,tt,void 0,s,ne);for(ue in s)ne=s[ue],le=o[ue],!s.hasOwnProperty(ue)||ne===le||ne===void 0&&le===void 0||Wr(e,n,ue,ne,s,le);return}}for(var $ in o)ne=o[$],o.hasOwnProperty($)&&ne!=null&&!s.hasOwnProperty($)&&et(e,n,$,null,s,ne);for(de in s)ne=s[de],le=o[de],!s.hasOwnProperty(de)||ne===le||ne==null&&le==null||et(e,n,de,ne,s,le)}function gh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var h=o[s],y=h.transferSize,T=h.initiatorType,w=h.duration;if(y&&w&&gh(T)){for(T=0,w=h.responseEnd,s+=1;s<o.length;s++){var H=o[s],ee=H.startTime;if(ee>w)break;var ue=H.transferSize,de=H.initiatorType;ue&&gh(de)&&(H=H.responseEnd,T+=ue*(H<w?1:(w-ee)/(H-ee)))}if(--s,n+=8*(y+T)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $r=null,jr=null;function Ea(e){return e.nodeType===9?e:e.ownerDocument}function yh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function eu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tu=null;function o0(){var e=window.event;return e&&e.type==="popstate"?e===tu?!1:(tu=e,!0):(tu=null,!1)}var _h=typeof setTimeout=="function"?setTimeout:void 0,l0=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(e){return Sh.resolve(null).then(e).catch(s0)}:_h;function s0(e){setTimeout(function(){throw e})}function ei(e){return e==="head"}function Th(e,n){var o=n,s=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(h),ho(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")ll(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,ll(o);for(var y=o.firstChild;y;){var T=y.nextSibling,w=y.nodeName;y[Co]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=T}}else o==="body"&&ll(e.ownerDocument.body);o=h}while(o);ho(n)}function Eh(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function nu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":nu(o),ss(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function r0(e,n,o,s){for(;e.nodeType===1;){var h=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Co])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function u0(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=tn(e.nextSibling),e===null))return null;return e}function Ch(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function iu(e){return e.data==="$?"||e.data==="$~"}function ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function c0(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function tn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var lu=null;function xh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return tn(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Ah(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function bh(e,n,o){switch(n=Ea(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ss(e)}var nn=new Map,Nh=new Set;function Ca(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=Z.d;Z.d={f:f0,r:d0,D:h0,C:p0,L:m0,m:g0,X:v0,S:y0,M:_0};function f0(){var e=In.f(),n=pa();return e||n}function d0(e){var n=Ii(e);n!==null&&n.tag===5&&n.type==="form"?Ff(n):In.r(e)}var uo=typeof document>"u"?null:document;function Rh(e,n,o){var s=uo;if(s&&typeof n=="string"&&n){var h=Zt(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Nh.has(h)||(Nh.add(h),e={rel:e,crossOrigin:o,href:n},s.querySelector(h)===null&&(n=s.createElement("link"),At(n,"link",e),_t(n),s.head.appendChild(n)))}}function h0(e){In.D(e),Rh("dns-prefetch",e,null)}function p0(e,n){In.C(e,n),Rh("preconnect",e,n)}function m0(e,n,o){In.L(e,n,o);var s=uo;if(s&&e&&n){var h='link[rel="preload"][as="'+Zt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Zt(o.imageSizes)+'"]')):h+='[href="'+Zt(e)+'"]';var y=h;switch(n){case"style":y=co(e);break;case"script":y=fo(e)}nn.has(y)||(e=_({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),nn.set(y,e),s.querySelector(h)!==null||n==="style"&&s.querySelector(al(y))||n==="script"&&s.querySelector(sl(y))||(n=s.createElement("link"),At(n,"link",e),_t(n),s.head.appendChild(n)))}}function g0(e,n){In.m(e,n);var o=uo;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Zt(s)+'"][href="'+Zt(e)+'"]',y=h;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=fo(e)}if(!nn.has(y)&&(e=_({rel:"modulepreload",href:e},n),nn.set(y,e),o.querySelector(h)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(sl(y)))return}s=o.createElement("link"),At(s,"link",e),_t(s),o.head.appendChild(s)}}}function y0(e,n,o){In.S(e,n,o);var s=uo;if(s&&e){var h=Di(s).hoistableStyles,y=co(e);n=n||"default";var T=h.get(y);if(!T){var w={loading:0,preload:null};if(T=s.querySelector(al(y)))w.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},o),(o=nn.get(y))&&au(e,o);var H=T=s.createElement("link");_t(H),At(H,"link",e),H._p=new Promise(function(ee,ue){H.onload=ee,H.onerror=ue}),H.addEventListener("load",function(){w.loading|=1}),H.addEventListener("error",function(){w.loading|=2}),w.loading|=4,xa(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:w},h.set(y,T)}}}function v0(e,n){In.X(e,n);var o=uo;if(o&&e){var s=Di(o).hoistableScripts,h=fo(e),y=s.get(h);y||(y=o.querySelector(sl(h)),y||(e=_({src:e,async:!0},n),(n=nn.get(h))&&su(e,n),y=o.createElement("script"),_t(y),At(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(h,y))}}function _0(e,n){In.M(e,n);var o=uo;if(o&&e){var s=Di(o).hoistableScripts,h=fo(e),y=s.get(h);y||(y=o.querySelector(sl(h)),y||(e=_({src:e,async:!0,type:"module"},n),(n=nn.get(h))&&su(e,n),y=o.createElement("script"),_t(y),At(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(h,y))}}function wh(e,n,o,s){var h=(h=he.current)?Ca(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=co(o.href),o=Di(h).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=co(o.href);var y=Di(h).hoistableStyles,T=y.get(e);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,T),(y=h.querySelector(al(e)))&&!y._p&&(T.instance=y,T.state.loading=5),nn.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},nn.set(e,o),y||S0(h,e,o,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fo(o),o=Di(h).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function co(e){return'href="'+Zt(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function Mh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function S0(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),At(n,"link",o),_t(n),e.head.appendChild(n))}function fo(e){return'[src="'+Zt(e)+'"]'}function sl(e){return"script[async]"+e}function Ih(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Zt(o.href)+'"]');if(s)return n.instance=s,_t(s),s;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),_t(s),At(s,"style",h),xa(s,o.precedence,e),n.instance=s;case"stylesheet":h=co(o.href);var y=e.querySelector(al(h));if(y)return n.state.loading|=4,n.instance=y,_t(y),y;s=Mh(o),(h=nn.get(h))&&au(s,h),y=(e.ownerDocument||e).createElement("link"),_t(y);var T=y;return T._p=new Promise(function(w,H){T.onload=w,T.onerror=H}),At(y,"link",s),n.state.loading|=4,xa(y,o.precedence,e),n.instance=y;case"script":return y=fo(o.src),(h=e.querySelector(sl(y)))?(n.instance=h,_t(h),h):(s=o,(h=nn.get(y))&&(s=_({},o),su(s,h)),e=e.ownerDocument||e,h=e.createElement("script"),_t(h),At(h,"link",s),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,xa(s,o.precedence,e));return n.instance}function xa(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=s.length?s[s.length-1]:null,y=h,T=0;T<s.length;T++){var w=s[T];if(w.dataset.precedence===n)y=w;else if(y!==h)break}y?y.parentNode.insertBefore(e,y.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function au(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function su(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Aa=null;function Dh(e,n,o){if(Aa===null){var s=new Map,h=Aa=new Map;h.set(o,s)}else h=Aa,s=h.get(o),s||(s=new Map,h.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),h=0;h<o.length;h++){var y=o[h];if(!(y[Co]||y[Tt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(n)||"";T=e+T;var w=s.get(T);w?w.push(y):s.set(T,[y])}}return s}function Uh(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function T0(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function E0(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=co(s.href),y=n.querySelector(al(h));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ba.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=y,_t(y);return}y=n.ownerDocument||n,s=Mh(s),(h=nn.get(h))&&au(s,h),y=y.createElement("link"),_t(y);var T=y;T._p=new Promise(function(w,H){T.onload=w,T.onerror=H}),At(y,"link",s),o.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=ba.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var ru=0;function C0(e,n){return e.stylesheets&&e.count===0&&Ra(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Ra(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+n);0<e.imgBytes&&ru===0&&(ru=62500*i0());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ra(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>ru?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(h)}}:null}function ba(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ra(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Na=null;function Ra(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Na=new Map,n.forEach(x0,e),Na=null,ba.call(e))}function x0(e,n){if(!(n.state.loading&4)){var o=Na.get(e);if(o)var s=o.get(null);else{o=new Map,Na.set(e,o);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var T=h[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),s=T)}s&&o.set(null,s)}h=n.instance,T=h.getAttribute("data-precedence"),y=o.get(T)||s,y===s&&o.set(null,h),o.set(T,h),this.count++,s=ba.bind(this),h.addEventListener("load",s),h.addEventListener("error",s),y?y.parentNode.insertBefore(h,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var rl={$$typeof:D,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function A0(e,n,o,s,h,y,T,w,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=s,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function zh(e,n,o,s,h,y,T,w,H,ee,ue,de){return e=new A0(e,n,o,T,H,ee,ue,de,w),n=1,y===!0&&(n|=24),y=qt(3,null,null,n),e.current=y,y.stateNode=e,n=Ps(),n.refCount++,e.pooledCache=n,n.refCount++,y.memoizedState={element:s,isDehydrated:o,cache:n},Ys(y),e}function Lh(e){return e?(e=Vi,e):Vi}function Bh(e,n,o,s,h,y){h=Lh(h),s.context===null?s.context=h:s.pendingContext=h,s=On(n),s.payload={element:o},y=y===void 0?null:y,y!==null&&(s.callback=y),o=Fn(e,s,n),o!==null&&(Lt(o,e,n),Ho(o,e,n))}function qh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function uu(e,n){qh(e,n),(e=e.alternate)&&qh(e,n)}function Gh(e){if(e.tag===13||e.tag===31){var n=pi(e,67108864);n!==null&&Lt(n,e,67108864),uu(e,67108864)}}function Hh(e){if(e.tag===13||e.tag===31){var n=Ot();n=os(n);var o=pi(e,n);o!==null&&Lt(o,e,n),uu(e,n)}}var wa=!0;function b0(e,n,o,s){var h=J.T;J.T=null;var y=Z.p;try{Z.p=2,cu(e,n,o,s)}finally{Z.p=y,J.T=h}}function N0(e,n,o,s){var h=J.T;J.T=null;var y=Z.p;try{Z.p=8,cu(e,n,o,s)}finally{Z.p=y,J.T=h}}function cu(e,n,o,s){if(wa){var h=fu(s);if(h===null)Qr(e,n,s,Ma,o),Vh(e,s);else if(w0(h,e,n,o,s))s.stopPropagation();else if(Vh(e,s),n&4&&-1<R0.indexOf(e)){for(;h!==null;){var y=Ii(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Jt(y.pendingLanes);if(T!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var H=1<<31-rt(T);w.entanglements[1]|=H,T&=~H}hn(y),(Xe&6)===0&&(da=xe()+500,nl(0))}}break;case 31:case 13:w=pi(y,2),w!==null&&Lt(w,y,2),pa(),uu(y,2)}if(y=fu(s),y===null&&Qr(e,n,s,Ma,o),y===h)break;h=y}h!==null&&s.stopPropagation()}else Qr(e,n,s,null,o)}}function fu(e){return e=hs(e),du(e)}var Ma=null;function du(e){if(Ma=null,e=Mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=d(n),e!==null)return e;e=null}else if(o===31){if(e=p(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ma=e,null}function Ph(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case we:return 2;case Qe:return 8;case Be:case wt:return 32;case zn:return 268435456;default:return 32}default:return 32}}var hu=!1,ti=null,ni=null,ii=null,ul=new Map,cl=new Map,oi=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vh(e,n){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function fl(e,n,o,s,h,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:y,targetContainers:[h]},n!==null&&(n=Ii(n),n!==null&&Gh(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function w0(e,n,o,s,h){switch(n){case"focusin":return ti=fl(ti,e,n,o,s,h),!0;case"dragenter":return ni=fl(ni,e,n,o,s,h),!0;case"mouseover":return ii=fl(ii,e,n,o,s,h),!0;case"pointerover":var y=h.pointerId;return ul.set(y,fl(ul.get(y)||null,e,n,o,s,h)),!0;case"gotpointercapture":return y=h.pointerId,cl.set(y,fl(cl.get(y)||null,e,n,o,s,h)),!0}return!1}function Oh(e){var n=Mi(e.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=d(o),n!==null){e.blockedOn=n,nc(e.priority,function(){Hh(o)});return}}else if(n===31){if(n=p(o),n!==null){e.blockedOn=n,nc(e.priority,function(){Hh(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ia(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=fu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);ds=s,o.target.dispatchEvent(s),ds=null}else return n=Ii(o),n!==null&&Gh(n),e.blockedOn=o,!1;n.shift()}return!0}function Fh(e,n,o){Ia(e)&&o.delete(n)}function M0(){hu=!1,ti!==null&&Ia(ti)&&(ti=null),ni!==null&&Ia(ni)&&(ni=null),ii!==null&&Ia(ii)&&(ii=null),ul.forEach(Fh),cl.forEach(Fh)}function Da(e,n){e.blockedOn===n&&(e.blockedOn=null,hu||(hu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,M0)))}var Ua=null;function Yh(e){Ua!==e&&(Ua=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ua===e&&(Ua=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],h=e[n+2];if(typeof s!="function"){if(du(s||o)===null)continue;break}var y=Ii(o);y!==null&&(e.splice(n,3),n-=3,fr(y,{pending:!0,data:h,method:o.method,action:s},s,h))}}))}function ho(e){function n(H){return Da(H,e)}ti!==null&&Da(ti,e),ni!==null&&Da(ni,e),ii!==null&&Da(ii,e),ul.forEach(n),cl.forEach(n);for(var o=0;o<oi.length;o++){var s=oi[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<oi.length&&(o=oi[0],o.blockedOn===null);)Oh(o),o.blockedOn===null&&oi.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var h=o[s],y=o[s+1],T=h[Mt]||null;if(typeof y=="function")T||Yh(o);else if(T){var w=null;if(y&&y.hasAttribute("formAction")){if(h=y,T=y[Mt]||null)w=T.formAction;else if(du(h)!==null)continue}else w=T.action;typeof w=="function"?o[s+1]=w:(o.splice(s,3),s-=3),Yh(o)}}}function Jh(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function pu(e){this._internalRoot=e}ka.prototype.render=pu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Ot();Bh(o,s,e,n,null,null)},ka.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Bh(e.current,2,null,e,null,null),pa(),n[wi]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var n=tc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<oi.length&&n!==0&&n<oi[o].priority;o++);oi.splice(o,0,e),o===0&&Oh(e)}};var Kh=t.version;if(Kh!=="19.2.0")throw Error(a(527,Kh,"19.2.0"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var I0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{nt=za.inject(I0),vt=za}catch{}}return hl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",h=ed,y=td,T=nd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=zh(e,1,!1,null,null,o,s,null,h,y,T,Jh),e[wi]=n.current,Xr(e),new pu(n)},hl.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,h="",y=ed,T=td,w=nd,H=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(H=o.formState)),n=zh(e,1,!0,n,o??null,s,h,H,y,T,w,Jh),n.context=Lh(null),o=n.current,s=Ot(),s=os(s),h=On(s),h.callback=null,Fn(o,h,s),o=s,n.current.lanes=o,Eo(n,o),hn(n),e[wi]=n.current,Xr(e),new ka(n)},hl.version="19.2.0",hl}var ip;function P0(){if(ip)return yu.exports;ip=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),yu.exports=H0(),yu.exports}var V0=P0();const O0=qu(V0);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y0=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,a)=>a?a.toUpperCase():l.toLowerCase()),op=i=>{const t=Y0(i);return t.charAt(0).toUpperCase()+t.slice(1)},Hm=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim(),J0=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Ie.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:c,iconNode:d,...p},g)=>Ie.createElement("svg",{ref:g,...K0,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:Hm("lucide",r),...!c&&!J0(p)&&{"aria-hidden":"true"},...p},[...d.map(([m,v])=>Ie.createElement(m,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(i,t)=>{const l=Ie.forwardRef(({className:a,...r},c)=>Ie.createElement(Z0,{ref:c,iconNode:t,className:Hm(`lucide-${F0(op(i))}`,`lucide-${i}`,a),...r}));return l.displayName=op(i),l};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Q0=qe("archive",X0);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],$0=qe("bot",W0);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],ev=qe("brain-circuit",j0);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nv=qe("check",tv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ov=qe("chevron-down",iv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],av=qe("chevron-right",lv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Va=qe("circle-alert",sv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hu=qe("circle-check-big",rv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],cv=qe("clipboard-check",uv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pm=qe("clock",fv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lp=qe("copy",dv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bu=qe("database",hv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],mv=qe("dollar-sign",pv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vm=qe("download",gv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vv=qe("file-text",yv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Sv=qe("file-up",_v);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],Ev=qe("folder-input",Tv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xv=qe("history",Cv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],bv=qe("image",Av);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rv=qe("info",Nv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Mv=qe("key",wv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Nu=qe("layers",Iv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ap=qe("loader-circle",Dv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Tu=qe("message-square",Uv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],zv=qe("paperclip",kv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Bv=qe("pencil",Lv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gv=qe("plus",qv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vl=qe("refresh-cw",Hv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vv=qe("send",Pv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Eu=qe("server",Ov);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sp=qe("settings",Fv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],rp=qe("square",Yv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Oa=qe("trash-2",Jv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pl=qe("trash",Kv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Om=qe("upload",Zv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qv=qe("user",Xv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fm=qe("x",Wv);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jv=qe("zap",$v),yl=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",costInput:.1,costOutput:.4},{id:"gemini-2.5-pro-latest",name:"Gemini 2.5 Pro",costInput:3.5,costOutput:10.5},{id:"gemini-3-pro-preview",name:"Gemini 3.0 Pro",costInput:1.25,costOutput:5},{id:"gemini-2.5-flash-thinking",name:"Gemini 2.5 Flash Thinking",costInput:.1,costOutput:.4}],ml={model:"gemini-3-pro-preview",temperature:1,topP:.95,topK:64,maxOutputTokens:65536,safetySettings:"BLOCK_NONE",thinkingLevel:"HIGH",enableGoogleSearch:!0},Ba="",e_="v1.0.6",t_=({sessions:i,currentSessionId:t,onNewChat:l,onSelectSession:a,onDeleteSession:r,onExportSession:c,onImportSession:d,batchJobs:p,onCheckBatchStatus:g,onDeleteBatchJob:m,activeView:v,onViewChange:_})=>{const S=Ie.useRef(null),[E,R]=Ie.useState("chats"),x=b=>{b.target.files&&b.target.files.length>0&&d(b.target.files[0]),S.current&&(S.current.value="")},I=b=>b==="JOB_STATE_SUCCEEDED"?"text-green-400":b==="JOB_STATE_FAILED"?"text-red-400":"text-yellow-400";return A.jsxs("div",{className:"w-64 flex-shrink-0 bg-studio-bg border-r border-studio-border h-full flex flex-col",children:[A.jsxs("div",{className:"p-4 space-y-3",children:[A.jsxs("div",{className:"flex bg-studio-panel p-1 rounded-lg border border-studio-border mb-2",children:[A.jsxs("button",{onClick:()=>_("chat"),className:`flex-1 py-2 text-xs font-bold rounded flex items-center justify-center gap-2 transition-all ${v==="chat"?"bg-[#333] text-white shadow":"text-gray-500 hover:text-gray-300"}`,children:[A.jsx(Tu,{size:14})," Chat"]}),A.jsxs("button",{onClick:()=>_("bulk"),className:`flex-1 py-2 text-xs font-bold rounded flex items-center justify-center gap-2 transition-all ${v==="bulk"?"bg-purple-900/30 text-purple-200 border border-purple-800":"text-gray-500 hover:text-gray-300"}`,children:[A.jsx(Nu,{size:14})," Bulk"]})]}),v==="chat"&&A.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 bg-studio-primary text-studio-bg font-medium py-3 rounded-full hover:opacity-90 transition-opacity",children:[A.jsx(Gv,{size:20}),A.jsx("span",{children:"Create new"})]}),v==="chat"&&A.jsxs("div",{className:"flex bg-studio-panel p-1 rounded-lg",children:[A.jsxs("button",{onClick:()=>R("chats"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all flex items-center justify-center gap-2 ${E==="chats"?"bg-[#333] text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:[A.jsx(Tu,{size:14})," Chats"]}),A.jsxs("button",{onClick:()=>R("batch"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all flex items-center justify-center gap-2 ${E==="batch"?"bg-[#333] text-white shadow":"text-gray-400 hover:text-gray-200"}`,children:[A.jsx(Nu,{size:14})," Async Jobs"]})]})]}),A.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:v==="bulk"?A.jsxs("div",{className:"p-4 text-center text-sm text-gray-500 italic",children:[A.jsx("p",{children:"Bulk Runner Active"}),A.jsx("p",{className:"text-xs mt-2",children:"Use the main panel to run concurrent requests against your cached context."})]}):E==="chats"?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"mb-2 px-3 text-xs font-semibold text-studio-subtext uppercase tracking-wider",children:"Recents"}),A.jsxs("ul",{className:"space-y-1",children:[i.map(b=>A.jsxs("li",{className:"group relative",children:[A.jsxs("button",{onClick:()=>a(b.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${t===b.id?"bg-[#004a77] text-blue-100":"text-studio-text hover:bg-studio-panel"}`,children:[A.jsx(Tu,{size:16,className:t===b.id?"text-blue-200":"text-gray-400"}),A.jsx("span",{className:"truncate flex-1 text-left",children:b.title||"Untitled Prompt"})]}),A.jsx("button",{onClick:U=>r(b.id,U),className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 p-1 hover:text-red-400 text-gray-400 transition-opacity",children:A.jsx(Oa,{size:14})})]},b.id)),i.length===0&&A.jsx("li",{className:"px-3 py-4 text-center text-sm text-gray-500 italic",children:"No recent chats"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"mb-2 px-3 text-xs font-semibold text-studio-subtext uppercase tracking-wider",children:"Async Batch History"}),A.jsxs("ul",{className:"space-y-2",children:[p.map(b=>A.jsxs("li",{className:"bg-studio-panel border border-studio-border rounded-lg p-3 group relative",children:[A.jsxs("div",{className:"flex justify-between items-start mb-1",children:[A.jsxs("span",{className:`text-[10px] font-mono ${I(b.status)} flex items-center gap-1`,children:[b.status==="JOB_STATE_SUCCEEDED"?A.jsx(Hu,{size:10}):b.status==="JOB_STATE_PENDING"?A.jsx(Pm,{size:10}):A.jsx(Va,{size:10}),b.status.replace("JOB_STATE_","")]}),A.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(b.createdAt).toLocaleDateString()})]}),A.jsx("div",{className:"text-xs text-studio-text truncate mb-2",title:b.promptPreview,children:b.promptPreview}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>g(b),className:"flex-1 py-1 bg-[#2a2b2e] hover:bg-[#3a3b3e] text-[10px] rounded text-gray-300 flex items-center justify-center gap-1 transition-colors",children:[A.jsx(vl,{size:10})," Check"]}),A.jsx("button",{onClick:U=>m(b.id,U),className:"p-1 hover:bg-red-900/30 text-gray-500 hover:text-red-400 rounded transition-colors",children:A.jsx(Oa,{size:12})})]})]},b.id)),p.length===0&&A.jsx("li",{className:"px-3 py-4 text-center text-sm text-gray-500 italic",children:"No batch jobs"})]})]})}),A.jsxs("div",{className:"p-4 border-t border-studio-border space-y-2",children:[A.jsxs("button",{onClick:c,className:"w-full flex items-center gap-2 px-2 py-1.5 text-studio-subtext text-sm hover:text-white hover:bg-studio-panel rounded transition-colors",children:[A.jsx(Vm,{size:16}),A.jsx("span",{children:"Export Chat"})]}),A.jsxs("button",{onClick:()=>{var b;return(b=S.current)==null?void 0:b.click()},className:"w-full flex items-center gap-2 px-2 py-1.5 text-studio-subtext text-sm hover:text-white hover:bg-studio-panel rounded transition-colors",children:[A.jsx(Om,{size:16}),A.jsx("span",{children:"Import Chat"})]}),A.jsx("input",{type:"file",ref:S,className:"hidden",accept:".json",onChange:x}),A.jsx("div",{className:"pt-2 text-center",children:A.jsxs("span",{className:"text-xs text-gray-600",children:["Version ",e_]})})]})]})};var _l=(i=>(i.USER="user",i.MODEL="model",i))(_l||{});const n_=({message:i,onEdit:t})=>{const l=i.role===_l.USER,[a,r]=Ie.useState(!1),[c,d]=Ie.useState(i.text),[p,g]=Ie.useState(!1),m=()=>{t&&c.trim()!==""&&c!==i.text&&t(i.id,c),r(!1)},v=()=>{d(i.text),r(!1)},_=()=>{navigator.clipboard.writeText(i.text),g(!0),setTimeout(()=>g(!1),2e3)},S=E=>E.split(/(```[\s\S]*?```)/g).map((x,I)=>{if(x.startsWith("```")){const b=x.slice(3,-3).replace(/^[a-z]+\n/,"");return A.jsxs("div",{className:"my-2 bg-[#1e1e1e] rounded border border-studio-border overflow-hidden",children:[A.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-[#2d2d2d] border-b border-studio-border",children:[A.jsx("span",{className:"text-xs text-gray-400 font-mono",children:"Code"}),A.jsxs("button",{onClick:()=>navigator.clipboard.writeText(b.trim()),className:"flex items-center gap-1 text-xs text-gray-400 hover:text-white",children:[A.jsx(lp,{size:12})," Copy"]})]}),A.jsx("pre",{className:"p-3 overflow-x-auto text-sm font-mono text-green-400",children:A.jsx("code",{children:b})})]},I)}else{const b=x.split(`
`);return A.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:b.map((U,D)=>U.startsWith("###")?A.jsx("h3",{className:"text-lg font-bold my-2",children:U.replace("###","")},D):U.startsWith("##")?A.jsx("h2",{className:"text-xl font-bold my-2",children:U.replace("##","")},D):U.startsWith("**")?A.jsx("b",{children:U.replace(/\*\*/g,"")},D):A.jsxs("span",{children:[U,D<b.length-1?`
`:""]},D))},I)}});return A.jsxs("div",{className:`group flex gap-4 mb-6 ${l?"flex-row-reverse":""}`,children:[A.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${l?"bg-studio-border":"bg-studio-accent"}`,children:l?A.jsx(Qv,{size:18}):A.jsx($0,{size:18})}),A.jsxs("div",{className:`max-w-[80%] ${l?"items-end":"items-start"} flex flex-col relative`,children:[A.jsxs("div",{className:`absolute -top-5 ${l?"right-0":"left-0"} flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity`,children:[A.jsx("button",{onClick:_,className:"text-gray-500 hover:text-white flex items-center gap-1 text-[10px]",title:"Copy raw markdown",children:p?A.jsx(cv,{size:14,className:"text-green-400"}):A.jsx(lp,{size:14})}),l&&!a&&t&&A.jsx("button",{onClick:()=>r(!0),className:"text-gray-500 hover:text-white",title:"Edit message",children:A.jsx(Bv,{size:14})})]}),i.attachments&&i.attachments.length>0&&A.jsx("div",{className:"flex flex-wrap gap-2 mb-2 justify-end",children:i.attachments.map((E,R)=>A.jsxs("div",{className:"bg-studio-panel border border-studio-border rounded p-2 flex items-center gap-2",children:[E.mimeType.startsWith("image/")?A.jsx(bv,{size:16,className:"text-purple-400"}):A.jsx(vv,{size:16,className:"text-blue-400"}),A.jsx("span",{className:"text-xs truncate max-w-[100px]",children:E.name})]},R))}),A.jsx("div",{className:`text-studio-text w-full ${i.isError?"text-red-400 bg-red-900/10 p-2 rounded border border-red-800":""}`,children:a?A.jsxs("div",{className:"bg-[#1e1e1e] border border-studio-border rounded-lg p-2 w-full min-w-[300px]",children:[A.jsx("textarea",{value:c,onChange:E=>d(E.target.value),className:"w-full bg-transparent border-none outline-none text-sm resize-none p-1 min-h-[80px]",autoFocus:!0}),A.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[A.jsx("button",{onClick:v,className:"p-1.5 hover:bg-[#333] rounded text-gray-400 hover:text-white",children:A.jsx(Fm,{size:16})}),A.jsx("button",{onClick:m,className:"p-1.5 bg-studio-primary text-studio-bg rounded hover:opacity-90",children:A.jsx(nv,{size:16})})]})]}):S(i.text)})]})]})},i_=({systemInstruction:i,setSystemInstruction:t,messages:l,onSendMessage:a,isStreaming:r,onRegenerate:c,onEditMessage:d})=>{const[p,g]=Ie.useState(""),[m,v]=Ie.useState([]),_=Ie.useRef(null),S=Ie.useRef(null);Ie.useEffect(()=>{var D;(D=_.current)==null||D.scrollIntoView({behavior:"smooth"})},[l,r]);const E=()=>{!p.trim()&&m.length===0||(a(p,m),g(""),v([]))},R=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),E())},x=async D=>{if(D.target.files&&D.target.files.length>0){const q=D.target.files[0],G=new FileReader;G.onloadend=()=>{const X=G.result.split(",")[1];v(P=>[...P,{name:q.name,mimeType:q.type,data:X}])},G.readAsDataURL(q)}},I=D=>{v(q=>q.filter((G,X)=>X!==D))},b=async D=>{D.preventDefault();const q=D.dataTransfer.files[0];if(q){const G=new FileReader;G.onloadend=()=>{const X=G.result.split(",")[1];v(P=>[...P,{name:q.name,mimeType:q.type,data:X}])},G.readAsDataURL(q)}},U=D=>D.preventDefault();return A.jsxs("div",{className:"flex-1 flex flex-col h-full relative",onDrop:b,onDragOver:U,children:[A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:px-20",children:[l.length===0?A.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-studio-subtext opacity-50",children:[A.jsx("div",{className:"w-16 h-16 bg-studio-panel rounded-full flex items-center justify-center mb-4",children:A.jsx(vl,{size:32})}),A.jsx("p",{children:"Start a conversation with the model"})]}):l.map(D=>A.jsx(n_,{message:D,onEdit:d},D.id)),A.jsx("div",{ref:_})]}),A.jsxs("div",{className:"flex-shrink-0 p-4 lg:px-20 pb-8 bg-studio-bg",children:[A.jsx("div",{className:"flex justify-end mb-2 text-xs text-studio-subtext",children:A.jsxs("span",{children:[p.length," chars"]})}),A.jsxs("div",{className:"bg-studio-panel border border-studio-border rounded-xl p-2 focus-within:ring-1 focus-within:ring-studio-primary transition-all",children:[m.length>0&&A.jsx("div",{className:"flex gap-2 p-2 flex-wrap",children:m.map((D,q)=>A.jsxs("div",{className:"bg-[#2a2b2e] px-2 py-1 rounded text-xs flex items-center gap-2 group",children:[A.jsx("span",{className:"truncate max-w-[150px]",children:D.name}),A.jsx("button",{onClick:()=>I(q),className:"text-gray-400 hover:text-red-400",children:A.jsx(Fm,{size:12})})]},q))}),A.jsxs("div",{className:"flex gap-2 items-end",children:[A.jsxs("button",{onClick:()=>{var D;return(D=S.current)==null?void 0:D.click()},className:"p-2 text-studio-primary hover:bg-[#2a2b2e] rounded-full transition-colors",title:"Add media",children:[A.jsx(zv,{size:20}),A.jsx("input",{type:"file",ref:S,className:"hidden",onChange:x,accept:"image/*,application/pdf,audio/*"})]}),A.jsx("textarea",{value:p,onChange:D=>g(D.target.value),onKeyDown:R,placeholder:"Type your message here...",rows:1,className:"flex-1 bg-transparent border-none outline-none text-studio-text py-2 max-h-40 resize-none overflow-y-auto",style:{minHeight:"44px"}}),r?A.jsx("div",{className:"p-2",children:A.jsx("div",{className:"w-5 h-5 border-2 border-studio-primary border-t-transparent rounded-full animate-spin"})}):A.jsx("button",{onClick:E,disabled:!p.trim()&&m.length===0,className:"p-2 text-studio-bg bg-studio-primary hover:opacity-90 rounded-full transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:A.jsx(Vv,{size:20})})]})]}),A.jsx("div",{className:"mt-2 text-center text-xs text-studio-subtext",children:"Gemini may display inaccurate info, including about people, so double-check its responses."})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let o_,l_;function a_(){return{geminiUrl:o_,vertexUrl:l_}}function s_(i,t,l,a){var r,c;if(!(i!=null&&i.baseUrl)){const d=a_();return t?(r=d.vertexUrl)!==null&&r!==void 0?r:l:(c=d.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Un{}function Ae(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let c=0;c<t.length-1;c++){const d=t[c];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in i))if(Array.isArray(l))i[p]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[p])){const g=i[p];if(Array.isArray(l))for(let m=0;m<g.length;m++){const v=g[m];f(v,t.slice(c+1),l[m])}else for(const m of g)f(m,t.slice(c+1),l)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in i||(i[p]=[{}]);const g=i[p];f(g[0],t.slice(c+1),l);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const d=i[c];return Array.isArray(d)?d.map(p=>u(p,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function r_(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),c=a.split("."),d=new Set;let p=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){p=g;break}if(p!==-1&&c.length>p)for(let g=p;g<c.length;g++){const m=c[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}Ru(i,r,c,0,d)}}function Ru(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const d=c.slice(0,-2),p=i;if(d in p&&Array.isArray(p[d]))for(const g of p[d])Ru(g,t,l,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,p=Object.keys(d).filter(m=>!m.startsWith("_")&&!r.has(m)),g={};for(const m of p)g[m]=d[m];for(const[m,v]of Object.entries(g)){const _=[];for(const S of l.slice(a))S==="*"?_.push(m):_.push(S);f(d,_,v)}for(const m of p)delete d[m]}}else{const d=i;c in d&&Ru(d[c],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u_(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function c_(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],d_(d)),t}function f_(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],h_(d)),t}function d_(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>p_(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function h_(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>m_(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function p_(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],T_(l)),t}function m_(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],E_(l)),t}function g_(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function y_(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function v_(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],__(d)),t}function __(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Ym(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],S_(d)),t}function S_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function T_(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],Pu(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function E_(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Pu(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var up;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(up||(up={}));var cp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(cp||(cp={}));var fp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(fp||(fp={}));var ai;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ai||(ai={}));var dp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(dp||(dp={}));var hp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hp||(hp={}));var pp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(pp||(pp={}));var mp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(mp||(mp={}));var gp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gp||(gp={}));var yp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(yp||(yp={}));var vp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(vp||(vp={}));var _p;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(_p||(_p={}));var Sp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Sp||(Sp={}));var Tp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Tp||(Tp={}));var Ep;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Ep||(Ep={}));var Cp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cp||(Cp={}));var xp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xp||(xp={}));var Ap;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Ap||(Ap={}));var bp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bp||(bp={}));var Fa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Fa||(Fa={}));var Np;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Np||(Np={}));var Rp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Rp||(Rp={}));var wp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wp||(wp={}));var wu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wu||(wu={}));var Mp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Mp||(Mp={}));var Ip;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ip||(Ip={}));var Dp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Dp||(Dp={}));var Up;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Up||(Up={}));var kp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(kp||(kp={}));var zp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zp||(zp={}));var Lp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Lp||(Lp={}));var Bp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Bp||(Bp={}));var qp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(qp||(qp={}));var Gp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Gp||(Gp={}));var Hp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Hp||(Hp={}));var Pp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Pp||(Pp={}));var Vp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Vp||(Vp={}));var Op;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Op||(Op={}));var Fp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Fp||(Fp={}));var Yp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Yp||(Yp={}));var Jp;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Jp||(Jp={}));var Kp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Kp||(Kp={}));var Zp;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Zp||(Zp={}));var Xp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Xp||(Xp={}));var Qp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Qp||(Qp={}));var Wp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Wp||(Wp={}));var $p;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})($p||($p={}));var jp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(jp||(jp={}));var em;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(em||(em={}));var tm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tm||(tm={}));var nm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(nm||(nm={}));var im;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(im||(im={}));var om;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(om||(om={}));var lm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(lm||(lm={}));var po;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(po||(po={}));class Mu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class gl{get text(){var t,l,a,r,c,d,p,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[E,R]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(R!==null||R!==void 0)&&_.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,c,d,p,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[S,E]of Object.entries(_))S!=="inlineData"&&(E!==null||E!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,c,d,p,g;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,c,d,p,g,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,c,d,p,g,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class am{}class sm{}class C_{}class x_{}class A_{}class b_{}class rm{}class um{}class cm{}class N_{}class Ya{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ya;let r;const c=t;return l?r=f_(c):r=c_(c),Object.assign(a,r),a}}class fm{}class dm{}class hm{}class R_{}class w_{}class M_{}class Vu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Vu,c=v_(t);return Object.assign(a,c),a}}class I_{}class D_{}class U_{}class pm{}class k_{get text(){var t,l,a;let r="",c=!1;const d=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,m]of Object.entries(p))g!=="text"&&g!=="thought"&&m!==null&&d.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,r+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,l,a;let r="";const c=[];for(const d of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[p,g]of Object.entries(d))p!=="inlineData"&&g!==null&&c.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(r+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class z_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ou{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ou,c=Ym(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ke(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Jm(i,t){const l=Ke(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Km(i){return Array.isArray(i)?i.map(t=>Ja(t)):[Ja(i)]}function Ja(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Zm(i){const t=Ja(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Xm(i){const t=Ja(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function mm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Qm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>mm(t)):[mm(i)]}function Iu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function gm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function ym(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Nt(i){if(i==null)throw new Error("ContentUnion is required");return Iu(i)?i:{role:"user",parts:Qm(i)}}function Fu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=Nt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=Nt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Nt(l)):[Nt(t)]}function on(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(gm(i)||ym(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(i)]}const t=[],l=[],a=Iu(i[0]);for(const r of i){const c=Iu(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(gm(r)||ym(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:Qm(l)}),t}function L_(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(ai).includes(l[0].toUpperCase())?l[0].toUpperCase():ai.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(ai).includes(a.toUpperCase())?a.toUpperCase():ai.TYPE_UNSPECIFIED})}}function mo(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&L_(i.type,t);for(const[d,p]of Object.entries(i))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;t.type=Object.values(ai).includes(p.toUpperCase())?p.toUpperCase():ai.TYPE_UNSPECIFIED}else if(l.includes(d))t[d]=mo(p);else if(a.includes(d)){const g=[];for(const m of p){if(m.type=="null"){t.nullable=!0;continue}g.push(mo(m))}t[d]=g}else if(r.includes(d)){const g={};for(const[m,v]of Object.entries(p))g[m]=mo(v);t[d]=g}else{if(d==="additionalProperties")continue;t[d]=p}return t}function Yu(i){return mo(i)}function Ju(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Ku(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function vo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=mo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=mo(t.response));return i}function _o(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function B_(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function kn(i,t){if(typeof t!="string")throw new Error("name must be a string");return B_(i,t,"cachedContents")}function Wm(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function si(i){return Pu(i)}function q_(i){return i!=null&&typeof i=="object"&&"name"in i}function G_(i){return i!=null&&typeof i=="object"&&"video"in i}function H_(i){return i!=null&&typeof i=="object"&&"uri"in i}function $m(i){var t;let l;if(q_(i)&&(l=i.name),!(H_(i)&&(l=i.uri,l===void 0))&&!(G_(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function jm(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function eg(i){for(const t of["models","tunedModels","publisherModels"])if(P_(i,t))return i[t];return[]}function P_(i,t){return i!==null&&typeof i=="object"&&t in i}function V_(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function O_(i,t={}){const l=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const d=V_(r,t);d.functionDeclarations&&l.push(...d.functionDeclarations)}return{functionDeclarations:l}}function tg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function F_(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function ng(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const d of r){if(typeof d!="object"||d===null)continue;const g=d.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function So(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function ig(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y_(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>AS(d))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["inlinedEmbedContentResponses"],c)}return t}function J_(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function K_(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ga(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],ig(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const d=u(i,["metadata","endTime"]);d!=null&&f(t,["endTime"],d);const p=u(i,["metadata","updateTime"]);p!=null&&f(t,["updateTime"],p);const g=u(i,["metadata","model"]);g!=null&&f(t,["model"],g);const m=u(i,["metadata","output"]);return m!=null&&f(t,["dest"],Y_(ng(m))),t}function Du(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],ig(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["createTime"]);d!=null&&f(t,["createTime"],d);const p=u(i,["startTime"]);p!=null&&f(t,["startTime"],p);const g=u(i,["endTime"]);g!=null&&f(t,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const _=u(i,["inputConfig"]);_!=null&&f(t,["src"],Z_(_));const S=u(i,["outputConfig"]);S!=null&&f(t,["dest"],J_(ng(S)));const E=u(i,["completionStats"]);return E!=null&&f(t,["completionStats"],E),t}function Z_(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function X_(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>xS(i,d))),f(l,["requests","requests"],c)}return l}function Q_(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function W_(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function $_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],So(i,a)),l}function j_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],So(i,a)),l}function eS(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],tS(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const p=u(i,["groundingMetadata"]);p!=null&&f(t,["groundingMetadata"],p);const g=u(i,["index"]);g!=null&&f(t,["index"],g);const m=u(i,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),f(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function tS(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function og(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>DS(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function nS(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function iS(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],K_(F_(r))),l}function vm(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],X_(i,tg(i,r)));const c=u(t,["config"]);return c!=null&&nS(c,l),l}function oS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Ke(i,a));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],Q_(tg(i,r)));const c=u(t,["config"]);return c!=null&&iS(c,l),l}function lS(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),l}function aS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],hS(i,r));const c=u(t,["config"]);return c!=null&&lS(c,l),l}function sS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],So(i,a)),l}function rS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],So(i,a)),l}function uS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function cS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function fS(i,t){const l={},a=u(t,["contents"]);if(a!=null){let c=Fu(i,a);Array.isArray(c)&&(c=c.map(d=>d)),f(l,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],dS(r,l)),r_(l,{"requests[].*":"requests[].request.*"})),l}function dS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function hS(i,t){const l={},a=u(t,["fileName"]);a!=null&&f(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],fS(i,r)),l}function pS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function mS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gS(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function yS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],og(Nt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const p=u(t,["topK"]);p!=null&&f(a,["topK"],p);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const E=u(t,["presencePenalty"]);E!=null&&f(a,["presencePenalty"],E);const R=u(t,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const x=u(t,["seed"]);x!=null&&f(a,["seed"],x);const I=u(t,["responseMimeType"]);I!=null&&f(a,["responseMimeType"],I);const b=u(t,["responseSchema"]);b!=null&&f(a,["responseSchema"],Yu(b));const U=u(t,["responseJsonSchema"]);if(U!=null&&f(a,["responseJsonSchema"],U),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(t,["safetySettings"]);if(l!==void 0&&D!=null){let k=D;Array.isArray(k)&&(k=k.map(ie=>US(ie))),f(l,["safetySettings"],k)}const q=u(t,["tools"]);if(l!==void 0&&q!=null){let k=_o(q);Array.isArray(k)&&(k=k.map(ie=>zS(vo(ie)))),f(l,["tools"],k)}const G=u(t,["toolConfig"]);if(l!==void 0&&G!=null&&f(l,["toolConfig"],kS(G)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);l!==void 0&&X!=null&&f(l,["cachedContent"],kn(i,X));const P=u(t,["responseModalities"]);P!=null&&f(a,["responseModalities"],P);const se=u(t,["mediaResolution"]);se!=null&&f(a,["mediaResolution"],se);const Y=u(t,["speechConfig"]);if(Y!=null&&f(a,["speechConfig"],Ju(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=u(t,["thinkingConfig"]);re!=null&&f(a,["thinkingConfig"],re);const _e=u(t,["imageConfig"]);return _e!=null&&f(a,["imageConfig"],CS(_e)),a}function vS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>eS(m))),f(t,["candidates"],g)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(t,["responseId"],d);const p=u(i,["usageMetadata"]);return p!=null&&f(t,["usageMetadata"],p),t}function _S(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],So(i,a)),l}function SS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],So(i,a)),l}function TS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function ES(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function CS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function xS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["request","model"],Ke(i,a));const r=u(t,["contents"]);if(r!=null){let p=on(r);Array.isArray(p)&&(p=p.map(g=>og(g))),f(l,["request","contents"],p)}const c=u(t,["metadata"]);c!=null&&f(l,["metadata"],c);const d=u(t,["config"]);return d!=null&&f(l,["request","generationConfig"],yS(i,d,u(l,["request"],{}))),l}function AS(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],vS(l));const a=u(i,["error"]);return a!=null&&f(t,["error"],a),t}function bS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function NS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),l}function RS(i){const t={},l=u(i,["config"]);return l!=null&&bS(l,t),t}function wS(i){const t={},l=u(i,["config"]);return l!=null&&NS(l,t),t}function MS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ga(d))),f(t,["batchJobs"],c)}return t}function IS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Du(d))),f(t,["batchJobs"],c)}return t}function DS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],pS(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],mS(d));const p=u(i,["functionResponse"]);p!=null&&f(t,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],W_(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function US(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function kS(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],gS(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function zS(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],TS(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],ES(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Dn||(Dn={}));class Ni{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!a||Object.keys(a).length===0?d={config:{}}:typeof a=="object"?d=Object.assign({},a):d=a,d.config&&(d.config.pageToken=l.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(r=d.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LS extends Un{constructor(t){super(),this.apiClient=t,this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)},this.list=async(l={})=>new Ni(Dn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l)}createInlinedGenerateContentRequest(t){const l=vm(this.apiClient,t),a=l._url,r=Ae("{model}:batchGenerateContent",a),p=l.batch.inputConfig.requests,g=p.requests,m=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=S,_.request=E}m.push(_)}return p.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),d=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(d)a.dest=`${d}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=oS(this.apiClient,t);return p=Ae("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Du(v))}else{const m=vm(this.apiClient,t);return p=Ae("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Ga(v))}}async createEmbeddingsInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=aS(this.apiClient,t);return c=Ae("{model}:asyncBatchEmbedContent",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>Ga(g))}}async get(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=SS(this.apiClient,t);return p=Ae("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Du(v))}else{const m=_S(this.apiClient,t);return p=Ae("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Ga(v))}}async cancel(t){var l,a,r,c;let d="",p={};if(this.apiClient.isVertexAI()){const g=j_(this.apiClient,t);d=Ae("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=$_(this.apiClient,t);d=Ae("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=wS(t);return p=Ae("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=IS(v),S=new pm;return Object.assign(S,_),S})}else{const m=RS(t);return p=Ae("batches",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=MS(v),S=new pm;return Object.assign(S,_),S})}}async delete(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=rS(this.apiClient,t);return p=Ae("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>cS(v))}else{const m=sS(this.apiClient,t);return p=Ae("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>uS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function _m(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>aT(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function qS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let v=on(d);Array.isArray(v)&&(v=v.map(_=>_m(_))),f(t,["contents"],v)}const p=u(i,["systemInstruction"]);t!==void 0&&p!=null&&f(t,["systemInstruction"],_m(Nt(p)));const g=u(i,["tools"]);if(t!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>rT(_))),f(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],sT(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function GS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let _=on(d);Array.isArray(_)&&(_=_.map(S=>S)),f(t,["contents"],_)}const p=u(i,["systemInstruction"]);t!==void 0&&p!=null&&f(t,["systemInstruction"],Nt(p));const g=u(i,["tools"]);if(t!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>uT(S))),f(t,["tools"],_)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),l}function HS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Jm(i,a));const r=u(t,["config"]);return r!=null&&qS(r,l),l}function PS(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Jm(i,a));const r=u(t,["config"]);return r!=null&&GS(r,l),l}function VS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],kn(i,a)),l}function OS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],kn(i,a)),l}function FS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function YS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function JS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function KS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ZS(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function XS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const p=u(i,["responseJsonSchema"]);return p!=null&&f(t,["responseJsonSchema"],p),t}function QS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],kn(i,a)),l}function WS(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],kn(i,a)),l}function $S(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function jS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function eT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function tT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function nT(i){const t={},l=u(i,["config"]);return l!=null&&eT(l,t),t}function iT(i){const t={},l=u(i,["config"]);return l!=null&&tT(l,t),t}function oT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function lT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function aT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],JS(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],KS(d));const p=u(i,["functionResponse"]);p!=null&&f(t,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],BS(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function sT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],ZS(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function rT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],$S(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],jS(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function uT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>XS(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(t,["enterpriseWebSearch"],p);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function cT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function fT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function dT(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],kn(i,a));const r=u(t,["config"]);return r!=null&&cT(r,l),l}function hT(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],kn(i,a));const r=u(t,["config"]);return r!=null&&fT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pT extends Un{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ni(Dn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=PS(this.apiClient,t);return p=Ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=HS(this.apiClient,t);return p=Ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=WS(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=QS(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=OS(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=YS(v),S=new dm;return Object.assign(S,_),S})}else{const m=VS(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=FS(v),S=new dm;return Object.assign(S,_),S})}}async update(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=hT(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=dT(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=iT(t);return p=Ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=lT(v),S=new hm;return Object.assign(S,_),S})}else{const m=nT(t);return p=Ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=oT(v),S=new hm;return Object.assign(S,_),S})}}}function Sm(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(i){return this instanceof at?(this.v=i,this):new at(i)}function go(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),r[Symbol.asyncIterator]=function(){return this},r;function d(E){return function(R){return Promise.resolve(R).then(E,_)}}function p(E,R){a[E]&&(r[E]=function(x){return new Promise(function(I,b){c.push([E,x,I,b])>1||g(E,x)})},R&&(r[E]=R(r[E])))}function g(E,R){try{m(a[E](R))}catch(x){S(c[0][3],x)}}function m(E){E.value instanceof at?Promise.resolve(E.value.v).then(v,_):S(c[0][2],E)}function v(E){g("next",E)}function _(E){g("throw",E)}function S(E,R){E(R),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Sl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Sm=="function"?Sm(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=i[c]&&function(d){return new Promise(function(p,g){d=i[c](d),r(p,g,d.done,d.value)})}}function r(c,d,p,g){Promise.resolve(g).then(function(m){c({value:m,done:p})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:lg(l)}function lg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function gT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Tm(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),c&&!lg(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class yT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new vT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class vT{constructor(t,l,a,r={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),gT(c)}async sendMessage(t){var l;await this.sendPromise;const a=Nt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,d,p;const g=await r,m=(d=(c=g.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(p=v.slice(_))!==null&&p!==void 0?p:[]);const E=m?[m]:[];this.recordHistory(a,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=Nt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const l=t?Tm(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){var a,r;return go(this,arguments,function*(){var d,p,g,m;const v=[];try{for(var _=!0,S=Sl(t),E;E=yield at(S.next()),d=E.done,!d;_=!0){m=E.value,_=!1;const R=m;if(mT(R)){const x=(r=(a=R.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;x!==void 0&&v.push(x)}yield yield at(R)}}catch(R){p={error:R}}finally{try{!_&&!d&&(g=S.return)&&(yield at(g.call(S)))}finally{if(p)throw p.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Tm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function ST(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function TT(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],$m(l)),t}function ET(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function CT(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],$m(l)),t}function xT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function AT(i){const t={},l=u(i,["config"]);return l!=null&&xT(l,t),t}function bT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NT extends Un{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ni(Dn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=AT(t);return c=Ae("files",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=bT(g),v=new I_;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=_T(t);return c=Ae("upload/v1beta/files",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=ST(g),v=new D_;return Object.assign(v,m),v})}}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=CT(t);return c=Ae("files/{file}",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=TT(t);return c=Ae("files/{file}",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=ET(g),v=new U_;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ha(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function RT(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>FT(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function wT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function MT(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function IT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const p=u(i,["responseJsonSchema"]);return p!=null&&f(t,["responseJsonSchema"],p),t}function DT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const p=u(i,["frequencyPenalty"]);p!=null&&f(t,["frequencyPenalty"],p);const g=u(i,["logprobs"]);g!=null&&f(t,["logprobs"],g);const m=u(i,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const E=u(i,["responseMimeType"]);E!=null&&f(t,["responseMimeType"],E);const R=u(i,["responseModalities"]);R!=null&&f(t,["responseModalities"],R);const x=u(i,["responseSchema"]);x!=null&&f(t,["responseSchema"],x);const I=u(i,["routingConfig"]);I!=null&&f(t,["routingConfig"],I);const b=u(i,["seed"]);b!=null&&f(t,["seed"],b);const U=u(i,["speechConfig"]);U!=null&&f(t,["speechConfig"],ag(U));const D=u(i,["stopSequences"]);D!=null&&f(t,["stopSequences"],D);const q=u(i,["temperature"]);q!=null&&f(t,["temperature"],q);const G=u(i,["thinkingConfig"]);G!=null&&f(t,["thinkingConfig"],G);const X=u(i,["topK"]);X!=null&&f(t,["topK"],X);const P=u(i,["topP"]);if(P!=null&&f(t,["topP"],P),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function UT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function kT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function zT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const p=u(i,["topK"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topK"],p);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],Ku(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],E);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],RT(Nt(R)));const x=u(i,["tools"]);if(t!==void 0&&x!=null){let X=_o(x);Array.isArray(X)&&(X=X.map(P=>JT(vo(P)))),f(t,["setup","tools"],X)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],YT(I));const b=u(i,["inputAudioTranscription"]);t!==void 0&&b!=null&&f(t,["setup","inputAudioTranscription"],b);const U=u(i,["outputAudioTranscription"]);t!==void 0&&U!=null&&f(t,["setup","outputAudioTranscription"],U);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const q=u(i,["contextWindowCompression"]);t!==void 0&&q!=null&&f(t,["setup","contextWindowCompression"],q);const G=u(i,["proactivity"]);return t!==void 0&&G!=null&&f(t,["setup","proactivity"],G),l}function LT(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],DT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const p=u(i,["topK"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topK"],p);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],ag(Ku(_)));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],E);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],Nt(R));const x=u(i,["tools"]);if(t!==void 0&&x!=null){let X=_o(x);Array.isArray(X)&&(X=X.map(P=>KT(vo(P)))),f(t,["setup","tools"],X)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],I);const b=u(i,["inputAudioTranscription"]);t!==void 0&&b!=null&&f(t,["setup","inputAudioTranscription"],b);const U=u(i,["outputAudioTranscription"]);t!==void 0&&U!=null&&f(t,["setup","outputAudioTranscription"],U);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const q=u(i,["contextWindowCompression"]);t!==void 0&&q!=null&&f(t,["setup","contextWindowCompression"],q);const G=u(i,["proactivity"]);return t!==void 0&&G!=null&&f(t,["setup","proactivity"],G),l}function BT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Ke(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],zT(r,l)),l}function qT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Ke(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],LT(r,l)),l}function GT(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function HT(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function PT(i){const t={},l=u(i,["media"]);if(l!=null){let m=Km(l);Array.isArray(m)&&(m=m.map(v=>Ha(v))),f(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Ha(Xm(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Ha(Zm(c)));const d=u(i,["text"]);d!=null&&f(t,["text"],d);const p=u(i,["activityStart"]);p!=null&&f(t,["activityStart"],p);const g=u(i,["activityEnd"]);return g!=null&&f(t,["activityEnd"],g),t}function VT(i){const t={},l=u(i,["media"]);if(l!=null){let m=Km(l);Array.isArray(m)&&(m=m.map(v=>v)),f(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Xm(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Zm(c));const d=u(i,["text"]);d!=null&&f(t,["text"],d);const p=u(i,["activityStart"]);p!=null&&f(t,["activityStart"],p);const g=u(i,["activityEnd"]);return g!=null&&f(t,["activityEnd"],g),t}function OT(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const d=u(i,["usageMetadata"]);d!=null&&f(t,["usageMetadata"],ZT(d));const p=u(i,["goAway"]);p!=null&&f(t,["goAway"],p);const g=u(i,["sessionResumptionUpdate"]);return g!=null&&f(t,["sessionResumptionUpdate"],g),t}function FT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],wT(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],MT(d));const p=u(i,["functionResponse"]);p!=null&&f(t,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],Ha(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function YT(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ag(i){const t={},l=u(i,["languageCode"]);l!=null&&f(t,["languageCode"],l);const a=u(i,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function JT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],UT(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],kT(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function KT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>IT(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(t,["enterpriseWebSearch"],p);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function ZT(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const d=u(i,["thoughtsTokenCount"]);d!=null&&f(t,["thoughtsTokenCount"],d);const p=u(i,["totalTokenCount"]);p!=null&&f(t,["totalTokenCount"],p);const g=u(i,["promptTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(R=>R)),f(t,["promptTokensDetails"],E)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(R=>R)),f(t,["cacheTokensDetails"],E)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(R=>R)),f(t,["responseTokensDetails"],E)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(R=>R)),f(t,["toolUsePromptTokensDetails"],E)}const S=u(i,["trafficType"]);return S!=null&&f(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XT(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function QT(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],WT(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const p=u(i,["groundingMetadata"]);p!=null&&f(t,["groundingMetadata"],p);const g=u(i,["index"]);g!=null&&f(t,["index"],g);const m=u(i,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),f(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function WT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function $T(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["contents"]);if(r!=null){let c=on(r);Array.isArray(c)&&(c=c.map(d=>d)),f(l,["contents"],c)}return l}function jT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["tokensInfo"],r)}return t}function e1(i){const t={},l=u(i,["values"]);l!=null&&f(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&f(t,["statistics"],t1(a)),t}function t1(i){const t={},l=u(i,["truncated"]);l!=null&&f(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function Xa(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>cE(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function n1(i){const t={},l=u(i,["controlType"]);l!=null&&f(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function i1(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function o1(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],Nt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>fg(p))),f(t,["tools"],d)}const c=u(i,["generationConfig"]);return t!==void 0&&c!=null&&f(t,["generationConfig"],X1(c)),l}function l1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["contents"]);if(r!=null){let d=on(r);Array.isArray(d)&&(d=d.map(p=>Xa(p))),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&i1(c),l}function a1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["contents"]);if(r!=null){let d=on(r);Array.isArray(d)&&(d=d.map(p=>p)),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&o1(c,l),l}function s1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function r1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function u1(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Ke(i,a)),l}function c1(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Ke(i,a)),l}function f1(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function d1(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function h1(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const p=u(i,["guidanceScale"]);t!==void 0&&p!=null&&f(t,["parameters","guidanceScale"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const E=u(i,["language"]);t!==void 0&&E!=null&&f(t,["parameters","language"],E);const R=u(i,["outputMimeType"]);t!==void 0&&R!=null&&f(t,["parameters","outputOptions","mimeType"],R);const x=u(i,["outputCompressionQuality"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","compressionQuality"],x);const I=u(i,["addWatermark"]);t!==void 0&&I!=null&&f(t,["parameters","addWatermark"],I);const b=u(i,["labels"]);t!==void 0&&b!=null&&f(t,["labels"],b);const U=u(i,["editMode"]);t!==void 0&&U!=null&&f(t,["parameters","editMode"],U);const D=u(i,["baseSteps"]);return t!==void 0&&D!=null&&f(t,["parameters","editConfig","baseSteps"],D),l}function p1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>gE(g))),f(l,["instances[0]","referenceImages"],p)}const d=u(t,["config"]);return d!=null&&h1(d,l),l}function m1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Qa(c))),f(t,["generatedImages"],r)}return t}function g1(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function y1(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const c=u(i,["outputDimensionality"]);t!==void 0&&c!=null&&f(t,["parameters","outputDimensionality"],c);const d=u(i,["mimeType"]);t!==void 0&&d!=null&&f(t,["instances[]","mimeType"],d);const p=u(i,["autoTruncate"]);return t!==void 0&&p!=null&&f(t,["parameters","autoTruncate"],p),l}function v1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["contents"]);if(r!=null){let p=Fu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),f(l,["requests[]","content"],p)}const c=u(t,["config"]);c!=null&&g1(c,l);const d=u(t,["model"]);return d!==void 0&&f(l,["requests[]","model"],Ke(i,d)),l}function _1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["contents"]);if(r!=null){let d=Fu(i,r);Array.isArray(d)&&(d=d.map(p=>p)),f(l,["instances[]","content"],d)}const c=u(t,["config"]);return c!=null&&y1(c,l),l}function S1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function T1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>e1(d))),f(t,["embeddings"],c)}const r=u(i,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function E1(i){const t={},l=u(i,["endpoint"]);l!=null&&f(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function C1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function x1(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function A1(i){const t={},l=u(i,["mode"]);l!=null&&f(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function b1(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const p=u(i,["responseJsonSchema"]);return p!=null&&f(t,["responseJsonSchema"],p),t}function N1(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],Xa(Nt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const p=u(t,["topK"]);p!=null&&f(a,["topK"],p);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const E=u(t,["presencePenalty"]);E!=null&&f(a,["presencePenalty"],E);const R=u(t,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const x=u(t,["seed"]);x!=null&&f(a,["seed"],x);const I=u(t,["responseMimeType"]);I!=null&&f(a,["responseMimeType"],I);const b=u(t,["responseSchema"]);b!=null&&f(a,["responseSchema"],Yu(b));const U=u(t,["responseJsonSchema"]);if(U!=null&&f(a,["responseJsonSchema"],U),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(t,["safetySettings"]);if(l!==void 0&&D!=null){let k=D;Array.isArray(k)&&(k=k.map(ie=>yE(ie))),f(l,["safetySettings"],k)}const q=u(t,["tools"]);if(l!==void 0&&q!=null){let k=_o(q);Array.isArray(k)&&(k=k.map(ie=>xE(vo(ie)))),f(l,["tools"],k)}const G=u(t,["toolConfig"]);if(l!==void 0&&G!=null&&f(l,["toolConfig"],CE(G)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);l!==void 0&&X!=null&&f(l,["cachedContent"],kn(i,X));const P=u(t,["responseModalities"]);P!=null&&f(a,["responseModalities"],P);const se=u(t,["mediaResolution"]);se!=null&&f(a,["mediaResolution"],se);const Y=u(t,["speechConfig"]);if(Y!=null&&f(a,["speechConfig"],Ju(Y)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=u(t,["thinkingConfig"]);re!=null&&f(a,["thinkingConfig"],re);const _e=u(t,["imageConfig"]);return _e!=null&&f(a,["imageConfig"],eE(_e)),a}function R1(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],Nt(r));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const p=u(t,["topK"]);p!=null&&f(a,["topK"],p);const g=u(t,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const E=u(t,["presencePenalty"]);E!=null&&f(a,["presencePenalty"],E);const R=u(t,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const x=u(t,["seed"]);x!=null&&f(a,["seed"],x);const I=u(t,["responseMimeType"]);I!=null&&f(a,["responseMimeType"],I);const b=u(t,["responseSchema"]);b!=null&&f(a,["responseSchema"],Yu(b));const U=u(t,["responseJsonSchema"]);U!=null&&f(a,["responseJsonSchema"],U);const D=u(t,["routingConfig"]);D!=null&&f(a,["routingConfig"],D);const q=u(t,["modelSelectionConfig"]);q!=null&&f(a,["modelConfig"],q);const G=u(t,["safetySettings"]);if(l!==void 0&&G!=null){let J=G;Array.isArray(J)&&(J=J.map(Z=>Z)),f(l,["safetySettings"],J)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let J=_o(X);Array.isArray(J)&&(J=J.map(Z=>fg(vo(Z)))),f(l,["tools"],J)}const P=u(t,["toolConfig"]);l!==void 0&&P!=null&&f(l,["toolConfig"],P);const se=u(t,["labels"]);l!==void 0&&se!=null&&f(l,["labels"],se);const Y=u(t,["cachedContent"]);l!==void 0&&Y!=null&&f(l,["cachedContent"],kn(i,Y));const re=u(t,["responseModalities"]);re!=null&&f(a,["responseModalities"],re);const _e=u(t,["mediaResolution"]);_e!=null&&f(a,["mediaResolution"],_e);const k=u(t,["speechConfig"]);k!=null&&f(a,["speechConfig"],cg(Ju(k)));const ie=u(t,["audioTimestamp"]);ie!=null&&f(a,["audioTimestamp"],ie);const N=u(t,["thinkingConfig"]);N!=null&&f(a,["thinkingConfig"],N);const K=u(t,["imageConfig"]);return K!=null&&f(a,["imageConfig"],tE(K)),a}function Em(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["contents"]);if(r!=null){let d=on(r);Array.isArray(d)&&(d=d.map(p=>Xa(p))),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],N1(i,c,l)),l}function Cm(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["contents"]);if(r!=null){let d=on(r);Array.isArray(d)&&(d=d.map(p=>p)),f(l,["contents"],d)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],R1(i,c,l)),l}function xm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>QT(m))),f(t,["candidates"],g)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(t,["responseId"],d);const p=u(i,["usageMetadata"]);return p!=null&&f(t,["usageMetadata"],p),t}function Am(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),f(t,["candidates"],m)}const r=u(i,["createTime"]);r!=null&&f(t,["createTime"],r);const c=u(i,["modelVersion"]);c!=null&&f(t,["modelVersion"],c);const d=u(i,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&f(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function w1(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const c=u(i,["guidanceScale"]);if(t!==void 0&&c!=null&&f(t,["parameters","guidanceScale"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["safetyFilterLevel"]);t!==void 0&&d!=null&&f(t,["parameters","safetySetting"],d);const p=u(i,["personGeneration"]);t!==void 0&&p!=null&&f(t,["parameters","personGeneration"],p);const g=u(i,["includeSafetyAttributes"]);t!==void 0&&g!=null&&f(t,["parameters","includeSafetyAttributes"],g);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const v=u(i,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","mimeType"],_);const S=u(i,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=u(i,["imageSize"]);if(t!==void 0&&E!=null&&f(t,["parameters","sampleImageSize"],E),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function M1(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(i,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const p=u(i,["guidanceScale"]);t!==void 0&&p!=null&&f(t,["parameters","guidanceScale"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const E=u(i,["language"]);t!==void 0&&E!=null&&f(t,["parameters","language"],E);const R=u(i,["outputMimeType"]);t!==void 0&&R!=null&&f(t,["parameters","outputOptions","mimeType"],R);const x=u(i,["outputCompressionQuality"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","compressionQuality"],x);const I=u(i,["addWatermark"]);t!==void 0&&I!=null&&f(t,["parameters","addWatermark"],I);const b=u(i,["labels"]);t!==void 0&&b!=null&&f(t,["labels"],b);const U=u(i,["imageSize"]);t!==void 0&&U!=null&&f(t,["parameters","sampleImageSize"],U);const D=u(i,["enhancePrompt"]);return t!==void 0&&D!=null&&f(t,["parameters","enhancePrompt"],D),l}function I1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&w1(c,l),l}function D1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&M1(c,l),l}function U1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Y1(d))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],rg(r)),t}function k1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Qa(d))),f(t,["generatedImages"],c)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],ug(r)),t}function z1(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const d=u(i,["resolution"]);t!==void 0&&d!=null&&f(t,["parameters","resolution"],d);const p=u(i,["personGeneration"]);if(t!==void 0&&p!=null&&f(t,["parameters","personGeneration"],p),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=u(i,["negativePrompt"]);t!==void 0&&g!=null&&f(t,["parameters","negativePrompt"],g);const m=u(i,["enhancePrompt"]);if(t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],Wa(v));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>BE(E))),f(t,["instances[0]","referenceImages"],S)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function L1(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["fps"]);t!==void 0&&c!=null&&f(t,["parameters","fps"],c);const d=u(i,["durationSeconds"]);t!==void 0&&d!=null&&f(t,["parameters","durationSeconds"],d);const p=u(i,["seed"]);t!==void 0&&p!=null&&f(t,["parameters","seed"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const m=u(i,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&f(t,["parameters","pubsubTopic"],_);const S=u(i,["negativePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","negativePrompt"],S);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&f(t,["parameters","enhancePrompt"],E);const R=u(i,["generateAudio"]);t!==void 0&&R!=null&&f(t,["parameters","generateAudio"],R);const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&f(t,["instances[0]","lastFrame"],rn(x));const I=u(i,["referenceImages"]);if(t!==void 0&&I!=null){let D=I;Array.isArray(D)&&(D=D.map(q=>qE(q))),f(t,["instances[0]","referenceImages"],D)}const b=u(i,["mask"]);t!==void 0&&b!=null&&f(t,["instances[0]","mask"],LE(b));const U=u(i,["compressionQuality"]);return t!==void 0&&U!=null&&f(t,["parameters","compressionQuality"],U),l}function B1(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],P1(d)),t}function q1(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],V1(d)),t}function G1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],Wa(c));const d=u(t,["video"]);d!=null&&f(l,["instances[0]","video"],dg(d));const p=u(t,["source"]);p!=null&&O1(p,l);const g=u(t,["config"]);return g!=null&&z1(g,l),l}function H1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],rn(c));const d=u(t,["video"]);d!=null&&f(l,["instances[0]","video"],hg(d));const p=u(t,["source"]);p!=null&&F1(p,l);const g=u(t,["config"]);return g!=null&&L1(g,l),l}function P1(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>K1(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function V1(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Z1(d))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function O1(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Wa(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],dg(c)),l}function F1(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],rn(r));const c=u(i,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],hg(c)),l}function Y1(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],nE(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&f(t,["safetyAttributes"],rg(r)),t}function Qa(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["image"],sg(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&f(t,["safetyAttributes"],ug(r));const c=u(i,["prompt"]);return c!=null&&f(t,["enhancedPrompt"],c),t}function J1(i){const t={},l=u(i,["_self"]);l!=null&&f(t,["mask"],sg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["labels"],r)}return t}function K1(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],kE(l)),t}function Z1(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],zE(l)),t}function X1(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const p=u(i,["frequencyPenalty"]);p!=null&&f(t,["frequencyPenalty"],p);const g=u(i,["logprobs"]);g!=null&&f(t,["logprobs"],g);const m=u(i,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const E=u(i,["responseMimeType"]);E!=null&&f(t,["responseMimeType"],E);const R=u(i,["responseModalities"]);R!=null&&f(t,["responseModalities"],R);const x=u(i,["responseSchema"]);x!=null&&f(t,["responseSchema"],x);const I=u(i,["routingConfig"]);I!=null&&f(t,["routingConfig"],I);const b=u(i,["seed"]);b!=null&&f(t,["seed"],b);const U=u(i,["speechConfig"]);U!=null&&f(t,["speechConfig"],cg(U));const D=u(i,["stopSequences"]);D!=null&&f(t,["stopSequences"],D);const q=u(i,["temperature"]);q!=null&&f(t,["temperature"],q);const G=u(i,["thinkingConfig"]);G!=null&&f(t,["thinkingConfig"],G);const X=u(i,["topK"]);X!=null&&f(t,["topK"],X);const P=u(i,["topP"]);if(P!=null&&f(t,["topP"],P),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Q1(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Ke(i,a)),l}function W1(i,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],Ke(i,a)),l}function $1(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function j1(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function eE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function tE(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&f(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&f(t,["imageOutputOptions","mimeType"],r);const c=u(i,["outputCompressionQuality"]);return c!=null&&f(t,["imageOutputOptions","compressionQuality"],c),t}function nE(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],si(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function sg(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],si(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Wa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],si(l));const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function rn(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],si(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function iE(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const d=u(t,["filter"]);l!==void 0&&d!=null&&f(l,["_query","filter"],d);const p=u(t,["queryBase"]);return l!==void 0&&p!=null&&f(l,["_url","models_url"],jm(i,p)),a}function oE(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const d=u(t,["filter"]);l!==void 0&&d!=null&&f(l,["_query","filter"],d);const p=u(t,["queryBase"]);return l!==void 0&&p!=null&&f(l,["_url","models_url"],jm(i,p)),a}function lE(i,t){const l={},a=u(t,["config"]);return a!=null&&iE(i,a,l),l}function aE(i,t){const l={},a=u(t,["config"]);return a!=null&&oE(i,a,l),l}function sE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=eg(r);Array.isArray(c)&&(c=c.map(d=>Uu(d))),f(t,["models"],c)}return t}function rE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let c=eg(r);Array.isArray(c)&&(c=c.map(d=>ku(d))),f(t,["models"],c)}return t}function uE(i){const t={},l=u(i,["maskMode"]);l!=null&&f(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function Uu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["version"]);c!=null&&f(t,["version"],c);const d=u(i,["_self"]);d!=null&&f(t,["tunedModelInfo"],AE(d));const p=u(i,["inputTokenLimit"]);p!=null&&f(t,["inputTokenLimit"],p);const g=u(i,["outputTokenLimit"]);g!=null&&f(t,["outputTokenLimit"],g);const m=u(i,["supportedGenerationMethods"]);m!=null&&f(t,["supportedActions"],m);const v=u(i,["temperature"]);v!=null&&f(t,["temperature"],v);const _=u(i,["maxTemperature"]);_!=null&&f(t,["maxTemperature"],_);const S=u(i,["topP"]);S!=null&&f(t,["topP"],S);const E=u(i,["topK"]);E!=null&&f(t,["topK"],E);const R=u(i,["thinking"]);return R!=null&&f(t,["thinking"],R),t}function ku(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);r!=null&&f(t,["description"],r);const c=u(i,["versionId"]);c!=null&&f(t,["version"],c);const d=u(i,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>E1(S))),f(t,["endpoints"],_)}const p=u(i,["labels"]);p!=null&&f(t,["labels"],p);const g=u(i,["_self"]);g!=null&&f(t,["tunedModelInfo"],bE(g));const m=u(i,["defaultCheckpointId"]);m!=null&&f(t,["defaultCheckpointId"],m);const v=u(i,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),f(t,["checkpoints"],_)}return t}function cE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],C1(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],x1(d));const p=u(i,["functionResponse"]);p!=null&&f(t,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],XT(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function fE(i){const t={},l=u(i,["productImage"]);return l!=null&&f(t,["image"],rn(l)),t}function dE(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const d=u(i,["seed"]);t!==void 0&&d!=null&&f(t,["parameters","seed"],d);const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&f(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const m=u(i,["addWatermark"]);t!==void 0&&m!=null&&f(t,["parameters","addWatermark"],m);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_);const S=u(i,["enhancePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","enhancePrompt"],S);const E=u(i,["labels"]);return t!==void 0&&E!=null&&f(t,["labels"],E),l}function hE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["source"]);r!=null&&mE(r,l);const c=u(t,["config"]);return c!=null&&dE(c,l),l}function pE(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Qa(r))),f(t,["generatedImages"],a)}return t}function mE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],rn(r));const c=u(i,["productImages"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>fE(p))),f(t,["instances[0]","productImages"],d)}return l}function gE(i){const t={},l=u(i,["referenceImage"]);l!=null&&f(t,["referenceImage"],rn(l));const a=u(i,["referenceId"]);a!=null&&f(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&f(t,["referenceType"],r);const c=u(i,["maskImageConfig"]);c!=null&&f(t,["maskImageConfig"],uE(c));const d=u(i,["controlImageConfig"]);d!=null&&f(t,["controlImageConfig"],n1(d));const p=u(i,["styleImageConfig"]);p!=null&&f(t,["styleImageConfig"],p);const g=u(i,["subjectImageConfig"]);return g!=null&&f(t,["subjectImageConfig"],g),t}function rg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function ug(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function yE(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function vE(i){const t={},l=u(i,["image"]);return l!=null&&f(t,["image"],rn(l)),t}function _E(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&f(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const c=u(i,["confidenceThreshold"]);t!==void 0&&c!=null&&f(t,["parameters","confidenceThreshold"],c);const d=u(i,["maskDilation"]);t!==void 0&&d!=null&&f(t,["parameters","maskDilation"],d);const p=u(i,["binaryColorThreshold"]);t!==void 0&&p!=null&&f(t,["parameters","binaryColorThreshold"],p);const g=u(i,["labels"]);return t!==void 0&&g!=null&&f(t,["labels"],g),l}function SE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["source"]);r!=null&&EE(r,l);const c=u(t,["config"]);return c!=null&&_E(c,l),l}function TE(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>J1(r))),f(t,["generatedMasks"],a)}return t}function EE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],rn(r));const c=u(i,["scribbleImage"]);return t!==void 0&&c!=null&&f(t,["instances[0]","scribble"],vE(c)),l}function cg(i){const t={},l=u(i,["languageCode"]);l!=null&&f(t,["languageCode"],l);const a=u(i,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function CE(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],A1(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function xE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],$1(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],j1(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function fg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>b1(S))),f(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(i,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(t,["enterpriseWebSearch"],p);const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function AE(i){const t={},l=u(i,["baseModel"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function bE(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function NE(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function RE(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(i,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function wE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","name"],Ke(i,a));const r=u(t,["config"]);return r!=null&&NE(r,l),l}function ME(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["config"]);return r!=null&&RE(r,l),l}function IE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const c=u(i,["personGeneration"]);t!==void 0&&c!=null&&f(t,["parameters","personGeneration"],c);const d=u(i,["includeRaiReason"]);t!==void 0&&d!=null&&f(t,["parameters","includeRaiReason"],d);const p=u(i,["outputMimeType"]);t!==void 0&&p!=null&&f(t,["parameters","outputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","compressionQuality"],g);const m=u(i,["enhanceInputImage"]);t!==void 0&&m!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=u(i,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const S=u(i,["numberOfImages"]);t!==void 0&&S!=null&&f(t,["parameters","sampleCount"],S);const E=u(i,["mode"]);return t!==void 0&&E!=null&&f(t,["parameters","mode"],E),l}function DE(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],Ke(i,a));const r=u(t,["image"]);r!=null&&f(l,["instances[0]","image"],rn(r));const c=u(t,["upscaleFactor"]);c!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],c);const d=u(t,["config"]);return d!=null&&IE(d,l),l}function UE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Qa(c))),f(t,["generatedImages"],r)}return t}function kE(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],si(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function zE(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],si(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function LE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["_self"],rn(l));const a=u(i,["maskMode"]);return a!=null&&f(t,["maskMode"],a),t}function BE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],Wa(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function qE(i){const t={},l=u(i,["image"]);l!=null&&f(t,["image"],rn(l));const a=u(i,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function dg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["encodedVideo"],si(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function hg(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&f(t,["bytesBase64Encoded"],si(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GE="Content-Type",HE="X-Server-Timeout",PE="User-Agent",zu="x-goog-api-client",VE="1.30.0",OE=`google-genai-sdk/${VE}`,FE="v1beta1",YE="v1beta",bm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class JE{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:FE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:YE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[d,p]of Object.entries(t.queryParams))r.searchParams.append(d,String(p));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(l))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const c=new AbortController,d=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const p=setTimeout(()=>c.abort(),l.timeout);p&&typeof p.unref=="function"&&p.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=d}return l&&l.extraBody!==null&&KE(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Nm(r),new Mu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Nm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var l;return go(this,arguments,function*(){const r=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let d="";for(;;){const{done:p,value:g}=yield at(r.read());if(p){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(g,{stream:!0});try{const _=JSON.parse(m);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),E=S.status,R=S.code,x=`got status: ${E}. ${JSON.stringify(_)}`;if(R>=400&&R<600)throw new Za({message:x,status:R})}}catch(_){if(_.name==="ApiError")throw _}d+=m;let v=d.match(bm);for(;v;){const _=v[1];try{const S=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield at(new Mu(S)),d=d.slice(v[0].length),v=d.match(bm)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=OE+" "+this.clientOptions.userAgentExtra;return t[PE]=l,t[zu]=l,t[GE]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(HE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,d=await c.stat(t);r.sizeBytes=String(d.size);const p=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=p;const g={file:r},m=this.getFileName(t),v=Ae("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,g,l==null?void 0:l.httpOptions);return c.upload(t,_,this)}async uploadFileToFileSearchStore(t,l,a){var r;const c=this.clientOptions.uploader,d=await c.stat(l),p=String(d.size),g=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),_={};a!=null&&a.customMetadata&&(_.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(_.chunkingConfig=a.chunkingConfig);const S=await this.fetchUploadUrl(m,p,g,v,_,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(l,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,c,d){var p;let g={};d?g=d:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Nm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Za({message:r,status:l}):new Error(r)}}function KE(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,d){const p=Object.assign({},c);for(const g in d)if(Object.prototype.hasOwnProperty.call(d,g)){const m=d[g],v=p[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[g]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[g]=m)}return p}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZE="mcp_used/unknown";let XE=!1;function pg(i){for(const t of i)if(QE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return XE}function mg(i){var t;const l=(t=i[zu])!==null&&t!==void 0?t:"";i[zu]=(l+` ${ZE}`).trimStart()}function QE(i){return i!==null&&typeof i=="object"&&i instanceof Zu}function WE(i,t=100){return go(this,arguments,function*(){let a,r=0;for(;r<t;){const c=yield at(i.listTools({cursor:a}));for(const d of c.tools)yield yield at(d),r++;if(!c.nextCursor)break;a=c.nextCursor}})}class Zu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Zu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const c={},d=[];for(const v of this.mcpClients)try{for(var p=!0,g=(l=void 0,Sl(WE(v))),m;m=await g.next(),t=m.done,!t;p=!0){r=m.value,p=!1;const _=r;d.push(_);const S=_.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(_){l={error:_}}finally{try{!p&&!t&&(a=g.return)&&await a.call(g)}finally{if(l)throw l.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),O_(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await r.callTool({name:a.name,arguments:a.args},void 0,c);l.push({functionResponse:{name:a.name,response:d.isError?{error:d}:d}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $E(i,t,l){const a=new z_;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class jE{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=nC(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(D=>{m=D}),_=t.callbacks,S=function(){m({})},E=this.apiClient,R={onopen:S,onmessage:D=>{$E(E,_.onmessage,D)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(D){},onclose:(a=_==null?void 0:_.onclose)!==null&&a!==void 0?a:function(D){}},x=this.webSocketFactory.create(g,tC(d),R);x.connect(),await v;const U={setup:{model:Ke(this.apiClient,t.model)}};return x.send(JSON.stringify(U)),new eC(x,this.apiClient)}}class eC{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=HT(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=GT(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(po.PLAY)}pause(){this.sendPlaybackControl(po.PAUSE)}stop(){this.sendPlaybackControl(po.STOP)}resetContext(){this.sendPlaybackControl(po.RESET_CONTEXT)}close(){this.conn.close()}}function tC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function nC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function oC(i,t,l){const a=new k_;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(i.isVertexAI()){const d=OT(c);Object.assign(a,d)}else Object.assign(a,c);t(a)}class lC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new jE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,c,d,p;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&pg(t.config.tools)&&mg(_);const S=uC(_);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const Y=this.apiClient.getApiKey();let re="BidiGenerateContent",_e="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",_e="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${re}?${_e}=${Y}`}let E=()=>{};const R=new Promise(Y=>{E=Y}),x=t.callbacks,I=function(){var Y;(Y=x==null?void 0:x.onopen)===null||Y===void 0||Y.call(x),E({})},b=this.apiClient,U={onopen:I,onmessage:Y=>{oC(b,x.onmessage,Y)},onerror:(l=x==null?void 0:x.onerror)!==null&&l!==void 0?l:function(Y){},onclose:(a=x==null?void 0:x.onclose)!==null&&a!==void 0?a:function(Y){}},D=this.webSocketFactory.create(v,rC(S),U);D.connect(),await R;let q=Ke(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const Y=this.apiClient.getProject(),re=this.apiClient.getLocation();q=`projects/${Y}/locations/${re}/`+q}let G={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Fa.AUDIO]}:t.config.responseModalities=[Fa.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(p=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],P=[];for(const Y of X)if(this.isCallableTool(Y)){const re=Y;P.push(await re.tool())}else P.push(Y);P.length>0&&(t.config.tools=P);const se={model:q,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?G=qT(this.apiClient,se):G=BT(this.apiClient,se),delete G.config,D.send(JSON.stringify(G)),new sC(D,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const aC={turnComplete:!0};class sC{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=on(l.turns),t.isVertexAI()||(a=a.map(r=>Xa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(iC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},aC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:VT(t)}:l={realtimeInput:PT(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function rC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function uC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rm=10;function wm(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const d of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(yo(d)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function yo(i){return"callTool"in i&&typeof i.callTool=="function"}function cC(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>yo(r)))!==null&&a!==void 0?a:!1}function Mm(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(yo(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(r)}),l}function Im(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends Un{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,c,d,p;const g=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!cC(l)||wm(l.config))return await this.generateContentInternal(g);const m=Mm(l);if(m.length>0){const x=m.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let v,_;const S=on(g.contents),E=(c=(r=(a=g.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Rm;let R=0;for(;R<E&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const x=v.candidates[0].content,I=[];for(const b of(p=(d=l.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(yo(b)){const D=await b.callTool(v.functionCalls);I.push(...D)}R++,_={role:"user",parts:I},g.contents=on(g.contents),g.contents.push(x),g.contents.push(_),Im(g.config)&&(S.push(x),S.push(_))}return Im(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async l=>{var a,r,c,d,p;if(this.maybeMoveToResponseJsonSchem(l),wm(l.config)){const _=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(_)}const g=Mm(l);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(p=(d=l==null?void 0:l.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let c;const d=[];if(a!=null&&a.generatedImages)for(const g of a.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=g==null?void 0:g.safetyAttributes:d.push(g);let p;return c?p={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:a.sdkHttpResponse},p}),this.list=async l=>{var a;const d={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((a=d.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ni(Dn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,c,d,p,g;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((d=(c=l.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((g=(p=l.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const d=await Promise.all(c.map(async g=>yo(g)?await g.tool():g)),p={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(p.config.tools=d,t.config&&t.config.tools&&pg(t.config.tools)){const g=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),mg(m),p.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(t){var l,a,r;const c=new Map;for(const d of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(yo(d)){const p=d,g=await p.tool();for(const m of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,p)}}return c}async processAfcStream(t){var l,a,r;const c=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Rm;let d=!1,p=0;const g=await this.initAfcToolsMap(t);return(function(m,v,_){var S,E;return go(this,arguments,function*(){for(var R,x,I,b;p<c;){d&&(p++,d=!1);const G=yield at(m.processParamsMaybeAddMcpUsage(_)),X=yield at(m.generateContentStreamInternal(G)),P=[],se=[];try{for(var U=!0,D=(x=void 0,Sl(X)),q;q=yield at(D.next()),R=q.done,!R;U=!0){b=q.value,U=!1;const Y=b;if(yield yield at(Y),Y.candidates&&(!((S=Y.candidates[0])===null||S===void 0)&&S.content)){se.push(Y.candidates[0].content);for(const re of(E=Y.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(p<c&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(re.functionCall.name)){const _e=yield at(v.get(re.functionCall.name).callTool([re.functionCall]));P.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(Y){x={error:Y}}finally{try{!U&&!R&&(I=D.return)&&(yield at(I.call(D)))}finally{if(x)throw x.error}}if(P.length>0){d=!0;const Y=new gl;Y.candidates=[{content:{role:"user",parts:P}}],yield yield at(Y);const re=[];re.push(...se),re.push({role:"user",parts:P});const _e=on(_.contents).concat(re);_.contents=_e}else break}})})(this,g,t)}async generateContentInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=Cm(this.apiClient,t);return p=Ae("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Am(v),S=new gl;return Object.assign(S,_),S})}else{const m=Em(this.apiClient,t);return p=Ae("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=xm(v),S=new gl;return Object.assign(S,_),S})}}async generateContentStreamInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=Cm(this.apiClient,t);return p=Ae("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),d.then(function(_){return go(this,arguments,function*(){var S,E,R,x;try{for(var I=!0,b=Sl(_),U;U=yield at(b.next()),S=U.done,!S;I=!0){x=U.value,I=!1;const D=x,q=Am(yield at(D.json()));q.sdkHttpResponse={headers:D.headers};const G=new gl;Object.assign(G,q),yield yield at(G)}}catch(D){E={error:D}}finally{try{!I&&!S&&(R=b.return)&&(yield at(R.call(b)))}finally{if(E)throw E.error}}})})}else{const m=Em(this.apiClient,t);return p=Ae("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(_){return go(this,arguments,function*(){var S,E,R,x;try{for(var I=!0,b=Sl(_),U;U=yield at(b.next()),S=U.done,!S;I=!0){x=U.value,I=!1;const D=x,q=xm(yield at(D.json()));q.sdkHttpResponse={headers:D.headers};const G=new gl;Object.assign(G,q),yield yield at(G)}}catch(D){E={error:D}}finally{try{!I&&!S&&(R=b.return)&&(yield at(R.call(b)))}finally{if(E)throw E.error}}})})}}async embedContent(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=_1(this.apiClient,t);return p=Ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=T1(v),S=new am;return Object.assign(S,_),S})}else{const m=v1(this.apiClient,t);return p=Ae("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=S1(v),S=new am;return Object.assign(S,_),S})}}async generateImagesInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=D1(this.apiClient,t);return p=Ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=k1(v),S=new sm;return Object.assign(S,_),S})}else{const m=I1(this.apiClient,t);return p=Ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=U1(v),S=new sm;return Object.assign(S,_),S})}}async editImageInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const p=p1(this.apiClient,t);return c=Ae("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=m1(g),v=new C_;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const p=DE(this.apiClient,t);return c=Ae("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=UE(g),v=new x_;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const p=hE(this.apiClient,t);return c=Ae("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=pE(g),v=new A_;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const p=SE(this.apiClient,t);return c=Ae("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=TE(g),v=new b_;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=W1(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>ku(v))}else{const m=Q1(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Uu(v))}}async listInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=aE(this.apiClient,t);return p=Ae("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=rE(v),S=new rm;return Object.assign(S,_),S})}else{const m=lE(this.apiClient,t);return p=Ae("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=sE(v),S=new rm;return Object.assign(S,_),S})}}async update(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=ME(this.apiClient,t);return p=Ae("{model}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>ku(v))}else{const m=wE(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Uu(v))}}async delete(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=c1(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=d1(v),S=new um;return Object.assign(S,_),S})}else{const m=u1(this.apiClient,t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=f1(v),S=new um;return Object.assign(S,_),S})}}async countTokens(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=a1(this.apiClient,t);return p=Ae("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=r1(v),S=new cm;return Object.assign(S,_),S})}else{const m=l1(this.apiClient,t);return p=Ae("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=s1(v),S=new cm;return Object.assign(S,_),S})}}async computeTokens(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const p=$T(this.apiClient,t);return c=Ae("{model}:computeTokens",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const m=jT(g),v=new N_;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=H1(this.apiClient,t);return p=Ae("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>{const _=q1(v),S=new Ya;return Object.assign(S,_),S})}else{const m=G1(this.apiClient,t);return p=Ae("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>{const _=B1(v),S=new Ya;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dC extends Un{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=y_(t);return p=Ae("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d}else{const m=g_(t);return p=Ae("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const p=u_(t);return c=Ae("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function pC(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>CC(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function mC(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const d=u(t,["uses"]);l!==void 0&&d!=null&&f(l,["uses"],d);const p=u(t,["liveConnectConstraints"]);l!==void 0&&p!=null&&f(l,["bidiGenerateContentSetup"],EC(i,p));const g=u(t,["lockAdditionalFields"]);return l!==void 0&&g!=null&&f(l,["fieldMask"],g),a}function gC(i,t){const l={},a=u(t,["config"]);return a!=null&&f(l,["config"],mC(i,a,l)),l}function yC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function vC(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function _C(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function SC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function TC(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const p=u(i,["topK"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topK"],p);const g=u(i,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],Ku(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],E);const R=u(i,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],pC(Nt(R)));const x=u(i,["tools"]);if(t!==void 0&&x!=null){let X=_o(x);Array.isArray(X)&&(X=X.map(P=>AC(vo(P)))),f(t,["setup","tools"],X)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],xC(I));const b=u(i,["inputAudioTranscription"]);t!==void 0&&b!=null&&f(t,["setup","inputAudioTranscription"],b);const U=u(i,["outputAudioTranscription"]);t!==void 0&&U!=null&&f(t,["setup","outputAudioTranscription"],U);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const q=u(i,["contextWindowCompression"]);t!==void 0&&q!=null&&f(t,["setup","contextWindowCompression"],q);const G=u(i,["proactivity"]);return t!==void 0&&G!=null&&f(t,["setup","proactivity"],G),l}function EC(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],Ke(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],TC(r,l)),l}function CC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],yC(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],vC(d));const p=u(i,["functionResponse"]);p!=null&&f(t,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(t,["inlineData"],hC(g));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function xC(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function AC(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(i,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],_C(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],SC(g));const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${l}.${c}`);t.push(...r)}else t.push(l)}return t.join(",")}function NC(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,l=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const c=bC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];r.length>0&&(p=r.map(m=>d.includes(m)?`generationConfig.${m}`:m));const g=[];c&&g.push(c),p.length>0&&g.push(...p),g.length>0?i.fieldMask=g.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class RC extends Un{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=gC(this.apiClient,t);c=Ae("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const g=NC(p,t.config);return r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),l}function MC(i){const t={},l=u(i,["config"]);return l!=null&&wC(l,t),t}function IC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function DC(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&IC(a,t),t}function UC(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function kC(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function zC(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],BC(d)),t}function LC(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&kC(r,t),t}function BC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function qC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function GC(i){const t={},l=u(i,["config"]);return l!=null&&qC(l,t),t}function HC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["fileSearchStores"],c)}return t}function PC(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>g)),f(t,["customMetadata"],p)}const d=u(i,["chunkingConfig"]);return t!==void 0&&d!=null&&f(t,["chunkingConfig"],d),l}function VC(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&PC(a,t),t}function OC(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function YC(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&FC(a,t),t}function JC(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function KC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function ZC(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&KC(a,t),t}function XC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends Un{constructor(t){super(),this.apiClient=t,this.list=async l=>new Ni(Dn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=JC(t);return c=Ae("{name}",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=YC(t);r=Ae("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ZC(t);return c=Ae("{parent}/documents",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=XC(g),v=new R_;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends Un{constructor(t,l=new QC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Ni(Dn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=MC(t);return c=Ae("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=UC(t);return c=Ae("{name}",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=DC(t);r=Ae("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=GC(t);return c=Ae("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=HC(g),v=new w_;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=VC(t);return c=Ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=OC(g),v=new M_;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=LC(t);return c=Ae("{file_search_store_name}:importFile",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>{const m=zC(g),v=new Vu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $C(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function jC(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function ex(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const d=u(i,["learningRateMultiplier"]);if(d!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=u(i,["batchSize"]);t!==void 0&&p!=null&&f(t,["tuningTask","hyperparameters","batchSize"],p);const g=u(i,["learningRate"]);if(t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","learningRate"],g),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function tx(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const E=u(i,["validationDataset"]);t!==void 0&&E!=null&&f(t,["supervisedTuningSpec"],Dm(E))}else if(r==="PREFERENCE_TUNING"){const E=u(i,["validationDataset"]);t!==void 0&&E!=null&&f(t,["preferenceOptimizationSpec"],Dm(E))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const d=u(i,["description"]);t!==void 0&&d!=null&&f(t,["description"],d);let p=u(l,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=u(i,["epochCount"]);t!==void 0&&E!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(p==="PREFERENCE_TUNING"){const E=u(i,["epochCount"]);t!==void 0&&E!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const E=u(i,["learningRateMultiplier"]);t!==void 0&&E!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(g==="PREFERENCE_TUNING"){const E=u(i,["learningRateMultiplier"]);t!==void 0&&E!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=u(i,["exportLastCheckpointOnly"]);t!==void 0&&E!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(m==="PREFERENCE_TUNING"){const E=u(i,["exportLastCheckpointOnly"]);t!==void 0&&E!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=u(i,["adapterSize"]);t!==void 0&&E!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(v==="PREFERENCE_TUNING"){const E=u(i,["adapterSize"]);t!==void 0&&E!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(i,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const S=u(i,["beta"]);return t!==void 0&&S!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function nx(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&hx(c);const d=u(i,["config"]);return d!=null&&ex(d,l),l}function ix(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&px(c,l,t);const d=u(i,["config"]);return d!=null&&tx(d,l,t),l}function ox(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function lx(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function ax(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function sx(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function rx(i,t){const l={},a=u(i,["config"]);return a!=null&&ax(a,l),l}function ux(i,t){const l={},a=u(i,["config"]);return a!=null&&sx(a,l),l}function cx(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>gg(p))),f(l,["tuningJobs"],d)}return l}function fx(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Lu(p))),f(l,["tuningJobs"],d)}return l}function dx(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["model"],a);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function hx(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["examples","examples"],r)}return l}function px(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(r==="PREFERENCE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function gg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],Wm(c));const d=u(i,["createTime"]);d!=null&&f(l,["createTime"],d);const p=u(i,["tuningTask","startTime"]);p!=null&&f(l,["startTime"],p);const g=u(i,["tuningTask","completeTime"]);g!=null&&f(l,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(i,["description"]);v!=null&&f(l,["description"],v);const _=u(i,["baseModel"]);_!=null&&f(l,["baseModel"],_);const S=u(i,["_self"]);return S!=null&&f(l,["tunedModel"],dx(S)),l}function Lu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],Wm(c));const d=u(i,["createTime"]);d!=null&&f(l,["createTime"],d);const p=u(i,["startTime"]);p!=null&&f(l,["startTime"],p);const g=u(i,["endTime"]);g!=null&&f(l,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(i,["error"]);v!=null&&f(l,["error"],v);const _=u(i,["description"]);_!=null&&f(l,["description"],_);const S=u(i,["baseModel"]);S!=null&&f(l,["baseModel"],S);const E=u(i,["tunedModel"]);E!=null&&f(l,["tunedModel"],E);const R=u(i,["preTunedModel"]);R!=null&&f(l,["preTunedModel"],R);const x=u(i,["supervisedTuningSpec"]);x!=null&&f(l,["supervisedTuningSpec"],x);const I=u(i,["preferenceOptimizationSpec"]);I!=null&&f(l,["preferenceOptimizationSpec"],I);const b=u(i,["tuningDataStats"]);b!=null&&f(l,["tuningDataStats"],b);const U=u(i,["encryptionSpec"]);U!=null&&f(l,["encryptionSpec"],U);const D=u(i,["partnerModelTuningSpec"]);D!=null&&f(l,["partnerModelTuningSpec"],D);const q=u(i,["customBaseModel"]);q!=null&&f(l,["customBaseModel"],q);const G=u(i,["experiment"]);G!=null&&f(l,["experiment"],G);const X=u(i,["labels"]);X!=null&&f(l,["labels"],X);const P=u(i,["outputUri"]);P!=null&&f(l,["outputUri"],P);const se=u(i,["pipelineJob"]);se!=null&&f(l,["pipelineJob"],se);const Y=u(i,["serviceAccount"]);Y!=null&&f(l,["serviceAccount"],Y);const re=u(i,["tunedModelDisplayName"]);re!=null&&f(l,["tunedModelDisplayName"],re);const _e=u(i,["veoTuningSpec"]);return _e!=null&&f(l,["veoTuningSpec"],_e),l}function mx(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["metadata"]);c!=null&&f(l,["metadata"],c);const d=u(i,["done"]);d!=null&&f(l,["done"],d);const p=u(i,["error"]);return p!=null&&f(l,["error"],p),l}function Dm(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gx extends Un{constructor(t){super(),this.apiClient=t,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Ni(Dn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),c=await this.tuneMldevInternal(r);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:wu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=lx(t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Lu(v))}else{const m=ox(t);return p=Ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>gg(v))}}async listInternal(t){var l,a,r,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=ux(t);return p=Ae("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=fx(v),S=new fm;return Object.assign(S,_),S})}else{const m=rx(t);return p=Ae("tunedModels",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=cx(v),S=new fm;return Object.assign(S,_),S})}}async cancel(t){var l,a,r,c;let d="",p={};if(this.apiClient.isVertexAI()){const g=jC(t);d=Ae("{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=$C(t);d=Ae("{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI()){const p=ix(t,t);return c=Ae("tuningJobs",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Lu(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=nx(t);return c=Ae("tunedModels",p._url),d=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>mx(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yx{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vx=1024*1024*8,_x=3,Sx=1e3,Tx=2,Ka="x-goog-upload-status";async function Ex(i,t,l){var a;const r=await yg(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ka])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function Cx(i,t,l){var a;const r=await yg(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ka])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=Ym(c),p=new Ou;return Object.assign(p,d),p}async function yg(i,t,l){var a,r;let c=0,d=0,p=new Mu(new Response),g="upload";for(c=i.size;d<c;){const m=Math.min(vx,c-d),v=i.slice(d,d+m);d+m>=c&&(g+=", finalize");let _=0,S=Sx;for(;_<_x&&(p=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((a=p==null?void 0:p.headers)===null||a===void 0)&&a[Ka]));)_++,await Ax(S),S=S*Tx;if(d+=m,((r=p==null?void 0:p.headers)===null||r===void 0?void 0:r[Ka])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function xx(i){return{size:i.size,type:i.type}}function Ax(i){return new Promise(t=>setTimeout(t,i))}class bx{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ex(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Cx(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xx(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nx{create(t,l,a){return new Rx(t,l,a)}}class Rx{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Um="x-goog-api-key";class wx{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Um)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Um,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mx="gl-node/";class Tl{constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=s_(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const r=new wx(this.apiKey);this.apiClient=new JE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:Mx+"web",uploader:new bx,downloader:new yx}),this.models=new fC(this.apiClient),this.live=new lC(this.apiClient,r,new Nx),this.batches=new LS(this.apiClient),this.chats=new yT(this.models,this.apiClient),this.caches=new pT(this.apiClient),this.files=new NT(this.apiClient),this.operations=new dC(this.apiClient),this.authTokens=new RC(this.apiClient),this.tunings=new gx(this.apiClient),this.fileSearchStores=new WC(this.apiClient)}}const km=i=>i.map(t=>{let l=[{text:t.text}];t.attachments&&t.attachments.length>0&&(l=[...t.attachments.map(c=>({inlineData:{mimeType:c.mimeType,data:c.data}})),...l]);const a={role:t.role,parts:l};return t.role==="model"&&t.thoughtSignature&&(a.thoughtSignature=t.thoughtSignature),a}),Ix=(i,t,l,a=[],r)=>{const c=new Tl({apiKey:i}),d=t.model,p={temperature:t.temperature,topP:t.topP,topK:t.topK,maxOutputTokens:t.maxOutputTokens};d.includes("gemini-3")?p.thinkingLevel=t.thinkingLevel||"HIGH":d.includes("thinking")&&(p.thinkingConfig={thinkingBudget:1024});const g=[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}];return p.safetySettings=g,r?p.cachedContent=r:(l&&(p.systemInstruction=l),t.enableGoogleSearch&&(p.tools=[{googleSearch:{}}])),c.chats.create({model:d,config:p,history:a})},Dx=async(i,t,l,a,r)=>{var S;const c=new Tl({apiKey:i}),d=t.model,p={temperature:t.temperature,topP:t.topP,topK:t.topK,maxOutputTokens:t.maxOutputTokens};d.includes("gemini-3")&&(p.thinkingLevel=t.thinkingLevel||"HIGH"),a&&(p.cachedContent=a);const g=await c.models.generateContentStream({model:d,contents:[{role:"user",parts:[{text:l}]}],config:p});let m="",v,_=!1;for await(const E of g){_||(_=!0,r&&r());let R="";typeof E.text=="function"?R=E.text():typeof E.text=="string"?R=E.text:E.candidates&&E.candidates.length>0&&(R=(((S=E.candidates[0].content)==null?void 0:S.parts)||[]).map(I=>I.text||"").join("")),R&&(m+=R),E.usageMetadata&&(v=E.usageMetadata)}return{text:m,usageMetadata:v}},Ux=async(i,t,l,a,r,c)=>{const d=new Tl({apiKey:i});let p,g=l.type;if(g.startsWith("text/")||g==="application/json"||g.endsWith("javascript")||g.endsWith("python"))p={text:await l.text()};else{const _=await zx(l);p={inlineData:{mimeType:g||"application/octet-stream",data:_}}}const m={contents:[{role:"user",parts:[p]}],ttl:`${a}s`};r&&(m.systemInstruction={parts:[{text:r}]});const v=await d.caches.create({model:t,config:m});return{name:v.name,sizeBytes:v.sizeBytes||0}},Bu=async(i,t)=>{await new Tl({apiKey:i}).caches.delete({name:t})},kx=async(i,t,l)=>{let r=[{text:t}];l&&l.length>0&&(r=[...l.map(g=>({inlineData:{mimeType:g.mimeType,data:g.data}})),...r]);const c=await i.sendMessageStream({message:{role:"user",parts:r}});async function*d(){var p,g;for await(const m of c){const v=m,_=v.text?v.text:"",S=(g=(p=v.candidates)==null?void 0:p[0])==null?void 0:g.thoughtSignature,E=v.usageMetadata;(_||S||E)&&(yield{text:_,thoughtSignature:S,usageMetadata:E})}}return d()},zm=i=>Math.ceil(i.length/4),zx=i=>new Promise((t,l)=>{const a=new FileReader;a.onload=()=>{const c=a.result.split(",")[1];t(c)},a.onerror=l,a.readAsDataURL(i)}),Lx=async(i,t,l)=>{const a=`https://generativelanguage.googleapis.com/v1beta/models/${t}:batchGenerateContent?key=${i}`,c=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{content:{parts:[{text:l}]}}]})});if(!c.ok){const d=await c.text();throw new Error(`Batch creation failed: ${c.statusText} - ${d}`)}return await c.json()},Bx=async(i,t)=>{const l=`https://generativelanguage.googleapis.com/v1beta/${t}?key=${i}`,a=await fetch(l);if(!a.ok)throw new Error(`Failed to get batch job: ${a.statusText}`);return await a.json()},qx=async i=>{const t=new Tl({apiKey:i}),l=[];try{const a=await t.caches.list({config:{pageSize:100}});let r=a.page;for(;r&&r.length>0;){for(const c of r)l.push({name:c.name,model:c.model,expireTime:c.expireTime});if(!a.hasNextPage())break;r=await a.nextPage()}}catch(a){throw console.error("Failed to list caches:",a),a}return l},Gx=({config:i,contextCache:t,onConfigChange:l,onCacheChange:a,onCreateCache:r,onDeleteCache:c,apiKey:d,onApiKeyChange:p,totalCost:g,todayCost:m,monthCost:v,onBatchCreated:_})=>{const[S,E]=Ie.useState(!0),[R,x]=Ie.useState(null),[I,b]=Ie.useState(""),[U,D]=Ie.useState([]),[q,G]=Ie.useState(!1),X=i.model.includes("gemini-3");if(Ie.useEffect(()=>{let K;if(t.status==="active"&&t.expirationTime){const J=()=>{const Z=Date.now(),ve=t.expirationTime-Z;if(ve<=0)b("00:00:00 (Expired)");else{const ce=Math.floor(ve/36e5),Ce=Math.floor(ve%(1e3*60*60)/(1e3*60)),M=Math.floor(ve%(1e3*60)/1e3);b(`${ce.toString().padStart(2,"0")}:${Ce.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`)}};J(),K=window.setInterval(J,1e3)}return()=>clearInterval(K)},[t.status,t.expirationTime]),!S)return A.jsx("div",{className:"w-12 bg-studio-bg border-l border-studio-border flex flex-col items-center py-4 gap-4",children:A.jsx("button",{onClick:()=>E(!0),className:"text-gray-400 hover:text-white",children:A.jsx(sp,{size:20})})});const P=(K,J)=>{l({...i,[K]:J})},se=K=>{K.target.files&&K.target.files.length>0&&x(K.target.files[0])},Y=()=>{R&&r(R)},re=async()=>{const K=window.prompt("Enter the prompt for Batch processing (50% cheaper, results in 24h):");if(K){if(!d){alert("Please enter API Key first.");return}try{const J=await Lx(d,i.model,K);alert(`Batch Job Created!
ID: ${J.name}
Please save this ID to check results later.`),_(J.name,K)}catch(J){alert("Batch failed: "+J.message)}}},_e=()=>t.tokenCount?t.tokenCount/1e6*2:0,k=async()=>{if(!d)return alert("Please enter API Key first.");G(!0);try{const K=await qx(d);D(K),K.length===0&&alert("No active caches found on server. You are safe! ")}catch(K){alert("Failed to list caches: "+K.message)}finally{G(!1)}},ie=async K=>{if(confirm("Delete this cache from server?"))try{await Bu(d,K),D(J=>J.filter(Z=>Z.name!==K)),t.cacheName===K&&c()}catch(J){alert("Delete failed: "+J.message)}},N=async()=>{if(confirm(`WARNING: This will delete ALL ${U.length} active caches from your Google account.
Confirm?`)){G(!0);try{for(const K of U)await Bu(d,K.name);D([]),c(),alert("All caches deleted successfully.")}catch(K){alert("Some deletions failed: "+K.message)}finally{G(!1)}}};return A.jsxs("div",{className:"w-80 bg-studio-bg border-l border-studio-border flex flex-col h-full overflow-hidden",children:[A.jsxs("div",{className:"p-4 border-b border-studio-border flex justify-between items-center",children:[A.jsx("h2",{className:"font-semibold text-sm uppercase tracking-wide",children:"Run Settings"}),A.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-white",children:A.jsx(sp,{size:18})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"text-xs font-semibold text-studio-subtext flex items-center gap-1",children:["API KEY ",A.jsx("span",{className:"text-red-400",children:"*"})]}),A.jsxs("div",{className:"relative",children:[A.jsx(Mv,{size:14,className:"absolute left-3 top-2.5 text-gray-500"}),A.jsx("input",{type:"password",value:d,onChange:K=>p(K.target.value),placeholder:"Enter your Gemini API Key",className:"w-full bg-studio-panel border border-studio-border rounded px-3 py-2 pl-9 text-sm focus:border-studio-primary outline-none placeholder-gray-600"})]}),A.jsx("p",{className:"text-[10px] text-gray-500",children:"Key is not saved to server."})]}),A.jsx("hr",{className:"border-studio-border"}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"text-xs font-semibold text-studio-subtext flex items-center gap-1",children:["MODEL",A.jsx(Rv,{size:12})]}),A.jsx("select",{value:i.model,onChange:K=>P("model",K.target.value),className:"w-full bg-studio-panel border border-studio-border rounded px-3 py-2 text-sm focus:border-studio-primary outline-none",children:yl.map(K=>A.jsx("option",{value:K.id,children:K.name},K.id))})]}),X&&A.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-1",children:[A.jsxs("label",{className:"text-xs font-semibold text-studio-subtext flex items-center gap-1 text-purple-400",children:[A.jsx(ev,{size:12}),"THINKING LEVEL"]}),A.jsxs("div",{className:"flex bg-studio-panel border border-studio-border rounded p-1",children:[A.jsx("button",{onClick:()=>P("thinkingLevel","LOW"),className:`flex-1 py-1 text-xs rounded transition-colors ${i.thinkingLevel==="LOW"?"bg-studio-border text-white":"text-gray-500 hover:text-gray-300"}`,children:"Low"}),A.jsx("button",{onClick:()=>P("thinkingLevel","HIGH"),className:`flex-1 py-1 text-xs rounded transition-colors ${i.thinkingLevel==="HIGH"?"bg-studio-border text-white":"text-gray-500 hover:text-gray-300"}`,children:"High"})]}),A.jsx("p",{className:"text-[10px] text-gray-500",children:"High is default for complex reasoning."})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("label",{className:"text-xs font-semibold text-studio-subtext flex items-center gap-1",children:"GOOGLE SEARCH"}),A.jsx("input",{type:"checkbox",checked:i.enableGoogleSearch,onChange:K=>P("enableGoogleSearch",K.target.checked),className:"accent-studio-primary w-4 h-4 cursor-pointer"})]}),A.jsx("p",{className:"text-[10px] text-gray-500",children:"Enable grounding with Google Search."})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("label",{className:"text-xs font-semibold text-studio-subtext",children:"TEMPERATURE"}),A.jsx("span",{className:"text-xs font-mono",children:i.temperature})]}),A.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:i.temperature,onChange:K=>P("temperature",parseFloat(K.target.value)),className:"w-full h-1 bg-studio-border rounded-lg appearance-none cursor-pointer accent-studio-primary"}),X&&i.temperature!==1&&A.jsx("p",{className:"text-[10px] text-yellow-500",children:"Warning: 1.0 is recommended for Gemini 3."})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("label",{className:"text-xs font-semibold text-studio-subtext",children:"TOP P"}),A.jsx("span",{className:"text-xs font-mono",children:i.topP})]}),A.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i.topP,onChange:K=>P("topP",parseFloat(K.target.value)),className:"w-full h-1 bg-studio-border rounded-lg appearance-none cursor-pointer accent-studio-primary"})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("label",{className:"text-xs font-semibold text-studio-subtext",children:"TOP K"}),A.jsx("span",{className:"text-xs font-mono",children:i.topK})]}),A.jsx("input",{type:"number",value:i.topK,onChange:K=>P("topK",parseInt(K.target.value)),className:"w-full bg-studio-panel border border-studio-border rounded px-3 py-2 text-sm text-right outline-none focus:border-studio-primary"})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("label",{className:"text-xs font-semibold text-studio-subtext",children:"OUTPUT TOKEN LIMIT"}),A.jsx("span",{className:"text-xs font-mono",children:i.maxOutputTokens})]}),A.jsx("input",{type:"range",min:"1",max:"65536",step:"100",value:i.maxOutputTokens,onChange:K=>P("maxOutputTokens",parseInt(K.target.value)),className:"w-full h-1 bg-studio-border rounded-lg appearance-none cursor-pointer accent-studio-primary"}),A.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500",children:[A.jsx("span",{children:"1"}),A.jsx("span",{children:"64k"})]})]}),A.jsx("hr",{className:"border-studio-border"}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"text-xs font-semibold text-studio-subtext flex items-center gap-2 text-yellow-500",children:[A.jsx(Eu,{size:14})," CLOUD CACHE AUDIT"]}),A.jsxs("div",{className:"p-3 bg-[#1a1a1a] border border-yellow-900/30 rounded",children:[A.jsx("p",{className:"text-[10px] text-gray-400 mb-2",children:'Check for "Zombie Caches" that might be billing you but are not visible in the app.'}),A.jsxs("button",{onClick:k,disabled:q,className:"w-full py-1.5 bg-studio-panel border border-studio-border hover:bg-[#2a2b2e] rounded text-xs flex items-center justify-center gap-2 transition-colors",children:[q?A.jsx(vl,{size:12,className:"animate-spin"}):A.jsx(Eu,{size:12}),q?"Scanning Server...":"Scan Active Caches"]}),U.length>0&&A.jsxs("div",{className:"mt-3 space-y-2 animate-in fade-in",children:[A.jsxs("div",{className:"flex justify-between items-center text-xs text-yellow-400 font-bold",children:[A.jsxs("span",{children:[U.length," Active Caches Found"]}),A.jsxs("button",{onClick:N,className:"text-red-400 hover:underline flex items-center gap-1",children:[A.jsx(pl,{size:10})," Delete All"]})]}),A.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pr-1 custom-scrollbar",children:U.map(K=>A.jsxs("div",{className:"flex justify-between items-center bg-black p-1.5 rounded border border-studio-border",children:[A.jsxs("div",{className:"overflow-hidden",children:[A.jsx("div",{className:"text-[10px] text-gray-300 truncate w-32",title:K.name,children:K.name.split("/").pop()}),A.jsx("div",{className:"text-[9px] text-gray-500",children:K.model})]}),A.jsx("button",{onClick:()=>ie(K.name),className:"text-gray-500 hover:text-red-400 p-1",children:A.jsx(pl,{size:12})})]},K.name))})]})]})]}),A.jsx("hr",{className:"border-studio-border"}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"text-xs font-semibold text-studio-subtext flex items-center gap-2",children:[A.jsx(bu,{size:14})," CONTEXT CACHING (EXPLICIT)"]}),A.jsxs("div",{className:"p-3 bg-studio-panel rounded border border-studio-border relative overflow-hidden",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsx("span",{className:"text-sm font-medium",children:"Explicit Cache"}),A.jsx("input",{type:"checkbox",checked:t.enabled,onChange:K=>a({...t,enabled:K.target.checked}),className:"accent-studio-accent w-4 h-4 cursor-pointer"})]}),t.enabled&&A.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[t.status==="active"?A.jsxs("div",{className:"bg-green-900/20 border border-green-800 rounded p-2 flex flex-col gap-1",children:[A.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-xs font-bold",children:[A.jsx(Hu,{size:12}),"CACHE ACTIVE"]}),A.jsxs("div",{className:"text-[10px] text-green-300 truncate",children:["ID: ",t.cacheName]}),A.jsxs("div",{className:"flex items-center gap-2 text-green-200 text-xs font-mono mt-1",children:[A.jsx(Pm,{size:12}),A.jsx("span",{children:I})]}),A.jsxs("button",{onClick:c,className:"mt-2 text-xs text-red-400 hover:text-red-300 flex items-center gap-1 self-start",children:[A.jsx(pl,{size:10})," Delete Cache"]})]}):t.status==="loading"?A.jsxs("div",{className:"flex items-center gap-2 text-xs text-studio-primary",children:[A.jsx(vl,{size:12,className:"animate-spin"}),"Creating cache..."]}):t.status==="error"?A.jsxs("div",{className:"text-red-400 text-xs flex items-center gap-1",children:[A.jsx(Va,{size:12}),"Creation Failed. Try larger file."]}):null,t.status!=="active"&&t.status!=="loading"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Upload Context (PDF/Txt/Code)"}),A.jsxs("label",{className:"flex items-center gap-2 w-full p-2 bg-[#131314] border border-studio-border border-dashed rounded cursor-pointer hover:border-studio-primary transition-colors",children:[A.jsx(Om,{size:14,className:"text-studio-primary"}),A.jsx("span",{className:"text-xs text-studio-text truncate flex-1",children:R?R.name:"Select file..."}),A.jsx("input",{type:"file",className:"hidden",onChange:se})]})]}),A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-xs text-gray-400",children:"Retention (TTL Seconds)"}),A.jsx("input",{type:"number",value:t.ttlSeconds,onChange:K=>a({...t,ttlSeconds:parseInt(K.target.value)}),className:"w-full bg-[#131314] border border-studio-border rounded px-2 py-1 text-xs",min:"300"})]}),A.jsx("button",{onClick:Y,disabled:!R,className:"w-full py-1.5 bg-studio-primary text-studio-bg text-xs font-bold rounded disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",children:"Create Cache"}),A.jsx("p",{className:"text-[10px] text-gray-500",children:"Min tokens: 1024 (Flash), 2048 (Gemini 3), 4096 (Pro)."})]}),t.status==="active"&&A.jsxs("div",{className:"pt-2 border-t border-studio-border/50 flex justify-between items-center text-xs",children:[A.jsx("span",{className:"text-gray-400",children:"Est. Storage Cost:"}),A.jsxs("span",{className:"text-studio-primary font-mono",children:["$",_e().toFixed(6)," / hr"]})]})]})]})]}),A.jsxs("div",{className:"pt-2",children:[A.jsxs("button",{onClick:re,className:"w-full py-2 bg-studio-panel border border-studio-border hover:bg-[#2a2b2e] rounded text-sm flex items-center justify-center gap-2 transition-colors group",children:[A.jsx(Nu,{size:16,className:"text-gray-400 group-hover:text-white"}),A.jsx("span",{children:"Create Batch Job"})]}),A.jsxs("div",{className:"flex justify-between items-center mt-1 px-1",children:[A.jsx("p",{className:"text-[10px] text-gray-500",children:"Save 50% on costs"}),A.jsx("span",{className:"text-[10px] text-green-500 bg-green-900/20 px-1 rounded",children:"Active"})]})]}),A.jsxs("div",{className:"pt-4",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("h3",{className:"text-sm font-semibold",children:"Cloud Cache Manager"}),A.jsxs("button",{onClick:k,className:"px-3 py-1 text-xs bg-studio-primary text-studio-bg rounded hover:opacity-90 transition-opacity flex items-center gap-1",children:[q?A.jsx(vl,{className:"animate-spin",size:14}):A.jsx(Eu,{size:14}),"Check Caches"]})]}),U.length===0?A.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"No active caches found. Upload a file to create a cache."}):A.jsxs("div",{className:"space-y-3",children:[U.map(K=>A.jsxs("div",{className:"p-3 bg-studio-panel rounded border border-studio-border flex flex-col gap-2",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("div",{className:"text-sm font-medium truncate",children:K.name}),A.jsx("button",{onClick:()=>ie(K.name),className:"text-red-400 hover:text-red-300 text-xs",children:A.jsx(pl,{size:12})})]}),A.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[A.jsx("span",{className:"bg-[#2a2b2e] rounded-full px-3 py-1 font-mono",children:K.model}),A.jsxs("span",{className:"bg-[#2a2b2e] rounded-full px-3 py-1 font-mono",children:[K.tokenCount," tokens"]}),A.jsx("span",{className:"bg-[#2a2b2e] rounded-full px-3 py-1 font-mono",children:K.expireTime})]})]},K.name)),A.jsx("div",{className:"flex justify-center",children:A.jsxs("button",{onClick:N,className:"px-4 py-2 text-xs bg-red-500 text-studio-bg rounded hover:opacity-90 transition-opacity flex items-center gap-1",children:[A.jsx(pl,{size:14}),"Delete All Caches"]})})]})]})]}),A.jsx("div",{className:"p-4 border-t border-studio-border bg-studio-panel",children:A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[A.jsx("span",{children:"Today:"}),A.jsxs("span",{className:"text-white font-mono",children:["$",m.toFixed(4)]})]}),A.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[A.jsx("span",{children:"This Month:"}),A.jsxs("span",{className:"text-white font-mono",children:["$",v.toFixed(4)]})]}),A.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-studio-border/30",children:[A.jsxs("div",{className:"flex items-center gap-1 text-studio-primary",children:[A.jsx(mv,{size:16}),A.jsx("span",{className:"font-mono text-lg font-bold",children:g.toFixed(4)})]}),A.jsx("span",{className:"text-xs text-gray-500",children:"Session Cost"})]}),A.jsx("button",{onClick:()=>alert("Cost History feature coming soon! (Check localStorage 'gemini_cost_history')"),className:"mt-1 w-full text-[10px] text-studio-primary hover:underline text-center",children:"View Cost Calendar"})]})})]})};function qa(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cu={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Lm;function Hx(){return Lm||(Lm=1,(function(i,t){(function(l){i.exports=l()})(function(){return(function l(a,r,c){function d(m,v){if(!r[m]){if(!a[m]){var _=typeof qa=="function"&&qa;if(!v&&_)return _(m,!0);if(p)return p(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var E=r[m]={exports:{}};a[m][0].call(E.exports,function(R){var x=a[m][1][R];return d(x||R)},E,E.exports,l,a,r,c)}return r[m].exports}for(var p=typeof qa=="function"&&qa,g=0;g<c.length;g++)d(c[g]);return d})({1:[function(l,a,r){var c=l("./utils"),d=l("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(g){for(var m,v,_,S,E,R,x,I=[],b=0,U=g.length,D=U,q=c.getTypeOf(g)!=="string";b<g.length;)D=U-b,_=q?(m=g[b++],v=b<U?g[b++]:0,b<U?g[b++]:0):(m=g.charCodeAt(b++),v=b<U?g.charCodeAt(b++):0,b<U?g.charCodeAt(b++):0),S=m>>2,E=(3&m)<<4|v>>4,R=1<D?(15&v)<<2|_>>6:64,x=2<D?63&_:64,I.push(p.charAt(S)+p.charAt(E)+p.charAt(R)+p.charAt(x));return I.join("")},r.decode=function(g){var m,v,_,S,E,R,x=0,I=0,b="data:";if(g.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var U,D=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===p.charAt(64)&&D--,g.charAt(g.length-2)===p.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(U=d.uint8array?new Uint8Array(0|D):new Array(0|D);x<g.length;)m=p.indexOf(g.charAt(x++))<<2|(S=p.indexOf(g.charAt(x++)))>>4,v=(15&S)<<4|(E=p.indexOf(g.charAt(x++)))>>2,_=(3&E)<<6|(R=p.indexOf(g.charAt(x++))),U[I++]=m,E!==64&&(U[I++]=v),R!==64&&(U[I++]=_);return U}},{"./support":30,"./utils":32}],2:[function(l,a,r){var c=l("./external"),d=l("./stream/DataWorker"),p=l("./stream/Crc32Probe"),g=l("./stream/DataLengthProbe");function m(v,_,S,E,R){this.compressedSize=v,this.uncompressedSize=_,this.crc32=S,this.compression=E,this.compressedContent=R}m.prototype={getContentWorker:function(){var v=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,_,S){return v.pipe(new p).pipe(new g("uncompressedSize")).pipe(_.compressWorker(S)).pipe(new g("compressedSize")).withStreamInfo("compression",_)},a.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,a,r){var c=l("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},r.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,a,r){var c=l("./utils"),d=(function(){for(var p,g=[],m=0;m<256;m++){p=m;for(var v=0;v<8;v++)p=1&p?3988292384^p>>>1:p>>>1;g[m]=p}return g})();a.exports=function(p,g){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?(function(m,v,_,S){var E=d,R=S+_;m^=-1;for(var x=S;x<R;x++)m=m>>>8^E[255&(m^v[x])];return-1^m})(0|g,p,p.length,0):(function(m,v,_,S){var E=d,R=S+_;m^=-1;for(var x=S;x<R;x++)m=m>>>8^E[255&(m^v.charCodeAt(x))];return-1^m})(0|g,p,p.length,0):0}},{"./utils":32}],5:[function(l,a,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(l,a,r){var c=null;c=typeof Promise<"u"?Promise:l("lie"),a.exports={Promise:c}},{lie:37}],7:[function(l,a,r){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=l("pako"),p=l("./utils"),g=l("./stream/GenericWorker"),m=c?"uint8array":"array";function v(_,S){g.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=S,this.meta={}}r.magic="\b\0",p.inherits(v,g),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(m,_.data),!1)},v.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(S){_.push({data:S,meta:_.meta})}},r.compressWorker=function(_){return new v("Deflate",_)},r.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,a,r){function c(E,R){var x,I="";for(x=0;x<R;x++)I+=String.fromCharCode(255&E),E>>>=8;return I}function d(E,R,x,I,b,U){var D,q,G=E.file,X=E.compression,P=U!==m.utf8encode,se=p.transformTo("string",U(G.name)),Y=p.transformTo("string",m.utf8encode(G.name)),re=G.comment,_e=p.transformTo("string",U(re)),k=p.transformTo("string",m.utf8encode(re)),ie=Y.length!==G.name.length,N=k.length!==re.length,K="",J="",Z="",ve=G.dir,ce=G.date,Ce={crc32:0,compressedSize:0,uncompressedSize:0};R&&!x||(Ce.crc32=E.crc32,Ce.compressedSize=E.compressedSize,Ce.uncompressedSize=E.uncompressedSize);var M=0;R&&(M|=8),P||!ie&&!N||(M|=2048);var L=0,V=0;ve&&(L|=16),b==="UNIX"?(V=798,L|=(function(W,he){var ye=W;return W||(ye=he?16893:33204),(65535&ye)<<16})(G.unixPermissions,ve)):(V=20,L|=(function(W){return 63&(W||0)})(G.dosPermissions)),D=ce.getUTCHours(),D<<=6,D|=ce.getUTCMinutes(),D<<=5,D|=ce.getUTCSeconds()/2,q=ce.getUTCFullYear()-1980,q<<=4,q|=ce.getUTCMonth()+1,q<<=5,q|=ce.getUTCDate(),ie&&(J=c(1,1)+c(v(se),4)+Y,K+="up"+c(J.length,2)+J),N&&(Z=c(1,1)+c(v(_e),4)+k,K+="uc"+c(Z.length,2)+Z);var O="";return O+=`
\0`,O+=c(M,2),O+=X.magic,O+=c(D,2),O+=c(q,2),O+=c(Ce.crc32,4),O+=c(Ce.compressedSize,4),O+=c(Ce.uncompressedSize,4),O+=c(se.length,2),O+=c(K.length,2),{fileRecord:_.LOCAL_FILE_HEADER+O+se+K,dirRecord:_.CENTRAL_FILE_HEADER+c(V,2)+O+c(_e.length,2)+"\0\0\0\0"+c(L,4)+c(I,4)+se+K+_e}}var p=l("../utils"),g=l("../stream/GenericWorker"),m=l("../utf8"),v=l("../crc32"),_=l("../signature");function S(E,R,x,I){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=x,this.encodeFileName=I,this.streamFiles=E,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(S,g),S.prototype.push=function(E){var R=E.meta.percent||0,x=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(E):(this.bytesWritten+=E.data.length,g.prototype.push.call(this,{data:E.data,meta:{currentFile:this.currentFile,percent:x?(R+100*(x-I-1))/x:100}}))},S.prototype.openedSource=function(E){this.currentSourceOffset=this.bytesWritten,this.currentFile=E.file.name;var R=this.streamFiles&&!E.file.dir;if(R){var x=d(E,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(E){this.accumulate=!1;var R=this.streamFiles&&!E.file.dir,x=d(E,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),R)this.push({data:(function(I){return _.DATA_DESCRIPTOR+c(I.crc32,4)+c(I.compressedSize,4)+c(I.uncompressedSize,4)})(E),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var E=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var x=this.bytesWritten-E,I=(function(b,U,D,q,G){var X=p.transformTo("string",G(q));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(b,2)+c(b,2)+c(U,4)+c(D,4)+c(X.length,2)+X})(this.dirRecords.length,x,E,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(E){this._sources.push(E);var R=this;return E.on("data",function(x){R.processChunk(x)}),E.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),E.on("error",function(x){R.error(x)}),this},S.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(E){var R=this._sources;if(!g.prototype.error.call(this,E))return!1;for(var x=0;x<R.length;x++)try{R[x].error(E)}catch{}return!0},S.prototype.lock=function(){g.prototype.lock.call(this);for(var E=this._sources,R=0;R<E.length;R++)E[R].lock()},a.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,a,r){var c=l("../compressions"),d=l("./ZipFileWorker");r.generateWorker=function(p,g,m){var v=new d(g.streamFiles,m,g.platform,g.encodeFileName),_=0;try{p.forEach(function(S,E){_++;var R=(function(U,D){var q=U||D,G=c[q];if(!G)throw new Error(q+" is not a valid compression method !");return G})(E.options.compression,g.compression),x=E.options.compressionOptions||g.compressionOptions||{},I=E.dir,b=E.date;E._compressWorker(R,x).withStreamInfo("file",{name:S,dir:I,date:b,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(S){v.error(S)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,a,r){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var p in this)typeof this[p]!="function"&&(d[p]=this[p]);return d}}(c.prototype=l("./object")).loadAsync=l("./load"),c.support=l("./support"),c.defaults=l("./defaults"),c.version="3.10.1",c.loadAsync=function(d,p){return new c().loadAsync(d,p)},c.external=l("./external"),a.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,a,r){var c=l("./utils"),d=l("./external"),p=l("./utf8"),g=l("./zipEntries"),m=l("./stream/Crc32Probe"),v=l("./nodejsUtils");function _(S){return new d.Promise(function(E,R){var x=S.decompressed.getContentWorker().pipe(new m);x.on("error",function(I){R(I)}).on("end",function(){x.streamInfo.crc32!==S.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):E()}).resume()})}a.exports=function(S,E){var R=this;return E=c.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),v.isNode&&v.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,E.optimizedBinaryString,E.base64).then(function(x){var I=new g(E);return I.load(x),I}).then(function(x){var I=[d.Promise.resolve(x)],b=x.files;if(E.checkCRC32)for(var U=0;U<b.length;U++)I.push(_(b[U]));return d.Promise.all(I)}).then(function(x){for(var I=x.shift(),b=I.files,U=0;U<b.length;U++){var D=b[U],q=D.fileNameStr,G=c.resolve(D.fileNameStr);R.file(G,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:E.createFolders}),D.dir||(R.file(G).unsafeOriginalName=q)}return I.zipComment.length&&(R.comment=I.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,a,r){var c=l("../utils"),d=l("../stream/GenericWorker");function p(g,m){d.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(p,d),p.prototype._bindStream=function(g){var m=this;(this._stream=g).pause(),g.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},p.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,a,r){var c=l("readable-stream").Readable;function d(p,g,m){c.call(this,g),this._helper=p;var v=this;p.on("data",function(_,S){v.push(_)||v._helper.pause(),m&&m(S)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}l("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},a.exports=d},{"../utils":32,"readable-stream":16}],14:[function(l,a,r){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(l,a,r){function c(G,X,P){var se,Y=p.getTypeOf(X),re=p.extend(P||{},v);re.date=re.date||new Date,re.compression!==null&&(re.compression=re.compression.toUpperCase()),typeof re.unixPermissions=="string"&&(re.unixPermissions=parseInt(re.unixPermissions,8)),re.unixPermissions&&16384&re.unixPermissions&&(re.dir=!0),re.dosPermissions&&16&re.dosPermissions&&(re.dir=!0),re.dir&&(G=b(G)),re.createFolders&&(se=I(G))&&U.call(this,se,!0);var _e=Y==="string"&&re.binary===!1&&re.base64===!1;P&&P.binary!==void 0||(re.binary=!_e),(X instanceof _&&X.uncompressedSize===0||re.dir||!X||X.length===0)&&(re.base64=!1,re.binary=!0,X="",re.compression="STORE",Y="string");var k=null;k=X instanceof _||X instanceof g?X:R.isNode&&R.isStream(X)?new x(G,X):p.prepareContent(G,X,re.binary,re.optimizedBinaryString,re.base64);var ie=new S(G,k,re);this.files[G]=ie}var d=l("./utf8"),p=l("./utils"),g=l("./stream/GenericWorker"),m=l("./stream/StreamHelper"),v=l("./defaults"),_=l("./compressedObject"),S=l("./zipObject"),E=l("./generate"),R=l("./nodejsUtils"),x=l("./nodejs/NodejsStreamInputAdapter"),I=function(G){G.slice(-1)==="/"&&(G=G.substring(0,G.length-1));var X=G.lastIndexOf("/");return 0<X?G.substring(0,X):""},b=function(G){return G.slice(-1)!=="/"&&(G+="/"),G},U=function(G,X){return X=X!==void 0?X:v.createFolders,G=b(G),this.files[G]||c.call(this,G,null,{dir:!0,createFolders:X}),this.files[G]};function D(G){return Object.prototype.toString.call(G)==="[object RegExp]"}var q={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(G){var X,P,se;for(X in this.files)se=this.files[X],(P=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&G(P,se)},filter:function(G){var X=[];return this.forEach(function(P,se){G(P,se)&&X.push(se)}),X},file:function(G,X,P){if(arguments.length!==1)return G=this.root+G,c.call(this,G,X,P),this;if(D(G)){var se=G;return this.filter(function(re,_e){return!_e.dir&&se.test(re)})}var Y=this.files[this.root+G];return Y&&!Y.dir?Y:null},folder:function(G){if(!G)return this;if(D(G))return this.filter(function(Y,re){return re.dir&&G.test(Y)});var X=this.root+G,P=U.call(this,X),se=this.clone();return se.root=P.name,se},remove:function(G){G=this.root+G;var X=this.files[G];if(X||(G.slice(-1)!=="/"&&(G+="/"),X=this.files[G]),X&&!X.dir)delete this.files[G];else for(var P=this.filter(function(Y,re){return re.name.slice(0,G.length)===G}),se=0;se<P.length;se++)delete this.files[P[se].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(G){var X,P={};try{if((P=p.extend(G||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");p.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var se=P.comment||this.comment||"";X=E.generateWorker(this,P,se)}catch(Y){(X=new g("error")).error(Y)}return new m(X,P.type||"string",P.mimeType)},generateAsync:function(G,X){return this.generateInternalStream(G).accumulate(X)},generateNodeStream:function(G,X){return(G=G||{}).type||(G.type="nodebuffer"),this.generateInternalStream(G).toNodejsStream(X)}};a.exports=q},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,a,r){a.exports=l("stream")},{stream:void 0}],17:[function(l,a,r){var c=l("./DataReader");function d(p){c.call(this,p);for(var g=0;g<this.data.length;g++)p[g]=255&p[g]}l("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data[this.zero+p]},d.prototype.lastIndexOfSignature=function(p){for(var g=p.charCodeAt(0),m=p.charCodeAt(1),v=p.charCodeAt(2),_=p.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===g&&this.data[S+1]===m&&this.data[S+2]===v&&this.data[S+3]===_)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(p){var g=p.charCodeAt(0),m=p.charCodeAt(1),v=p.charCodeAt(2),_=p.charCodeAt(3),S=this.readData(4);return g===S[0]&&m===S[1]&&v===S[2]&&_===S[3]},d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=d},{"../utils":32,"./DataReader":18}],18:[function(l,a,r){var c=l("../utils");function d(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var g,m=0;for(this.checkOffset(p),g=this.index+p-1;g>=this.index;g--)m=(m<<8)+this.byteAt(g);return this.index+=p,m},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},a.exports=d},{"../utils":32}],19:[function(l,a,r){var c=l("./Uint8ArrayReader");function d(p){c.call(this,p)}l("../utils").inherits(d,c),d.prototype.readData=function(p){this.checkOffset(p);var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,a,r){var c=l("./DataReader");function d(p){c.call(this,p)}l("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},d.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},d.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},d.prototype.readData=function(p){this.checkOffset(p);var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=d},{"../utils":32,"./DataReader":18}],21:[function(l,a,r){var c=l("./ArrayReader");function d(p){c.call(this,p)}l("../utils").inherits(d,c),d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(l,a,r){var c=l("../utils"),d=l("../support"),p=l("./ArrayReader"),g=l("./StringReader"),m=l("./NodeBufferReader"),v=l("./Uint8ArrayReader");a.exports=function(_){var S=c.getTypeOf(_);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(_):d.uint8array?new v(c.transformTo("uint8array",_)):new p(c.transformTo("array",_)):new g(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,a,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,a,r){var c=l("./GenericWorker"),d=l("../utils");function p(g){c.call(this,"ConvertWorker to "+g),this.destType=g}d.inherits(p,c),p.prototype.processChunk=function(g){this.push({data:d.transformTo(this.destType,g.data),meta:g.meta})},a.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(l,a,r){var c=l("./GenericWorker"),d=l("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(p,c),p.prototype.processChunk=function(g){this.streamInfo.crc32=d(g.data,this.streamInfo.crc32||0),this.push(g)},a.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,a,r){var c=l("../utils"),d=l("./GenericWorker");function p(g){d.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}c.inherits(p,d),p.prototype.processChunk=function(g){if(g){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+g.data.length}d.prototype.processChunk.call(this,g)},a.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(l,a,r){var c=l("../utils"),d=l("./GenericWorker");function p(g){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=c.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}c.inherits(p,d),p.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,m);break;case"uint8array":g=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":g=this.data.slice(this.index,m)}return this.index=m,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(l,a,r){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,p){return this._listeners[d].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,p){if(this._listeners[d])for(var g=0;g<this._listeners[d].length;g++)this._listeners[d][g].call(this,p)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.end()}),d.on("error",function(g){p.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,p){return this.extraStreamInfo[d]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},a.exports=c},{}],29:[function(l,a,r){var c=l("../utils"),d=l("./ConvertWorker"),p=l("./GenericWorker"),g=l("../base64"),m=l("../support"),v=l("../external"),_=null;if(m.nodestream)try{_=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(R,x){return new v.Promise(function(I,b){var U=[],D=R._internalType,q=R._outputType,G=R._mimeType;R.on("data",function(X,P){U.push(X),x&&x(P)}).on("error",function(X){U=[],b(X)}).on("end",function(){try{var X=(function(P,se,Y){switch(P){case"blob":return c.newBlob(c.transformTo("arraybuffer",se),Y);case"base64":return g.encode(se);default:return c.transformTo(P,se)}})(q,(function(P,se){var Y,re=0,_e=null,k=0;for(Y=0;Y<se.length;Y++)k+=se[Y].length;switch(P){case"string":return se.join("");case"array":return Array.prototype.concat.apply([],se);case"uint8array":for(_e=new Uint8Array(k),Y=0;Y<se.length;Y++)_e.set(se[Y],re),re+=se[Y].length;return _e;case"nodebuffer":return Buffer.concat(se);default:throw new Error("concat : unsupported type '"+P+"'")}})(D,U),G);I(X)}catch(P){b(P)}U=[]}).resume()})}function E(R,x,I){var b=x;switch(x){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=x,this._mimeType=I,c.checkSupport(b),this._worker=R.pipe(new d(b)),R.lock()}catch(U){this._worker=new p("error"),this._worker.error(U)}}E.prototype={accumulate:function(R){return S(this,R)},on:function(R,x){var I=this;return R==="data"?this._worker.on(R,function(b){x.call(I,b.data,b.meta)}):this._worker.on(R,function(){c.delay(x,arguments,I)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},R)}},a.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,a,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var c=new ArrayBuffer(0);try{r.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),r.blob=d.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!l("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(l,a,r){for(var c=l("./utils"),d=l("./support"),p=l("./nodejsUtils"),g=l("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function _(){g.call(this,"utf-8 decode"),this.leftOver=null}function S(){g.call(this,"utf-8 encode")}r.utf8encode=function(E){return d.nodebuffer?p.newBufferFrom(E,"utf-8"):(function(R){var x,I,b,U,D,q=R.length,G=0;for(U=0;U<q;U++)(64512&(I=R.charCodeAt(U)))==55296&&U+1<q&&(64512&(b=R.charCodeAt(U+1)))==56320&&(I=65536+(I-55296<<10)+(b-56320),U++),G+=I<128?1:I<2048?2:I<65536?3:4;for(x=d.uint8array?new Uint8Array(G):new Array(G),U=D=0;D<G;U++)(64512&(I=R.charCodeAt(U)))==55296&&U+1<q&&(64512&(b=R.charCodeAt(U+1)))==56320&&(I=65536+(I-55296<<10)+(b-56320),U++),I<128?x[D++]=I:(I<2048?x[D++]=192|I>>>6:(I<65536?x[D++]=224|I>>>12:(x[D++]=240|I>>>18,x[D++]=128|I>>>12&63),x[D++]=128|I>>>6&63),x[D++]=128|63&I);return x})(E)},r.utf8decode=function(E){return d.nodebuffer?c.transformTo("nodebuffer",E).toString("utf-8"):(function(R){var x,I,b,U,D=R.length,q=new Array(2*D);for(x=I=0;x<D;)if((b=R[x++])<128)q[I++]=b;else if(4<(U=m[b]))q[I++]=65533,x+=U-1;else{for(b&=U===2?31:U===3?15:7;1<U&&x<D;)b=b<<6|63&R[x++],U--;1<U?q[I++]=65533:b<65536?q[I++]=b:(b-=65536,q[I++]=55296|b>>10&1023,q[I++]=56320|1023&b)}return q.length!==I&&(q.subarray?q=q.subarray(0,I):q.length=I),c.applyFromCharCode(q)})(E=c.transformTo(d.uint8array?"uint8array":"array",E))},c.inherits(_,g),_.prototype.processChunk=function(E){var R=c.transformTo(d.uint8array?"uint8array":"array",E.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var x=R;(R=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),R.set(x,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var I=(function(U,D){var q;for((D=D||U.length)>U.length&&(D=U.length),q=D-1;0<=q&&(192&U[q])==128;)q--;return q<0||q===0?D:q+m[U[q]]>D?q:D})(R),b=R;I!==R.length&&(d.uint8array?(b=R.subarray(0,I),this.leftOver=R.subarray(I,R.length)):(b=R.slice(0,I),this.leftOver=R.slice(I,R.length))),this.push({data:r.utf8decode(b),meta:E.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=_,c.inherits(S,g),S.prototype.processChunk=function(E){this.push({data:r.utf8encode(E.data),meta:E.meta})},r.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,a,r){var c=l("./support"),d=l("./base64"),p=l("./nodejsUtils"),g=l("./external");function m(x){return x}function v(x,I){for(var b=0;b<x.length;++b)I[b]=255&x.charCodeAt(b);return I}l("setimmediate"),r.newBlob=function(x,I){r.checkSupport("blob");try{return new Blob([x],{type:I})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(x),b.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(x,I,b){var U=[],D=0,q=x.length;if(q<=b)return String.fromCharCode.apply(null,x);for(;D<q;)I==="array"||I==="nodebuffer"?U.push(String.fromCharCode.apply(null,x.slice(D,Math.min(D+b,q)))):U.push(String.fromCharCode.apply(null,x.subarray(D,Math.min(D+b,q)))),D+=b;return U.join("")},stringifyByChar:function(x){for(var I="",b=0;b<x.length;b++)I+=String.fromCharCode(x[b]);return I},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function S(x){var I=65536,b=r.getTypeOf(x),U=!0;if(b==="uint8array"?U=_.applyCanBeUsed.uint8array:b==="nodebuffer"&&(U=_.applyCanBeUsed.nodebuffer),U)for(;1<I;)try{return _.stringifyByChunk(x,b,I)}catch{I=Math.floor(I/2)}return _.stringifyByChar(x)}function E(x,I){for(var b=0;b<x.length;b++)I[b]=x[b];return I}r.applyFromCharCode=S;var R={};R.string={string:m,array:function(x){return v(x,new Array(x.length))},arraybuffer:function(x){return R.string.uint8array(x).buffer},uint8array:function(x){return v(x,new Uint8Array(x.length))},nodebuffer:function(x){return v(x,p.allocBuffer(x.length))}},R.array={string:S,array:m,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return p.newBufferFrom(x)}},R.arraybuffer={string:function(x){return S(new Uint8Array(x))},array:function(x){return E(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:m,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return p.newBufferFrom(new Uint8Array(x))}},R.uint8array={string:S,array:function(x){return E(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:m,nodebuffer:function(x){return p.newBufferFrom(x)}},R.nodebuffer={string:S,array:function(x){return E(x,new Array(x.length))},arraybuffer:function(x){return R.nodebuffer.uint8array(x).buffer},uint8array:function(x){return E(x,new Uint8Array(x.length))},nodebuffer:m},r.transformTo=function(x,I){if(I=I||"",!x)return I;r.checkSupport(x);var b=r.getTypeOf(I);return R[b][x](I)},r.resolve=function(x){for(var I=x.split("/"),b=[],U=0;U<I.length;U++){var D=I[U];D==="."||D===""&&U!==0&&U!==I.length-1||(D===".."?b.pop():b.push(D))}return b.join("/")},r.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(x)?"nodebuffer":c.uint8array&&x instanceof Uint8Array?"uint8array":c.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(x){if(!c[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(x){var I,b,U="";for(b=0;b<(x||"").length;b++)U+="\\x"+((I=x.charCodeAt(b))<16?"0":"")+I.toString(16).toUpperCase();return U},r.delay=function(x,I,b){setImmediate(function(){x.apply(b||null,I||[])})},r.inherits=function(x,I){function b(){}b.prototype=I.prototype,x.prototype=new b},r.extend=function(){var x,I,b={};for(x=0;x<arguments.length;x++)for(I in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],I)&&b[I]===void 0&&(b[I]=arguments[x][I]);return b},r.prepareContent=function(x,I,b,U,D){return g.Promise.resolve(I).then(function(q){return c.blob&&(q instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(q))!==-1)&&typeof FileReader<"u"?new g.Promise(function(G,X){var P=new FileReader;P.onload=function(se){G(se.target.result)},P.onerror=function(se){X(se.target.error)},P.readAsArrayBuffer(q)}):q}).then(function(q){var G=r.getTypeOf(q);return G?(G==="arraybuffer"?q=r.transformTo("uint8array",q):G==="string"&&(D?q=d.decode(q):b&&U!==!0&&(q=(function(X){return v(X,c.uint8array?new Uint8Array(X.length):new Array(X.length))})(q))),q):g.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,a,r){var c=l("./reader/readerFor"),d=l("./utils"),p=l("./signature"),g=l("./zipEntry"),m=l("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(_)+")")}},isSignature:function(_,S){var E=this.reader.index;this.reader.setIndex(_);var R=this.reader.readString(4)===S;return this.reader.setIndex(E),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",E=d.transformTo(S,_);this.zipComment=this.loadOptions.decodeFileName(E)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,S,E,R=this.zip64EndOfCentralSize-44;0<R;)_=this.reader.readInt(2),S=this.reader.readInt(4),E=this.reader.readData(S),this.zip64ExtensibleData[_]={id:_,length:S,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,S;for(_=0;_<this.files.length;_++)S=this.files[_],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(_=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var S=_;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var R=S-E;if(0<R)this.isSignature(S,p.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,a,r){var c=l("./reader/readerFor"),d=l("./utils"),p=l("./compressedObject"),g=l("./crc32"),m=l("./utf8"),v=l("./compressions"),_=l("./support");function S(E,R){this.options=E,this.loadOptions=R}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(E){var R,x;if(E.skip(22),this.fileNameLength=E.readInt(2),x=E.readInt(2),this.fileName=E.readData(this.fileNameLength),E.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=(function(I){for(var b in v)if(Object.prototype.hasOwnProperty.call(v,b)&&v[b].magic===I)return v[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,R,E.readData(this.compressedSize))},readCentralPart:function(E){this.versionMadeBy=E.readInt(2),E.skip(2),this.bitFlag=E.readInt(2),this.compressionMethod=E.readString(2),this.date=E.readDate(),this.crc32=E.readInt(4),this.compressedSize=E.readInt(4),this.uncompressedSize=E.readInt(4);var R=E.readInt(2);if(this.extraFieldsLength=E.readInt(2),this.fileCommentLength=E.readInt(2),this.diskNumberStart=E.readInt(2),this.internalFileAttributes=E.readInt(2),this.externalFileAttributes=E.readInt(4),this.localHeaderOffset=E.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");E.skip(R),this.readExtraFields(E),this.parseZIP64ExtraField(E),this.fileComment=E.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var E=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),E==0&&(this.dosPermissions=63&this.externalFileAttributes),E==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var E=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=E.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=E.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=E.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=E.readInt(4))}},readExtraFields:function(E){var R,x,I,b=E.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});E.index+4<b;)R=E.readInt(2),x=E.readInt(2),I=E.readData(x),this.extraFields[R]={id:R,length:x,value:I};E.setIndex(b)},handleUTF8:function(){var E=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var x=d.transformTo(E,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var b=d.transformTo(E,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var E=this.extraFields[28789];if(E){var R=c(E.value);return R.readInt(1)!==1||g(this.fileName)!==R.readInt(4)?null:m.utf8decode(R.readData(E.length-5))}return null},findExtraFieldUnicodeComment:function(){var E=this.extraFields[25461];if(E){var R=c(E.value);return R.readInt(1)!==1||g(this.fileComment)!==R.readInt(4)?null:m.utf8decode(R.readData(E.length-5))}return null}},a.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,a,r){function c(R,x,I){this.name=R,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=x,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var d=l("./stream/StreamHelper"),p=l("./stream/DataWorker"),g=l("./utf8"),m=l("./compressedObject"),v=l("./stream/GenericWorker");c.prototype={internalStream:function(R){var x=null,I="string";try{if(!R)throw new Error("No output type specified.");var b=(I=R.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),x=this._decompressWorker();var U=!this._dataBinary;U&&!b&&(x=x.pipe(new g.Utf8EncodeWorker)),!U&&b&&(x=x.pipe(new g.Utf8DecodeWorker))}catch(D){(x=new v("error")).error(D)}return new d(x,I,"")},async:function(R,x){return this.internalStream(R).accumulate(x)},nodeStream:function(R,x){return this.internalStream(R||"nodebuffer").toNodejsStream(x)},_compressWorker:function(R,x){if(this._data instanceof m&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new g.Utf8EncodeWorker)),m.createWorkerFrom(I,R,x)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new p(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},E=0;E<_.length;E++)c.prototype[_[E]]=S;a.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,a,r){(function(c){var d,p,g=c.MutationObserver||c.WebKitMutationObserver;if(g){var m=0,v=new g(R),_=c.document.createTextNode("");v.observe(_,{characterData:!0}),d=function(){_.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var x=c.document.createElement("script");x.onreadystatechange=function(){R(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},c.document.documentElement.appendChild(x)}:function(){setTimeout(R,0)};else{var S=new c.MessageChannel;S.port1.onmessage=R,d=function(){S.port2.postMessage(0)}}var E=[];function R(){var x,I;p=!0;for(var b=E.length;b;){for(I=E,E=[],x=-1;++x<b;)I[x]();b=E.length}p=!1}a.exports=function(x){E.push(x)!==1||p||d()}}).call(this,typeof La<"u"?La:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,a,r){var c=l("immediate");function d(){}var p={},g=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function _(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,b!==d&&x(this,b)}function S(b,U,D){this.promise=b,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function E(b,U,D){c(function(){var q;try{q=U(D)}catch(G){return p.reject(b,G)}q===b?p.reject(b,new TypeError("Cannot resolve promise with itself")):p.resolve(b,q)})}function R(b){var U=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof U=="function")return function(){U.apply(b,arguments)}}function x(b,U){var D=!1;function q(P){D||(D=!0,p.reject(b,P))}function G(P){D||(D=!0,p.resolve(b,P))}var X=I(function(){U(G,q)});X.status==="error"&&q(X.value)}function I(b,U){var D={};try{D.value=b(U),D.status="success"}catch(q){D.status="error",D.value=q}return D}(a.exports=_).prototype.finally=function(b){if(typeof b!="function")return this;var U=this.constructor;return this.then(function(D){return U.resolve(b()).then(function(){return D})},function(D){return U.resolve(b()).then(function(){throw D})})},_.prototype.catch=function(b){return this.then(null,b)},_.prototype.then=function(b,U){if(typeof b!="function"&&this.state===m||typeof U!="function"&&this.state===g)return this;var D=new this.constructor(d);return this.state!==v?E(D,this.state===m?b:U,this.outcome):this.queue.push(new S(D,b,U)),D},S.prototype.callFulfilled=function(b){p.resolve(this.promise,b)},S.prototype.otherCallFulfilled=function(b){E(this.promise,this.onFulfilled,b)},S.prototype.callRejected=function(b){p.reject(this.promise,b)},S.prototype.otherCallRejected=function(b){E(this.promise,this.onRejected,b)},p.resolve=function(b,U){var D=I(R,U);if(D.status==="error")return p.reject(b,D.value);var q=D.value;if(q)x(b,q);else{b.state=m,b.outcome=U;for(var G=-1,X=b.queue.length;++G<X;)b.queue[G].callFulfilled(U)}return b},p.reject=function(b,U){b.state=g,b.outcome=U;for(var D=-1,q=b.queue.length;++D<q;)b.queue[D].callRejected(U);return b},_.resolve=function(b){return b instanceof this?b:p.resolve(new this(d),b)},_.reject=function(b){var U=new this(d);return p.reject(U,b)},_.all=function(b){var U=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=b.length,q=!1;if(!D)return this.resolve([]);for(var G=new Array(D),X=0,P=-1,se=new this(d);++P<D;)Y(b[P],P);return se;function Y(re,_e){U.resolve(re).then(function(k){G[_e]=k,++X!==D||q||(q=!0,p.resolve(se,G))},function(k){q||(q=!0,p.reject(se,k))})}},_.race=function(b){var U=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=b.length,q=!1;if(!D)return this.resolve([]);for(var G=-1,X=new this(d);++G<D;)P=b[G],U.resolve(P).then(function(se){q||(q=!0,p.resolve(X,se))},function(se){q||(q=!0,p.reject(X,se))});var P;return X}},{immediate:36}],38:[function(l,a,r){var c={};(0,l("./lib/utils/common").assign)(c,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,a,r){var c=l("./zlib/deflate"),d=l("./utils/common"),p=l("./utils/strings"),g=l("./zlib/messages"),m=l("./zlib/zstream"),v=Object.prototype.toString,_=0,S=-1,E=0,R=8;function x(b){if(!(this instanceof x))return new x(b);this.options=d.assign({level:S,method:R,chunkSize:16384,windowBits:15,memLevel:8,strategy:E,to:""},b||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var D=c.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(D!==_)throw new Error(g[D]);if(U.header&&c.deflateSetHeader(this.strm,U.header),U.dictionary){var q;if(q=typeof U.dictionary=="string"?p.string2buf(U.dictionary):v.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(D=c.deflateSetDictionary(this.strm,q))!==_)throw new Error(g[D]);this._dict_set=!0}}function I(b,U){var D=new x(U);if(D.push(b,!0),D.err)throw D.msg||g[D.err];return D.result}x.prototype.push=function(b,U){var D,q,G=this.strm,X=this.options.chunkSize;if(this.ended)return!1;q=U===~~U?U:U===!0?4:0,typeof b=="string"?G.input=p.string2buf(b):v.call(b)==="[object ArrayBuffer]"?G.input=new Uint8Array(b):G.input=b,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new d.Buf8(X),G.next_out=0,G.avail_out=X),(D=c.deflate(G,q))!==1&&D!==_)return this.onEnd(D),!(this.ended=!0);G.avail_out!==0&&(G.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(d.shrinkBuf(G.output,G.next_out))):this.onData(d.shrinkBuf(G.output,G.next_out)))}while((0<G.avail_in||G.avail_out===0)&&D!==1);return q===4?(D=c.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===_):q!==2||(this.onEnd(_),!(G.avail_out=0))},x.prototype.onData=function(b){this.chunks.push(b)},x.prototype.onEnd=function(b){b===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},r.Deflate=x,r.deflate=I,r.deflateRaw=function(b,U){return(U=U||{}).raw=!0,I(b,U)},r.gzip=function(b,U){return(U=U||{}).gzip=!0,I(b,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,a,r){var c=l("./zlib/inflate"),d=l("./utils/common"),p=l("./utils/strings"),g=l("./zlib/constants"),m=l("./zlib/messages"),v=l("./zlib/zstream"),_=l("./zlib/gzheader"),S=Object.prototype.toString;function E(x){if(!(this instanceof E))return new E(x);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},x||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||x&&x.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var b=c.inflateInit2(this.strm,I.windowBits);if(b!==g.Z_OK)throw new Error(m[b]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function R(x,I){var b=new E(I);if(b.push(x,!0),b.err)throw b.msg||m[b.err];return b.result}E.prototype.push=function(x,I){var b,U,D,q,G,X,P=this.strm,se=this.options.chunkSize,Y=this.options.dictionary,re=!1;if(this.ended)return!1;U=I===~~I?I:I===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof x=="string"?P.input=p.binstring2buf(x):S.call(x)==="[object ArrayBuffer]"?P.input=new Uint8Array(x):P.input=x,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new d.Buf8(se),P.next_out=0,P.avail_out=se),(b=c.inflate(P,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&Y&&(X=typeof Y=="string"?p.string2buf(Y):S.call(Y)==="[object ArrayBuffer]"?new Uint8Array(Y):Y,b=c.inflateSetDictionary(this.strm,X)),b===g.Z_BUF_ERROR&&re===!0&&(b=g.Z_OK,re=!1),b!==g.Z_STREAM_END&&b!==g.Z_OK)return this.onEnd(b),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&b!==g.Z_STREAM_END&&(P.avail_in!==0||U!==g.Z_FINISH&&U!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=p.utf8border(P.output,P.next_out),q=P.next_out-D,G=p.buf2string(P.output,D),P.next_out=q,P.avail_out=se-q,q&&d.arraySet(P.output,P.output,D,q,0),this.onData(G)):this.onData(d.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(re=!0)}while((0<P.avail_in||P.avail_out===0)&&b!==g.Z_STREAM_END);return b===g.Z_STREAM_END&&(U=g.Z_FINISH),U===g.Z_FINISH?(b=c.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===g.Z_OK):U!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(P.avail_out=0))},E.prototype.onData=function(x){this.chunks.push(x)},E.prototype.onEnd=function(x){x===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},r.Inflate=E,r.inflate=R,r.inflateRaw=function(x,I){return(I=I||{}).raw=!0,R(x,I)},r.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,a,r){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(g){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(g[_]=v[_])}}return g},r.shrinkBuf=function(g,m){return g.length===m?g:g.subarray?g.subarray(0,m):(g.length=m,g)};var d={arraySet:function(g,m,v,_,S){if(m.subarray&&g.subarray)g.set(m.subarray(v,v+_),S);else for(var E=0;E<_;E++)g[S+E]=m[v+E]},flattenChunks:function(g){var m,v,_,S,E,R;for(m=_=0,v=g.length;m<v;m++)_+=g[m].length;for(R=new Uint8Array(_),m=S=0,v=g.length;m<v;m++)E=g[m],R.set(E,S),S+=E.length;return R}},p={arraySet:function(g,m,v,_,S){for(var E=0;E<_;E++)g[S+E]=m[v+E]},flattenChunks:function(g){return[].concat.apply([],g)}};r.setTyped=function(g){g?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,d)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,p))},r.setTyped(c)},{}],42:[function(l,a,r){var c=l("./common"),d=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var g=new c.Buf8(256),m=0;m<256;m++)g[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(_,S){if(S<65537&&(_.subarray&&p||!_.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(_,S));for(var E="",R=0;R<S;R++)E+=String.fromCharCode(_[R]);return E}g[254]=g[254]=1,r.string2buf=function(_){var S,E,R,x,I,b=_.length,U=0;for(x=0;x<b;x++)(64512&(E=_.charCodeAt(x)))==55296&&x+1<b&&(64512&(R=_.charCodeAt(x+1)))==56320&&(E=65536+(E-55296<<10)+(R-56320),x++),U+=E<128?1:E<2048?2:E<65536?3:4;for(S=new c.Buf8(U),x=I=0;I<U;x++)(64512&(E=_.charCodeAt(x)))==55296&&x+1<b&&(64512&(R=_.charCodeAt(x+1)))==56320&&(E=65536+(E-55296<<10)+(R-56320),x++),E<128?S[I++]=E:(E<2048?S[I++]=192|E>>>6:(E<65536?S[I++]=224|E>>>12:(S[I++]=240|E>>>18,S[I++]=128|E>>>12&63),S[I++]=128|E>>>6&63),S[I++]=128|63&E);return S},r.buf2binstring=function(_){return v(_,_.length)},r.binstring2buf=function(_){for(var S=new c.Buf8(_.length),E=0,R=S.length;E<R;E++)S[E]=_.charCodeAt(E);return S},r.buf2string=function(_,S){var E,R,x,I,b=S||_.length,U=new Array(2*b);for(E=R=0;E<b;)if((x=_[E++])<128)U[R++]=x;else if(4<(I=g[x]))U[R++]=65533,E+=I-1;else{for(x&=I===2?31:I===3?15:7;1<I&&E<b;)x=x<<6|63&_[E++],I--;1<I?U[R++]=65533:x<65536?U[R++]=x:(x-=65536,U[R++]=55296|x>>10&1023,U[R++]=56320|1023&x)}return v(U,R)},r.utf8border=function(_,S){var E;for((S=S||_.length)>_.length&&(S=_.length),E=S-1;0<=E&&(192&_[E])==128;)E--;return E<0||E===0?S:E+g[_[E]]>S?E:S}},{"./common":41}],43:[function(l,a,r){a.exports=function(c,d,p,g){for(var m=65535&c|0,v=c>>>16&65535|0,_=0;p!==0;){for(p-=_=2e3<p?2e3:p;v=v+(m=m+d[g++]|0)|0,--_;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(l,a,r){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,a,r){var c=(function(){for(var d,p=[],g=0;g<256;g++){d=g;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;p[g]=d}return p})();a.exports=function(d,p,g,m){var v=c,_=m+g;d^=-1;for(var S=m;S<_;S++)d=d>>>8^v[255&(d^p[S])];return-1^d}},{}],46:[function(l,a,r){var c,d=l("../utils/common"),p=l("./trees"),g=l("./adler32"),m=l("./crc32"),v=l("./messages"),_=0,S=4,E=0,R=-2,x=-1,I=4,b=2,U=8,D=9,q=286,G=30,X=19,P=2*q+1,se=15,Y=3,re=258,_e=re+Y+1,k=42,ie=113,N=1,K=2,J=3,Z=4;function ve(C,ae){return C.msg=v[ae],ae}function ce(C){return(C<<1)-(4<C?9:0)}function Ce(C){for(var ae=C.length;0<=--ae;)C[ae]=0}function M(C){var ae=C.state,oe=ae.pending;oe>C.avail_out&&(oe=C.avail_out),oe!==0&&(d.arraySet(C.output,ae.pending_buf,ae.pending_out,oe,C.next_out),C.next_out+=oe,ae.pending_out+=oe,C.total_out+=oe,C.avail_out-=oe,ae.pending-=oe,ae.pending===0&&(ae.pending_out=0))}function L(C,ae){p._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,ae),C.block_start=C.strstart,M(C.strm)}function V(C,ae){C.pending_buf[C.pending++]=ae}function O(C,ae){C.pending_buf[C.pending++]=ae>>>8&255,C.pending_buf[C.pending++]=255&ae}function W(C,ae){var oe,B,z=C.max_chain_length,Q=C.strstart,pe=C.prev_length,ge=C.nice_match,te=C.strstart>C.w_size-_e?C.strstart-(C.w_size-_e):0,Te=C.window,xe=C.w_mask,Ee=C.prev,we=C.strstart+re,Qe=Te[Q+pe-1],Be=Te[Q+pe];C.prev_length>=C.good_match&&(z>>=2),ge>C.lookahead&&(ge=C.lookahead);do if(Te[(oe=ae)+pe]===Be&&Te[oe+pe-1]===Qe&&Te[oe]===Te[Q]&&Te[++oe]===Te[Q+1]){Q+=2,oe++;do;while(Te[++Q]===Te[++oe]&&Te[++Q]===Te[++oe]&&Te[++Q]===Te[++oe]&&Te[++Q]===Te[++oe]&&Te[++Q]===Te[++oe]&&Te[++Q]===Te[++oe]&&Te[++Q]===Te[++oe]&&Te[++Q]===Te[++oe]&&Q<we);if(B=re-(we-Q),Q=we-re,pe<B){if(C.match_start=ae,ge<=(pe=B))break;Qe=Te[Q+pe-1],Be=Te[Q+pe]}}while((ae=Ee[ae&xe])>te&&--z!=0);return pe<=C.lookahead?pe:C.lookahead}function he(C){var ae,oe,B,z,Q,pe,ge,te,Te,xe,Ee=C.w_size;do{if(z=C.window_size-C.lookahead-C.strstart,C.strstart>=Ee+(Ee-_e)){for(d.arraySet(C.window,C.window,Ee,Ee,0),C.match_start-=Ee,C.strstart-=Ee,C.block_start-=Ee,ae=oe=C.hash_size;B=C.head[--ae],C.head[ae]=Ee<=B?B-Ee:0,--oe;);for(ae=oe=Ee;B=C.prev[--ae],C.prev[ae]=Ee<=B?B-Ee:0,--oe;);z+=Ee}if(C.strm.avail_in===0)break;if(pe=C.strm,ge=C.window,te=C.strstart+C.lookahead,Te=z,xe=void 0,xe=pe.avail_in,Te<xe&&(xe=Te),oe=xe===0?0:(pe.avail_in-=xe,d.arraySet(ge,pe.input,pe.next_in,xe,te),pe.state.wrap===1?pe.adler=g(pe.adler,ge,xe,te):pe.state.wrap===2&&(pe.adler=m(pe.adler,ge,xe,te)),pe.next_in+=xe,pe.total_in+=xe,xe),C.lookahead+=oe,C.lookahead+C.insert>=Y)for(Q=C.strstart-C.insert,C.ins_h=C.window[Q],C.ins_h=(C.ins_h<<C.hash_shift^C.window[Q+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[Q+Y-1])&C.hash_mask,C.prev[Q&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=Q,Q++,C.insert--,!(C.lookahead+C.insert<Y)););}while(C.lookahead<_e&&C.strm.avail_in!==0)}function ye(C,ae){for(var oe,B;;){if(C.lookahead<_e){if(he(C),C.lookahead<_e&&ae===_)return N;if(C.lookahead===0)break}if(oe=0,C.lookahead>=Y&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+Y-1])&C.hash_mask,oe=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),oe!==0&&C.strstart-oe<=C.w_size-_e&&(C.match_length=W(C,oe)),C.match_length>=Y)if(B=p._tr_tally(C,C.strstart-C.match_start,C.match_length-Y),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=Y){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+Y-1])&C.hash_mask,oe=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else B=p._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(B&&(L(C,!1),C.strm.avail_out===0))return N}return C.insert=C.strstart<Y-1?C.strstart:Y-1,ae===S?(L(C,!0),C.strm.avail_out===0?J:Z):C.last_lit&&(L(C,!1),C.strm.avail_out===0)?N:K}function Se(C,ae){for(var oe,B,z;;){if(C.lookahead<_e){if(he(C),C.lookahead<_e&&ae===_)return N;if(C.lookahead===0)break}if(oe=0,C.lookahead>=Y&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+Y-1])&C.hash_mask,oe=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=Y-1,oe!==0&&C.prev_length<C.max_lazy_match&&C.strstart-oe<=C.w_size-_e&&(C.match_length=W(C,oe),C.match_length<=5&&(C.strategy===1||C.match_length===Y&&4096<C.strstart-C.match_start)&&(C.match_length=Y-1)),C.prev_length>=Y&&C.match_length<=C.prev_length){for(z=C.strstart+C.lookahead-Y,B=p._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-Y),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=z&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+Y-1])&C.hash_mask,oe=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=Y-1,C.strstart++,B&&(L(C,!1),C.strm.avail_out===0))return N}else if(C.match_available){if((B=p._tr_tally(C,0,C.window[C.strstart-1]))&&L(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return N}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(B=p._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<Y-1?C.strstart:Y-1,ae===S?(L(C,!0),C.strm.avail_out===0?J:Z):C.last_lit&&(L(C,!1),C.strm.avail_out===0)?N:K}function me(C,ae,oe,B,z){this.good_length=C,this.max_lazy=ae,this.nice_length=oe,this.max_chain=B,this.func=z}function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=U,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*P),this.dyn_dtree=new d.Buf16(2*(2*G+1)),this.bl_tree=new d.Buf16(2*(2*X+1)),Ce(this.dyn_ltree),Ce(this.dyn_dtree),Ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(se+1),this.heap=new d.Buf16(2*q+1),Ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*q+1),Ce(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(C){var ae;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=b,(ae=C.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?k:ie,C.adler=ae.wrap===2?0:1,ae.last_flush=_,p._tr_init(ae),E):ve(C,R)}function Ze(C){var ae=be(C);return ae===E&&(function(oe){oe.window_size=2*oe.w_size,Ce(oe.head),oe.max_lazy_match=c[oe.level].max_lazy,oe.good_match=c[oe.level].good_length,oe.nice_match=c[oe.level].nice_length,oe.max_chain_length=c[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=Y-1,oe.match_available=0,oe.ins_h=0})(C.state),ae}function Oe(C,ae,oe,B,z,Q){if(!C)return R;var pe=1;if(ae===x&&(ae=6),B<0?(pe=0,B=-B):15<B&&(pe=2,B-=16),z<1||D<z||oe!==U||B<8||15<B||ae<0||9<ae||Q<0||I<Q)return ve(C,R);B===8&&(B=9);var ge=new Ue;return(C.state=ge).strm=C,ge.wrap=pe,ge.gzhead=null,ge.w_bits=B,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=z+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+Y-1)/Y),ge.window=new d.Buf8(2*ge.w_size),ge.head=new d.Buf16(ge.hash_size),ge.prev=new d.Buf16(ge.w_size),ge.lit_bufsize=1<<z+6,ge.pending_buf_size=4*ge.lit_bufsize,ge.pending_buf=new d.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=ae,ge.strategy=Q,ge.method=oe,Ze(C)}c=[new me(0,0,0,0,function(C,ae){var oe=65535;for(oe>C.pending_buf_size-5&&(oe=C.pending_buf_size-5);;){if(C.lookahead<=1){if(he(C),C.lookahead===0&&ae===_)return N;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var B=C.block_start+oe;if((C.strstart===0||C.strstart>=B)&&(C.lookahead=C.strstart-B,C.strstart=B,L(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-_e&&(L(C,!1),C.strm.avail_out===0))return N}return C.insert=0,ae===S?(L(C,!0),C.strm.avail_out===0?J:Z):(C.strstart>C.block_start&&(L(C,!1),C.strm.avail_out),N)}),new me(4,4,8,4,ye),new me(4,5,16,8,ye),new me(4,6,32,32,ye),new me(4,4,16,16,Se),new me(8,16,32,32,Se),new me(8,16,128,128,Se),new me(8,32,128,256,Se),new me(32,128,258,1024,Se),new me(32,258,258,4096,Se)],r.deflateInit=function(C,ae){return Oe(C,ae,U,15,8,0)},r.deflateInit2=Oe,r.deflateReset=Ze,r.deflateResetKeep=be,r.deflateSetHeader=function(C,ae){return C&&C.state?C.state.wrap!==2?R:(C.state.gzhead=ae,E):R},r.deflate=function(C,ae){var oe,B,z,Q;if(!C||!C.state||5<ae||ae<0)return C?ve(C,R):R;if(B=C.state,!C.output||!C.input&&C.avail_in!==0||B.status===666&&ae!==S)return ve(C,C.avail_out===0?-5:R);if(B.strm=C,oe=B.last_flush,B.last_flush=ae,B.status===k)if(B.wrap===2)C.adler=0,V(B,31),V(B,139),V(B,8),B.gzhead?(V(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),V(B,255&B.gzhead.time),V(B,B.gzhead.time>>8&255),V(B,B.gzhead.time>>16&255),V(B,B.gzhead.time>>24&255),V(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),V(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(V(B,255&B.gzhead.extra.length),V(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(C.adler=m(C.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(V(B,0),V(B,0),V(B,0),V(B,0),V(B,0),V(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),V(B,3),B.status=ie);else{var pe=U+(B.w_bits-8<<4)<<8;pe|=(2<=B.strategy||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(pe|=32),pe+=31-pe%31,B.status=ie,O(B,pe),B.strstart!==0&&(O(B,C.adler>>>16),O(B,65535&C.adler)),C.adler=1}if(B.status===69)if(B.gzhead.extra){for(z=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>z&&(C.adler=m(C.adler,B.pending_buf,B.pending-z,z)),M(C),z=B.pending,B.pending!==B.pending_buf_size));)V(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>z&&(C.adler=m(C.adler,B.pending_buf,B.pending-z,z)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){z=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>z&&(C.adler=m(C.adler,B.pending_buf,B.pending-z,z)),M(C),z=B.pending,B.pending===B.pending_buf_size)){Q=1;break}Q=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,V(B,Q)}while(Q!==0);B.gzhead.hcrc&&B.pending>z&&(C.adler=m(C.adler,B.pending_buf,B.pending-z,z)),Q===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){z=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>z&&(C.adler=m(C.adler,B.pending_buf,B.pending-z,z)),M(C),z=B.pending,B.pending===B.pending_buf_size)){Q=1;break}Q=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,V(B,Q)}while(Q!==0);B.gzhead.hcrc&&B.pending>z&&(C.adler=m(C.adler,B.pending_buf,B.pending-z,z)),Q===0&&(B.status=103)}else B.status=103;if(B.status===103&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&M(C),B.pending+2<=B.pending_buf_size&&(V(B,255&C.adler),V(B,C.adler>>8&255),C.adler=0,B.status=ie)):B.status=ie),B.pending!==0){if(M(C),C.avail_out===0)return B.last_flush=-1,E}else if(C.avail_in===0&&ce(ae)<=ce(oe)&&ae!==S)return ve(C,-5);if(B.status===666&&C.avail_in!==0)return ve(C,-5);if(C.avail_in!==0||B.lookahead!==0||ae!==_&&B.status!==666){var ge=B.strategy===2?(function(te,Te){for(var xe;;){if(te.lookahead===0&&(he(te),te.lookahead===0)){if(Te===_)return N;break}if(te.match_length=0,xe=p._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,xe&&(L(te,!1),te.strm.avail_out===0))return N}return te.insert=0,Te===S?(L(te,!0),te.strm.avail_out===0?J:Z):te.last_lit&&(L(te,!1),te.strm.avail_out===0)?N:K})(B,ae):B.strategy===3?(function(te,Te){for(var xe,Ee,we,Qe,Be=te.window;;){if(te.lookahead<=re){if(he(te),te.lookahead<=re&&Te===_)return N;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=Y&&0<te.strstart&&(Ee=Be[we=te.strstart-1])===Be[++we]&&Ee===Be[++we]&&Ee===Be[++we]){Qe=te.strstart+re;do;while(Ee===Be[++we]&&Ee===Be[++we]&&Ee===Be[++we]&&Ee===Be[++we]&&Ee===Be[++we]&&Ee===Be[++we]&&Ee===Be[++we]&&Ee===Be[++we]&&we<Qe);te.match_length=re-(Qe-we),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=Y?(xe=p._tr_tally(te,1,te.match_length-Y),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(xe=p._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),xe&&(L(te,!1),te.strm.avail_out===0))return N}return te.insert=0,Te===S?(L(te,!0),te.strm.avail_out===0?J:Z):te.last_lit&&(L(te,!1),te.strm.avail_out===0)?N:K})(B,ae):c[B.level].func(B,ae);if(ge!==J&&ge!==Z||(B.status=666),ge===N||ge===J)return C.avail_out===0&&(B.last_flush=-1),E;if(ge===K&&(ae===1?p._tr_align(B):ae!==5&&(p._tr_stored_block(B,0,0,!1),ae===3&&(Ce(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),M(C),C.avail_out===0))return B.last_flush=-1,E}return ae!==S?E:B.wrap<=0?1:(B.wrap===2?(V(B,255&C.adler),V(B,C.adler>>8&255),V(B,C.adler>>16&255),V(B,C.adler>>24&255),V(B,255&C.total_in),V(B,C.total_in>>8&255),V(B,C.total_in>>16&255),V(B,C.total_in>>24&255)):(O(B,C.adler>>>16),O(B,65535&C.adler)),M(C),0<B.wrap&&(B.wrap=-B.wrap),B.pending!==0?E:1)},r.deflateEnd=function(C){var ae;return C&&C.state?(ae=C.state.status)!==k&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==ie&&ae!==666?ve(C,R):(C.state=null,ae===ie?ve(C,-3):E):R},r.deflateSetDictionary=function(C,ae){var oe,B,z,Q,pe,ge,te,Te,xe=ae.length;if(!C||!C.state||(Q=(oe=C.state).wrap)===2||Q===1&&oe.status!==k||oe.lookahead)return R;for(Q===1&&(C.adler=g(C.adler,ae,xe,0)),oe.wrap=0,xe>=oe.w_size&&(Q===0&&(Ce(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),Te=new d.Buf8(oe.w_size),d.arraySet(Te,ae,xe-oe.w_size,oe.w_size,0),ae=Te,xe=oe.w_size),pe=C.avail_in,ge=C.next_in,te=C.input,C.avail_in=xe,C.next_in=0,C.input=ae,he(oe);oe.lookahead>=Y;){for(B=oe.strstart,z=oe.lookahead-(Y-1);oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[B+Y-1])&oe.hash_mask,oe.prev[B&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=B,B++,--z;);oe.strstart=B,oe.lookahead=Y-1,he(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=Y-1,oe.match_available=0,C.next_in=ge,C.input=te,C.avail_in=pe,oe.wrap=Q,E},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,a,r){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,a,r){a.exports=function(c,d){var p,g,m,v,_,S,E,R,x,I,b,U,D,q,G,X,P,se,Y,re,_e,k,ie,N,K;p=c.state,g=c.next_in,N=c.input,m=g+(c.avail_in-5),v=c.next_out,K=c.output,_=v-(d-c.avail_out),S=v+(c.avail_out-257),E=p.dmax,R=p.wsize,x=p.whave,I=p.wnext,b=p.window,U=p.hold,D=p.bits,q=p.lencode,G=p.distcode,X=(1<<p.lenbits)-1,P=(1<<p.distbits)-1;e:do{D<15&&(U+=N[g++]<<D,D+=8,U+=N[g++]<<D,D+=8),se=q[U&X];t:for(;;){if(U>>>=Y=se>>>24,D-=Y,(Y=se>>>16&255)===0)K[v++]=65535&se;else{if(!(16&Y)){if((64&Y)==0){se=q[(65535&se)+(U&(1<<Y)-1)];continue t}if(32&Y){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}re=65535&se,(Y&=15)&&(D<Y&&(U+=N[g++]<<D,D+=8),re+=U&(1<<Y)-1,U>>>=Y,D-=Y),D<15&&(U+=N[g++]<<D,D+=8,U+=N[g++]<<D,D+=8),se=G[U&P];n:for(;;){if(U>>>=Y=se>>>24,D-=Y,!(16&(Y=se>>>16&255))){if((64&Y)==0){se=G[(65535&se)+(U&(1<<Y)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(_e=65535&se,D<(Y&=15)&&(U+=N[g++]<<D,(D+=8)<Y&&(U+=N[g++]<<D,D+=8)),E<(_e+=U&(1<<Y)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(U>>>=Y,D-=Y,(Y=v-_)<_e){if(x<(Y=_e-Y)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(ie=b,(k=0)===I){if(k+=R-Y,Y<re){for(re-=Y;K[v++]=b[k++],--Y;);k=v-_e,ie=K}}else if(I<Y){if(k+=R+I-Y,(Y-=I)<re){for(re-=Y;K[v++]=b[k++],--Y;);if(k=0,I<re){for(re-=Y=I;K[v++]=b[k++],--Y;);k=v-_e,ie=K}}}else if(k+=I-Y,Y<re){for(re-=Y;K[v++]=b[k++],--Y;);k=v-_e,ie=K}for(;2<re;)K[v++]=ie[k++],K[v++]=ie[k++],K[v++]=ie[k++],re-=3;re&&(K[v++]=ie[k++],1<re&&(K[v++]=ie[k++]))}else{for(k=v-_e;K[v++]=K[k++],K[v++]=K[k++],K[v++]=K[k++],2<(re-=3););re&&(K[v++]=K[k++],1<re&&(K[v++]=K[k++]))}break}}break}}while(g<m&&v<S);g-=re=D>>3,U&=(1<<(D-=re<<3))-1,c.next_in=g,c.next_out=v,c.avail_in=g<m?m-g+5:5-(g-m),c.avail_out=v<S?S-v+257:257-(v-S),p.hold=U,p.bits=D}},{}],49:[function(l,a,r){var c=l("../utils/common"),d=l("./adler32"),p=l("./crc32"),g=l("./inffast"),m=l("./inftrees"),v=1,_=2,S=0,E=-2,R=1,x=852,I=592;function b(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(k){var ie;return k&&k.state?(ie=k.state,k.total_in=k.total_out=ie.total=0,k.msg="",ie.wrap&&(k.adler=1&ie.wrap),ie.mode=R,ie.last=0,ie.havedict=0,ie.dmax=32768,ie.head=null,ie.hold=0,ie.bits=0,ie.lencode=ie.lendyn=new c.Buf32(x),ie.distcode=ie.distdyn=new c.Buf32(I),ie.sane=1,ie.back=-1,S):E}function q(k){var ie;return k&&k.state?((ie=k.state).wsize=0,ie.whave=0,ie.wnext=0,D(k)):E}function G(k,ie){var N,K;return k&&k.state?(K=k.state,ie<0?(N=0,ie=-ie):(N=1+(ie>>4),ie<48&&(ie&=15)),ie&&(ie<8||15<ie)?E:(K.window!==null&&K.wbits!==ie&&(K.window=null),K.wrap=N,K.wbits=ie,q(k))):E}function X(k,ie){var N,K;return k?(K=new U,(k.state=K).window=null,(N=G(k,ie))!==S&&(k.state=null),N):E}var P,se,Y=!0;function re(k){if(Y){var ie;for(P=new c.Buf32(512),se=new c.Buf32(32),ie=0;ie<144;)k.lens[ie++]=8;for(;ie<256;)k.lens[ie++]=9;for(;ie<280;)k.lens[ie++]=7;for(;ie<288;)k.lens[ie++]=8;for(m(v,k.lens,0,288,P,0,k.work,{bits:9}),ie=0;ie<32;)k.lens[ie++]=5;m(_,k.lens,0,32,se,0,k.work,{bits:5}),Y=!1}k.lencode=P,k.lenbits=9,k.distcode=se,k.distbits=5}function _e(k,ie,N,K){var J,Z=k.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new c.Buf8(Z.wsize)),K>=Z.wsize?(c.arraySet(Z.window,ie,N-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(K<(J=Z.wsize-Z.wnext)&&(J=K),c.arraySet(Z.window,ie,N-K,J,Z.wnext),(K-=J)?(c.arraySet(Z.window,ie,N-K,K,0),Z.wnext=K,Z.whave=Z.wsize):(Z.wnext+=J,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=J))),0}r.inflateReset=q,r.inflateReset2=G,r.inflateResetKeep=D,r.inflateInit=function(k){return X(k,15)},r.inflateInit2=X,r.inflate=function(k,ie){var N,K,J,Z,ve,ce,Ce,M,L,V,O,W,he,ye,Se,me,Ue,be,Ze,Oe,C,ae,oe,B,z=0,Q=new c.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return E;(N=k.state).mode===12&&(N.mode=13),ve=k.next_out,J=k.output,Ce=k.avail_out,Z=k.next_in,K=k.input,ce=k.avail_in,M=N.hold,L=N.bits,V=ce,O=Ce,ae=S;e:for(;;)switch(N.mode){case R:if(N.wrap===0){N.mode=13;break}for(;L<16;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if(2&N.wrap&&M===35615){Q[N.check=0]=255&M,Q[1]=M>>>8&255,N.check=p(N.check,Q,2,0),L=M=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&M)<<8)+(M>>8))%31){k.msg="incorrect header check",N.mode=30;break}if((15&M)!=8){k.msg="unknown compression method",N.mode=30;break}if(L-=4,C=8+(15&(M>>>=4)),N.wbits===0)N.wbits=C;else if(C>N.wbits){k.msg="invalid window size",N.mode=30;break}N.dmax=1<<C,k.adler=N.check=1,N.mode=512&M?10:12,L=M=0;break;case 2:for(;L<16;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if(N.flags=M,(255&N.flags)!=8){k.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){k.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=M>>8&1),512&N.flags&&(Q[0]=255&M,Q[1]=M>>>8&255,N.check=p(N.check,Q,2,0)),L=M=0,N.mode=3;case 3:for(;L<32;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}N.head&&(N.head.time=M),512&N.flags&&(Q[0]=255&M,Q[1]=M>>>8&255,Q[2]=M>>>16&255,Q[3]=M>>>24&255,N.check=p(N.check,Q,4,0)),L=M=0,N.mode=4;case 4:for(;L<16;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}N.head&&(N.head.xflags=255&M,N.head.os=M>>8),512&N.flags&&(Q[0]=255&M,Q[1]=M>>>8&255,N.check=p(N.check,Q,2,0)),L=M=0,N.mode=5;case 5:if(1024&N.flags){for(;L<16;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}N.length=M,N.head&&(N.head.extra_len=M),512&N.flags&&(Q[0]=255&M,Q[1]=M>>>8&255,N.check=p(N.check,Q,2,0)),L=M=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(ce<(W=N.length)&&(W=ce),W&&(N.head&&(C=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),c.arraySet(N.head.extra,K,Z,W,C)),512&N.flags&&(N.check=p(N.check,K,W,Z)),ce-=W,Z+=W,N.length-=W),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(ce===0)break e;for(W=0;C=K[Z+W++],N.head&&C&&N.length<65536&&(N.head.name+=String.fromCharCode(C)),C&&W<ce;);if(512&N.flags&&(N.check=p(N.check,K,W,Z)),ce-=W,Z+=W,C)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(ce===0)break e;for(W=0;C=K[Z+W++],N.head&&C&&N.length<65536&&(N.head.comment+=String.fromCharCode(C)),C&&W<ce;);if(512&N.flags&&(N.check=p(N.check,K,W,Z)),ce-=W,Z+=W,C)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;L<16;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if(M!==(65535&N.check)){k.msg="header crc mismatch",N.mode=30;break}L=M=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),k.adler=N.check=0,N.mode=12;break;case 10:for(;L<32;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}k.adler=N.check=b(M),L=M=0,N.mode=11;case 11:if(N.havedict===0)return k.next_out=ve,k.avail_out=Ce,k.next_in=Z,k.avail_in=ce,N.hold=M,N.bits=L,2;k.adler=N.check=1,N.mode=12;case 12:if(ie===5||ie===6)break e;case 13:if(N.last){M>>>=7&L,L-=7&L,N.mode=27;break}for(;L<3;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}switch(N.last=1&M,L-=1,3&(M>>>=1)){case 0:N.mode=14;break;case 1:if(re(N),N.mode=20,ie!==6)break;M>>>=2,L-=2;break e;case 2:N.mode=17;break;case 3:k.msg="invalid block type",N.mode=30}M>>>=2,L-=2;break;case 14:for(M>>>=7&L,L-=7&L;L<32;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if((65535&M)!=(M>>>16^65535)){k.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&M,L=M=0,N.mode=15,ie===6)break e;case 15:N.mode=16;case 16:if(W=N.length){if(ce<W&&(W=ce),Ce<W&&(W=Ce),W===0)break e;c.arraySet(J,K,Z,W,ve),ce-=W,Z+=W,Ce-=W,ve+=W,N.length-=W;break}N.mode=12;break;case 17:for(;L<14;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if(N.nlen=257+(31&M),M>>>=5,L-=5,N.ndist=1+(31&M),M>>>=5,L-=5,N.ncode=4+(15&M),M>>>=4,L-=4,286<N.nlen||30<N.ndist){k.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;L<3;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}N.lens[pe[N.have++]]=7&M,M>>>=3,L-=3}for(;N.have<19;)N.lens[pe[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,oe={bits:N.lenbits},ae=m(0,N.lens,0,19,N.lencode,0,N.work,oe),N.lenbits=oe.bits,ae){k.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;me=(z=N.lencode[M&(1<<N.lenbits)-1])>>>16&255,Ue=65535&z,!((Se=z>>>24)<=L);){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if(Ue<16)M>>>=Se,L-=Se,N.lens[N.have++]=Ue;else{if(Ue===16){for(B=Se+2;L<B;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if(M>>>=Se,L-=Se,N.have===0){k.msg="invalid bit length repeat",N.mode=30;break}C=N.lens[N.have-1],W=3+(3&M),M>>>=2,L-=2}else if(Ue===17){for(B=Se+3;L<B;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}L-=Se,C=0,W=3+(7&(M>>>=Se)),M>>>=3,L-=3}else{for(B=Se+7;L<B;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}L-=Se,C=0,W=11+(127&(M>>>=Se)),M>>>=7,L-=7}if(N.have+W>N.nlen+N.ndist){k.msg="invalid bit length repeat",N.mode=30;break}for(;W--;)N.lens[N.have++]=C}}if(N.mode===30)break;if(N.lens[256]===0){k.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,oe={bits:N.lenbits},ae=m(v,N.lens,0,N.nlen,N.lencode,0,N.work,oe),N.lenbits=oe.bits,ae){k.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,oe={bits:N.distbits},ae=m(_,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,oe),N.distbits=oe.bits,ae){k.msg="invalid distances set",N.mode=30;break}if(N.mode=20,ie===6)break e;case 20:N.mode=21;case 21:if(6<=ce&&258<=Ce){k.next_out=ve,k.avail_out=Ce,k.next_in=Z,k.avail_in=ce,N.hold=M,N.bits=L,g(k,O),ve=k.next_out,J=k.output,Ce=k.avail_out,Z=k.next_in,K=k.input,ce=k.avail_in,M=N.hold,L=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;me=(z=N.lencode[M&(1<<N.lenbits)-1])>>>16&255,Ue=65535&z,!((Se=z>>>24)<=L);){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if(me&&(240&me)==0){for(be=Se,Ze=me,Oe=Ue;me=(z=N.lencode[Oe+((M&(1<<be+Ze)-1)>>be)])>>>16&255,Ue=65535&z,!(be+(Se=z>>>24)<=L);){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}M>>>=be,L-=be,N.back+=be}if(M>>>=Se,L-=Se,N.back+=Se,N.length=Ue,me===0){N.mode=26;break}if(32&me){N.back=-1,N.mode=12;break}if(64&me){k.msg="invalid literal/length code",N.mode=30;break}N.extra=15&me,N.mode=22;case 22:if(N.extra){for(B=N.extra;L<B;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}N.length+=M&(1<<N.extra)-1,M>>>=N.extra,L-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;me=(z=N.distcode[M&(1<<N.distbits)-1])>>>16&255,Ue=65535&z,!((Se=z>>>24)<=L);){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if((240&me)==0){for(be=Se,Ze=me,Oe=Ue;me=(z=N.distcode[Oe+((M&(1<<be+Ze)-1)>>be)])>>>16&255,Ue=65535&z,!(be+(Se=z>>>24)<=L);){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}M>>>=be,L-=be,N.back+=be}if(M>>>=Se,L-=Se,N.back+=Se,64&me){k.msg="invalid distance code",N.mode=30;break}N.offset=Ue,N.extra=15&me,N.mode=24;case 24:if(N.extra){for(B=N.extra;L<B;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}N.offset+=M&(1<<N.extra)-1,M>>>=N.extra,L-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){k.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(Ce===0)break e;if(W=O-Ce,N.offset>W){if((W=N.offset-W)>N.whave&&N.sane){k.msg="invalid distance too far back",N.mode=30;break}he=W>N.wnext?(W-=N.wnext,N.wsize-W):N.wnext-W,W>N.length&&(W=N.length),ye=N.window}else ye=J,he=ve-N.offset,W=N.length;for(Ce<W&&(W=Ce),Ce-=W,N.length-=W;J[ve++]=ye[he++],--W;);N.length===0&&(N.mode=21);break;case 26:if(Ce===0)break e;J[ve++]=N.length,Ce--,N.mode=21;break;case 27:if(N.wrap){for(;L<32;){if(ce===0)break e;ce--,M|=K[Z++]<<L,L+=8}if(O-=Ce,k.total_out+=O,N.total+=O,O&&(k.adler=N.check=N.flags?p(N.check,J,O,ve-O):d(N.check,J,O,ve-O)),O=Ce,(N.flags?M:b(M))!==N.check){k.msg="incorrect data check",N.mode=30;break}L=M=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;L<32;){if(ce===0)break e;ce--,M+=K[Z++]<<L,L+=8}if(M!==(4294967295&N.total)){k.msg="incorrect length check",N.mode=30;break}L=M=0}N.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return E}return k.next_out=ve,k.avail_out=Ce,k.next_in=Z,k.avail_in=ce,N.hold=M,N.bits=L,(N.wsize||O!==k.avail_out&&N.mode<30&&(N.mode<27||ie!==4))&&_e(k,k.output,k.next_out,O-k.avail_out)?(N.mode=31,-4):(V-=k.avail_in,O-=k.avail_out,k.total_in+=V,k.total_out+=O,N.total+=O,N.wrap&&O&&(k.adler=N.check=N.flags?p(N.check,J,O,k.next_out-O):d(N.check,J,O,k.next_out-O)),k.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(V==0&&O===0||ie===4)&&ae===S&&(ae=-5),ae)},r.inflateEnd=function(k){if(!k||!k.state)return E;var ie=k.state;return ie.window&&(ie.window=null),k.state=null,S},r.inflateGetHeader=function(k,ie){var N;return k&&k.state?(2&(N=k.state).wrap)==0?E:((N.head=ie).done=!1,S):E},r.inflateSetDictionary=function(k,ie){var N,K=ie.length;return k&&k.state?(N=k.state).wrap!==0&&N.mode!==11?E:N.mode===11&&d(1,ie,K,0)!==N.check?-3:_e(k,ie,K,K)?(N.mode=31,-4):(N.havedict=1,S):E},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,a,r){var c=l("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(v,_,S,E,R,x,I,b){var U,D,q,G,X,P,se,Y,re,_e=b.bits,k=0,ie=0,N=0,K=0,J=0,Z=0,ve=0,ce=0,Ce=0,M=0,L=null,V=0,O=new c.Buf16(16),W=new c.Buf16(16),he=null,ye=0;for(k=0;k<=15;k++)O[k]=0;for(ie=0;ie<E;ie++)O[_[S+ie]]++;for(J=_e,K=15;1<=K&&O[K]===0;K--);if(K<J&&(J=K),K===0)return R[x++]=20971520,R[x++]=20971520,b.bits=1,0;for(N=1;N<K&&O[N]===0;N++);for(J<N&&(J=N),k=ce=1;k<=15;k++)if(ce<<=1,(ce-=O[k])<0)return-1;if(0<ce&&(v===0||K!==1))return-1;for(W[1]=0,k=1;k<15;k++)W[k+1]=W[k]+O[k];for(ie=0;ie<E;ie++)_[S+ie]!==0&&(I[W[_[S+ie]]++]=ie);if(P=v===0?(L=he=I,19):v===1?(L=d,V-=257,he=p,ye-=257,256):(L=g,he=m,-1),k=N,X=x,ve=ie=M=0,q=-1,G=(Ce=1<<(Z=J))-1,v===1&&852<Ce||v===2&&592<Ce)return 1;for(;;){for(se=k-ve,re=I[ie]<P?(Y=0,I[ie]):I[ie]>P?(Y=he[ye+I[ie]],L[V+I[ie]]):(Y=96,0),U=1<<k-ve,N=D=1<<Z;R[X+(M>>ve)+(D-=U)]=se<<24|Y<<16|re|0,D!==0;);for(U=1<<k-1;M&U;)U>>=1;if(U!==0?(M&=U-1,M+=U):M=0,ie++,--O[k]==0){if(k===K)break;k=_[S+I[ie]]}if(J<k&&(M&G)!==q){for(ve===0&&(ve=J),X+=N,ce=1<<(Z=k-ve);Z+ve<K&&!((ce-=O[Z+ve])<=0);)Z++,ce<<=1;if(Ce+=1<<Z,v===1&&852<Ce||v===2&&592<Ce)return 1;R[q=M&G]=J<<24|Z<<16|X-x|0}}return M!==0&&(R[X+M]=k-ve<<24|64<<16|0),b.bits=J,0}},{"../utils/common":41}],51:[function(l,a,r){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,a,r){var c=l("../utils/common"),d=0,p=1;function g(z){for(var Q=z.length;0<=--Q;)z[Q]=0}var m=0,v=29,_=256,S=_+1+v,E=30,R=19,x=2*S+1,I=15,b=16,U=7,D=256,q=16,G=17,X=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],se=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_e=new Array(2*(S+2));g(_e);var k=new Array(2*E);g(k);var ie=new Array(512);g(ie);var N=new Array(256);g(N);var K=new Array(v);g(K);var J,Z,ve,ce=new Array(E);function Ce(z,Q,pe,ge,te){this.static_tree=z,this.extra_bits=Q,this.extra_base=pe,this.elems=ge,this.max_length=te,this.has_stree=z&&z.length}function M(z,Q){this.dyn_tree=z,this.max_code=0,this.stat_desc=Q}function L(z){return z<256?ie[z]:ie[256+(z>>>7)]}function V(z,Q){z.pending_buf[z.pending++]=255&Q,z.pending_buf[z.pending++]=Q>>>8&255}function O(z,Q,pe){z.bi_valid>b-pe?(z.bi_buf|=Q<<z.bi_valid&65535,V(z,z.bi_buf),z.bi_buf=Q>>b-z.bi_valid,z.bi_valid+=pe-b):(z.bi_buf|=Q<<z.bi_valid&65535,z.bi_valid+=pe)}function W(z,Q,pe){O(z,pe[2*Q],pe[2*Q+1])}function he(z,Q){for(var pe=0;pe|=1&z,z>>>=1,pe<<=1,0<--Q;);return pe>>>1}function ye(z,Q,pe){var ge,te,Te=new Array(I+1),xe=0;for(ge=1;ge<=I;ge++)Te[ge]=xe=xe+pe[ge-1]<<1;for(te=0;te<=Q;te++){var Ee=z[2*te+1];Ee!==0&&(z[2*te]=he(Te[Ee]++,Ee))}}function Se(z){var Q;for(Q=0;Q<S;Q++)z.dyn_ltree[2*Q]=0;for(Q=0;Q<E;Q++)z.dyn_dtree[2*Q]=0;for(Q=0;Q<R;Q++)z.bl_tree[2*Q]=0;z.dyn_ltree[2*D]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function me(z){8<z.bi_valid?V(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function Ue(z,Q,pe,ge){var te=2*Q,Te=2*pe;return z[te]<z[Te]||z[te]===z[Te]&&ge[Q]<=ge[pe]}function be(z,Q,pe){for(var ge=z.heap[pe],te=pe<<1;te<=z.heap_len&&(te<z.heap_len&&Ue(Q,z.heap[te+1],z.heap[te],z.depth)&&te++,!Ue(Q,ge,z.heap[te],z.depth));)z.heap[pe]=z.heap[te],pe=te,te<<=1;z.heap[pe]=ge}function Ze(z,Q,pe){var ge,te,Te,xe,Ee=0;if(z.last_lit!==0)for(;ge=z.pending_buf[z.d_buf+2*Ee]<<8|z.pending_buf[z.d_buf+2*Ee+1],te=z.pending_buf[z.l_buf+Ee],Ee++,ge===0?W(z,te,Q):(W(z,(Te=N[te])+_+1,Q),(xe=P[Te])!==0&&O(z,te-=K[Te],xe),W(z,Te=L(--ge),pe),(xe=se[Te])!==0&&O(z,ge-=ce[Te],xe)),Ee<z.last_lit;);W(z,D,Q)}function Oe(z,Q){var pe,ge,te,Te=Q.dyn_tree,xe=Q.stat_desc.static_tree,Ee=Q.stat_desc.has_stree,we=Q.stat_desc.elems,Qe=-1;for(z.heap_len=0,z.heap_max=x,pe=0;pe<we;pe++)Te[2*pe]!==0?(z.heap[++z.heap_len]=Qe=pe,z.depth[pe]=0):Te[2*pe+1]=0;for(;z.heap_len<2;)Te[2*(te=z.heap[++z.heap_len]=Qe<2?++Qe:0)]=1,z.depth[te]=0,z.opt_len--,Ee&&(z.static_len-=xe[2*te+1]);for(Q.max_code=Qe,pe=z.heap_len>>1;1<=pe;pe--)be(z,Te,pe);for(te=we;pe=z.heap[1],z.heap[1]=z.heap[z.heap_len--],be(z,Te,1),ge=z.heap[1],z.heap[--z.heap_max]=pe,z.heap[--z.heap_max]=ge,Te[2*te]=Te[2*pe]+Te[2*ge],z.depth[te]=(z.depth[pe]>=z.depth[ge]?z.depth[pe]:z.depth[ge])+1,Te[2*pe+1]=Te[2*ge+1]=te,z.heap[1]=te++,be(z,Te,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],(function(Be,wt){var zn,Ft,ri,nt,vt,Yt,rt=wt.dyn_tree,El=wt.max_code,ts=wt.stat_desc.static_tree,ns=wt.stat_desc.has_stree,Ri=wt.stat_desc.extra_bits,ui=wt.stat_desc.extra_base,un=wt.stat_desc.max_length,Jt=0;for(nt=0;nt<=I;nt++)Be.bl_count[nt]=0;for(rt[2*Be.heap[Be.heap_max]+1]=0,zn=Be.heap_max+1;zn<x;zn++)un<(nt=rt[2*rt[2*(Ft=Be.heap[zn])+1]+1]+1)&&(nt=un,Jt++),rt[2*Ft+1]=nt,El<Ft||(Be.bl_count[nt]++,vt=0,ui<=Ft&&(vt=Ri[Ft-ui]),Yt=rt[2*Ft],Be.opt_len+=Yt*(nt+vt),ns&&(Be.static_len+=Yt*(ts[2*Ft+1]+vt)));if(Jt!==0){do{for(nt=un-1;Be.bl_count[nt]===0;)nt--;Be.bl_count[nt]--,Be.bl_count[nt+1]+=2,Be.bl_count[un]--,Jt-=2}while(0<Jt);for(nt=un;nt!==0;nt--)for(Ft=Be.bl_count[nt];Ft!==0;)El<(ri=Be.heap[--zn])||(rt[2*ri+1]!==nt&&(Be.opt_len+=(nt-rt[2*ri+1])*rt[2*ri],rt[2*ri+1]=nt),Ft--)}})(z,Q),ye(Te,Qe,z.bl_count)}function C(z,Q,pe){var ge,te,Te=-1,xe=Q[1],Ee=0,we=7,Qe=4;for(xe===0&&(we=138,Qe=3),Q[2*(pe+1)+1]=65535,ge=0;ge<=pe;ge++)te=xe,xe=Q[2*(ge+1)+1],++Ee<we&&te===xe||(Ee<Qe?z.bl_tree[2*te]+=Ee:te!==0?(te!==Te&&z.bl_tree[2*te]++,z.bl_tree[2*q]++):Ee<=10?z.bl_tree[2*G]++:z.bl_tree[2*X]++,Te=te,Qe=(Ee=0)===xe?(we=138,3):te===xe?(we=6,3):(we=7,4))}function ae(z,Q,pe){var ge,te,Te=-1,xe=Q[1],Ee=0,we=7,Qe=4;for(xe===0&&(we=138,Qe=3),ge=0;ge<=pe;ge++)if(te=xe,xe=Q[2*(ge+1)+1],!(++Ee<we&&te===xe)){if(Ee<Qe)for(;W(z,te,z.bl_tree),--Ee!=0;);else te!==0?(te!==Te&&(W(z,te,z.bl_tree),Ee--),W(z,q,z.bl_tree),O(z,Ee-3,2)):Ee<=10?(W(z,G,z.bl_tree),O(z,Ee-3,3)):(W(z,X,z.bl_tree),O(z,Ee-11,7));Te=te,Qe=(Ee=0)===xe?(we=138,3):te===xe?(we=6,3):(we=7,4)}}g(ce);var oe=!1;function B(z,Q,pe,ge){O(z,(m<<1)+(ge?1:0),3),(function(te,Te,xe,Ee){me(te),V(te,xe),V(te,~xe),c.arraySet(te.pending_buf,te.window,Te,xe,te.pending),te.pending+=xe})(z,Q,pe)}r._tr_init=function(z){oe||((function(){var Q,pe,ge,te,Te,xe=new Array(I+1);for(te=ge=0;te<v-1;te++)for(K[te]=ge,Q=0;Q<1<<P[te];Q++)N[ge++]=te;for(N[ge-1]=te,te=Te=0;te<16;te++)for(ce[te]=Te,Q=0;Q<1<<se[te];Q++)ie[Te++]=te;for(Te>>=7;te<E;te++)for(ce[te]=Te<<7,Q=0;Q<1<<se[te]-7;Q++)ie[256+Te++]=te;for(pe=0;pe<=I;pe++)xe[pe]=0;for(Q=0;Q<=143;)_e[2*Q+1]=8,Q++,xe[8]++;for(;Q<=255;)_e[2*Q+1]=9,Q++,xe[9]++;for(;Q<=279;)_e[2*Q+1]=7,Q++,xe[7]++;for(;Q<=287;)_e[2*Q+1]=8,Q++,xe[8]++;for(ye(_e,S+1,xe),Q=0;Q<E;Q++)k[2*Q+1]=5,k[2*Q]=he(Q,5);J=new Ce(_e,P,_+1,S,I),Z=new Ce(k,se,0,E,I),ve=new Ce(new Array(0),Y,0,R,U)})(),oe=!0),z.l_desc=new M(z.dyn_ltree,J),z.d_desc=new M(z.dyn_dtree,Z),z.bl_desc=new M(z.bl_tree,ve),z.bi_buf=0,z.bi_valid=0,Se(z)},r._tr_stored_block=B,r._tr_flush_block=function(z,Q,pe,ge){var te,Te,xe=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=(function(Ee){var we,Qe=4093624447;for(we=0;we<=31;we++,Qe>>>=1)if(1&Qe&&Ee.dyn_ltree[2*we]!==0)return d;if(Ee.dyn_ltree[18]!==0||Ee.dyn_ltree[20]!==0||Ee.dyn_ltree[26]!==0)return p;for(we=32;we<_;we++)if(Ee.dyn_ltree[2*we]!==0)return p;return d})(z)),Oe(z,z.l_desc),Oe(z,z.d_desc),xe=(function(Ee){var we;for(C(Ee,Ee.dyn_ltree,Ee.l_desc.max_code),C(Ee,Ee.dyn_dtree,Ee.d_desc.max_code),Oe(Ee,Ee.bl_desc),we=R-1;3<=we&&Ee.bl_tree[2*re[we]+1]===0;we--);return Ee.opt_len+=3*(we+1)+5+5+4,we})(z),te=z.opt_len+3+7>>>3,(Te=z.static_len+3+7>>>3)<=te&&(te=Te)):te=Te=pe+5,pe+4<=te&&Q!==-1?B(z,Q,pe,ge):z.strategy===4||Te===te?(O(z,2+(ge?1:0),3),Ze(z,_e,k)):(O(z,4+(ge?1:0),3),(function(Ee,we,Qe,Be){var wt;for(O(Ee,we-257,5),O(Ee,Qe-1,5),O(Ee,Be-4,4),wt=0;wt<Be;wt++)O(Ee,Ee.bl_tree[2*re[wt]+1],3);ae(Ee,Ee.dyn_ltree,we-1),ae(Ee,Ee.dyn_dtree,Qe-1)})(z,z.l_desc.max_code+1,z.d_desc.max_code+1,xe+1),Ze(z,z.dyn_ltree,z.dyn_dtree)),Se(z),ge&&me(z)},r._tr_tally=function(z,Q,pe){return z.pending_buf[z.d_buf+2*z.last_lit]=Q>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&Q,z.pending_buf[z.l_buf+z.last_lit]=255&pe,z.last_lit++,Q===0?z.dyn_ltree[2*pe]++:(z.matches++,Q--,z.dyn_ltree[2*(N[pe]+_+1)]++,z.dyn_dtree[2*L(Q)]++),z.last_lit===z.lit_bufsize-1},r._tr_align=function(z){O(z,2,3),W(z,D,_e),(function(Q){Q.bi_valid===16?(V(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)})(z)}},{"../utils/common":41}],53:[function(l,a,r){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,a,r){(function(c){(function(d,p){if(!d.setImmediate){var g,m,v,_,S=1,E={},R=!1,x=d.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(d);I=I&&I.setTimeout?I:d,g={}.toString.call(d.process)==="[object process]"?function(q){process.nextTick(function(){U(q)})}:(function(){if(d.postMessage&&!d.importScripts){var q=!0,G=d.onmessage;return d.onmessage=function(){q=!1},d.postMessage("","*"),d.onmessage=G,q}})()?(_="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",D,!1):d.attachEvent("onmessage",D),function(q){d.postMessage(_+q,"*")}):d.MessageChannel?((v=new MessageChannel).port1.onmessage=function(q){U(q.data)},function(q){v.port2.postMessage(q)}):x&&"onreadystatechange"in x.createElement("script")?(m=x.documentElement,function(q){var G=x.createElement("script");G.onreadystatechange=function(){U(q),G.onreadystatechange=null,m.removeChild(G),G=null},m.appendChild(G)}):function(q){setTimeout(U,0,q)},I.setImmediate=function(q){typeof q!="function"&&(q=new Function(""+q));for(var G=new Array(arguments.length-1),X=0;X<G.length;X++)G[X]=arguments[X+1];var P={callback:q,args:G};return E[S]=P,g(S),S++},I.clearImmediate=b}function b(q){delete E[q]}function U(q){if(R)setTimeout(U,0,q);else{var G=E[q];if(G){R=!0;try{(function(X){var P=X.callback,se=X.args;switch(se.length){case 0:P();break;case 1:P(se[0]);break;case 2:P(se[0],se[1]);break;case 3:P(se[0],se[1],se[2]);break;default:P.apply(p,se)}})(G)}finally{b(q),R=!1}}}}function D(q){q.source===d&&typeof q.data=="string"&&q.data.indexOf(_)===0&&U(+q.data.slice(_.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof La<"u"?La:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Cu)),Cu.exports}var Px=Hx();const Vx=qu(Px),$a="gemini_local_batch_sessions",Xu=()=>{try{const i=localStorage.getItem($a);return i?JSON.parse(i):[]}catch(i){return console.error("Failed to load batch sessions",i),[]}},xu=i=>{const t=Xu(),l=t.findIndex(a=>a.id===i.id);l>=0?t[l]=i:t.unshift(i),t.length>10&&t.pop();try{localStorage.setItem($a,JSON.stringify(t))}catch(a){console.error("Storage full or error",a),alert("Warning: Local storage is full. Oldest sessions might be lost or functionality limited.")}},Ox=i=>{const t=Xu().filter(l=>l.id!==i);return localStorage.setItem($a,JSON.stringify(t)),t},Fx=()=>{localStorage.removeItem($a)},Pa=i=>i.replace(/[/\\?%*:|"<>]/g,"-").replace(/[\r\n]/g,"").trim().slice(0,80),Yx=async i=>{const t=new Vx,l=t.folder(Pa(i.name));return i.items.forEach(a=>{const r=a.question.split(`
`)[0].trim(),d=`${Pa(r)||Pa(a.originalFileName.replace(".txt",""))}.txt`,p=`=== QUESTION ===
${a.question}

=== ANSWER ===
${a.answer||(a.errorMsg?`ERROR: ${a.errorMsg}`:"")}`;l&&l.file(d,p)}),await t.generateAsync({type:"blob"})},Bm=i=>new Promise((t,l)=>{const a=new FileReader;a.onload=r=>{var c;return t((c=r.target)==null?void 0:c.result)},a.onerror=r=>l(r),a.readAsText(i)}),Au=(i,t,l)=>{const a=i.items.map(c=>c.id===t?{...c,...l}:c),r=a.filter(c=>c.status==="success"||c.status==="error").length;return{...i,items:a,completedFiles:r,isFinished:r===i.totalFiles}},Jx=({apiKey:i,config:t,contextCache:l,onUpdateCost:a,onDeleteCache:r,onCreateCache:c,systemInstruction:d})=>{const[p,g]=Ie.useState([]),[m,v]=Ie.useState(null),[_,S]=Ie.useState(!1),[E,R]=Ie.useState(!0),[x,I]=Ie.useState(5),[b,U]=Ie.useState(null),[D,q]=Ie.useState(null),[G,X]=Ie.useState(""),P=Ie.useRef(null),se=Ie.useRef(null),Y=Ie.useRef(null),re=Ie.useRef(null),_e=Ie.useRef(void 0);Ie.useEffect(()=>{g(Xu())},[]);const k=p.find(V=>V.id===m),ie=V=>{V.target.files&&V.target.files.length>0&&q(V.target.files[0])},N=async()=>{if(!(!_||!confirm(` 
 Cache `))&&(re.current&&re.current.abort(),S(!1),X("Stopped by user."),_e.current)){console.log("User stopped. Deleting cache:",_e.current);try{await r(),X("Stopped. Cache deleted.")}catch(O){console.error("Error deleting cache on stop",O)}_e.current=void 0}},K=async V=>{if(!V.target.files||V.target.files.length===0)return;const O=Array.from(V.target.files).filter(me=>me.type.startsWith("text/")||me.name.endsWith(".txt")||me.name.endsWith(".md")||me.name.endsWith(".json")||me.name.endsWith(".js")||me.name.endsWith(".ts"));if(O.length===0)return alert("No text files found in the selected folder.");const W=Date.now().toString(),he=O[0].webkitRelativePath.split("/")[0]||"Upload-"+W,ye=[];for(let me=0;me<O.length;me++){const Ue=await Bm(O[me]);ye.push({id:`${W}-${me}`,originalFileName:O[me].name,question:Ue,answer:"",status:"pending"})}const Se={id:W,name:he,createdAt:Date.now(),totalFiles:ye.length,completedFiles:0,items:ye,isFinished:!1,cacheNameUsed:void 0};xu(Se),g(me=>[Se,...me]),v(W),P.current&&(P.current.value="")},J=async()=>{if(!k)return;if(!i)return alert("Please enter API Key.");re.current=new AbortController;const V=re.current.signal;let O=l.status==="active"?l.cacheName:void 0;S(!0),X("Initializing...");try{if(D){if(l.status==="active"||l.cacheName){X("Cleaning up old cache...");try{await r()}catch(Ze){console.warn("Failed to delete old cache, proceeding...",Ze)}}X("Uploading & Caching file...");const be=await c(D,x*60);if(!be)throw new Error("Failed to create cache");O=be.name,_e.current=O,X("Cache Ready. Starting Batch...")}else if(O)_e.current=O,console.log("Using existing cache:",O);else if(!confirm("No active context cache found. Run without context?")){S(!1),X("");return}}catch(be){console.error(be),S(!1),X("Error during initialization: "+be.message);return}if(V.aborted)return;const W=5,he=k.items.filter(be=>be.status==="pending"||be.status==="error");let ye={...k,cacheNameUsed:O},Se=k.totalFiles-he.length,me=!1;const Ue=async be=>{var Ze,Oe;if(!V.aborted){ye=Au(ye,be.id,{status:"loading"}),g(C=>C.map(ae=>ae.id===ye.id?ye:ae));try{let C=be.question;O&&(C=`[System Instruction: You have access to a cached document. Please answer the user's question strictly based on that document.]

User Question:
${be.question}`);const ae=await Dx(i,t,C,O,()=>{Se++,E&&O&&Se===ye.totalFiles&&!me&&!V.aborted&&(console.log("All requests active. Deleting cache early."),me=!0,_e.current=void 0,r())});ae.usageMetadata&&a(ae.usageMetadata.promptTokenCount,ae.usageMetadata.candidatesTokenCount),ye=Au(ye,be.id,{status:"success",answer:ae.text,tokenUsage:{prompt:((Ze=ae.usageMetadata)==null?void 0:Ze.promptTokenCount)||0,candidates:((Oe=ae.usageMetadata)==null?void 0:Oe.candidatesTokenCount)||0}})}catch(C){if(V.aborted)return;console.error(C),ye=Au(ye,be.id,{status:"error",errorMsg:C.message})}V.aborted||(g(C=>C.map(ae=>ae.id===ye.id?ye:ae)),xu(ye))}};for(let be=0;be<he.length&&!(V.aborted||m!==ye.id);be+=W){const Ze=he.slice(be,be+W);await Promise.all(Ze.map(Oe=>Ue(Oe)))}V.aborted||(S(!1),X(""),E&&O&&!me&&(r(),me=!0,_e.current=void 0),alert(me?"Batch complete! Cache was auto-deleted.":"Batch complete!"))},Z=async V=>{const O=await Yx(V),W=URL.createObjectURL(O),he=document.createElement("a");he.href=W,he.download=`${Pa(V.name)}_results.zip`,he.click(),URL.revokeObjectURL(W)},ve=(V,O)=>{O.stopPropagation(),confirm("Are you sure you want to delete this history?")&&(g(Ox(V)),m===V&&v(null))},ce=()=>{confirm("Delete ALL batch history? This cannot be undone.")&&(Fx(),g([]),v(null))},Ce=async V=>{if(!V.target.files||V.target.files.length===0)return;const O=Array.from(V.target.files),W=Date.now().toString(),he="Restored-"+(O[0].webkitRelativePath.split("/")[0]||"Folder"),ye=[];for(let me=0;me<O.length;me++){const be=(await Bm(O[me])).split("=== ANSWER ==="),Ze=be[0].replace("=== QUESTION ===","").trim(),Oe=be[1]?be[1].trim():"";ye.push({id:`${W}-${me}`,originalFileName:O[me].name,question:Ze,answer:Oe,status:Oe?"success":"pending"})}const Se={id:W,name:he,createdAt:Date.now(),totalFiles:ye.length,completedFiles:ye.filter(me=>me.status==="success").length,items:ye,isFinished:!0};xu(Se),g(me=>[Se,...me]),v(W),se.current&&(se.current.value="")},M=(k==null?void 0:k.items.filter(V=>V.status==="pending"||V.status==="loading"))||[],L=(k==null?void 0:k.items.filter(V=>V.status==="success"||V.status==="error"))||[];return A.jsxs("div",{className:"flex h-full w-full bg-[#131314] text-[#e3e3e3] overflow-hidden",children:[A.jsxs("div",{className:"w-64 border-r border-studio-border bg-studio-bg flex flex-col flex-shrink-0",children:[A.jsxs("div",{className:"p-4 border-b border-studio-border",children:[A.jsxs("h2",{className:"text-sm font-bold flex items-center gap-2 mb-3",children:[A.jsx(xv,{size:16})," Batch History"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>{var V;return(V=P.current)==null?void 0:V.click()},className:"flex-1 bg-studio-primary text-studio-bg text-xs font-bold py-2 rounded flex items-center justify-center gap-1 hover:opacity-90",children:[A.jsx(Ev,{size:14})," Import Questions"]}),A.jsx("input",{type:"file",ref:P,webkitdirectory:"",multiple:!0,className:"hidden",onChange:K}),A.jsx("button",{onClick:()=>{var V;return(V=se.current)==null?void 0:V.click()},className:"px-2 bg-studio-panel border border-studio-border text-gray-400 rounded hover:text-white",title:"Restore from Results Folder",children:A.jsx(Q0,{size:14})}),A.jsx("input",{type:"file",ref:se,webkitdirectory:"",multiple:!0,className:"hidden",onChange:Ce})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto",children:[p.map(V=>A.jsxs("div",{onClick:()=>v(V.id),className:`p-3 border-b border-studio-border cursor-pointer hover:bg-studio-panel group relative ${m===V.id?"bg-[#004a77]/30 border-l-2 border-l-studio-primary":""}`,children:[A.jsx("div",{className:"text-sm font-medium truncate pr-6",children:V.name}),A.jsxs("div",{className:"text-[10px] text-gray-500 mt-1 flex justify-between",children:[A.jsx("span",{children:new Date(V.createdAt).toLocaleDateString()}),A.jsxs("span",{children:[V.completedFiles,"/",V.totalFiles]})]}),V.isFinished&&A.jsx(Hu,{size:12,className:"text-green-500 absolute top-3 right-2"}),A.jsx("button",{onClick:O=>ve(V.id,O),className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 text-gray-500 hover:text-red-400",children:A.jsx(Oa,{size:12})})]},V.id)),p.length===0&&A.jsx("div",{className:"p-4 text-center text-xs text-gray-500 italic",children:"No history"})]}),p.length>0&&A.jsx("div",{className:"p-2 border-t border-studio-border",children:A.jsx("button",{onClick:ce,className:"w-full text-[10px] text-red-400 hover:bg-red-900/20 py-1 rounded",children:"Clear All History"})})]}),A.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-studio-panel",children:k?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"p-6 border-b border-studio-border bg-studio-bg",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsxs("div",{children:[A.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[k.name,A.jsx("span",{className:`text-xs px-2 py-0.5 rounded border ${k.isFinished?"bg-green-900/20 border-green-800 text-green-400":"bg-blue-900/20 border-blue-800 text-blue-400"}`,children:k.isFinished?"Completed":"Ready"})]}),A.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Session ID: ",k.id]})]}),_&&A.jsxs("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white font-bold rounded-lg shadow-lg flex items-center gap-2 hover:bg-red-700 transition-all animate-pulse border-2 border-red-400",children:[A.jsx(rp,{size:16,fill:"currentColor"}),"EMERGENCY STOP"]})]}),!k.isFinished&&!_&&A.jsxs("div",{className:"mb-4 bg-[#1e1e1e] border border-studio-border rounded-lg p-4 animate-in fade-in",children:[A.jsxs("h3",{className:"text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[A.jsx(bu,{size:16,className:"text-studio-primary"}),"Context Configuration"]}),A.jsxs("div",{className:"flex gap-4 items-end",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"1. Attach Context File (PDF/TXT)"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>{var V;return(V=Y.current)==null?void 0:V.click()},disabled:_,className:`flex-1 py-2 px-3 rounded border text-sm flex items-center gap-2 truncate ${D?"bg-studio-primary/10 border-studio-primary text-studio-primary":"bg-[#131314] border-studio-border text-gray-400"} disabled:opacity-50`,children:[A.jsx(Sv,{size:16}),A.jsx("span",{className:"truncate",children:D?D.name:l.status==="active"?`Using Active: ${l.fileName}`:"Select Reference File..."})]}),A.jsx("input",{type:"file",ref:Y,className:"hidden",onChange:ie}),D&&!_&&A.jsx("button",{onClick:()=>q(null),className:"p-2 text-gray-500 hover:text-red-400",children:A.jsx(Oa,{size:16})})]})]}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("label",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:["2. Verify System Instruction",A.jsxs("div",{className:"group relative",children:[A.jsx(Va,{size:12,className:"text-gray-500 cursor-help"}),A.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-black border border-gray-700 rounded text-xs text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:"This instruction is prepended to every request in the batch."})]})]}),A.jsx("div",{className:"text-xs bg-[#131314] border border-studio-border rounded p-2 text-gray-400 truncate",title:d,children:d?`"${d.slice(0,50)}..."`:"(Empty - Model will just answer questions)"})]}),_?A.jsxs("button",{onClick:N,className:"h-10 px-6 bg-red-900/80 border border-red-700 text-white font-bold rounded flex items-center gap-2 hover:bg-red-800 transition-colors animate-pulse",children:[A.jsx(rp,{size:16,fill:"currentColor"}),"STOP & DELETE CACHE"]}):A.jsxs("button",{onClick:J,className:"h-10 px-6 bg-studio-primary text-studio-bg font-bold rounded flex items-center gap-2 hover:opacity-90 disabled:opacity-50",children:[A.jsx(jv,{size:16,fill:"currentColor"}),"Start Integrated Run"]})]}),G&&A.jsxs("div",{className:"mt-2 text-xs text-yellow-400 flex items-center gap-2",children:[A.jsx(ap,{size:12,className:_?"animate-spin":""})," ",G]}),A.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:E,onChange:V=>R(V.target.checked),className:"accent-studio-primary",disabled:_}),A.jsx("span",{className:"text-xs text-gray-500",children:"Auto-delete cache immediately after all requests start (Saves money)"})]}),A.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-700 pl-4",children:[A.jsx("span",{className:"text-xs text-gray-500",children:"TTL (Mins):"}),A.jsx("input",{type:"number",min:"1",max:"60",value:x,onChange:V=>I(parseInt(V.target.value)||5),className:"w-16 bg-[#131314] border border-studio-border rounded px-2 py-1 text-xs text-gray-300 focus:border-studio-primary outline-none",disabled:_})]})]})]}),A.jsx("div",{className:"h-2 w-full bg-[#131314] rounded-full overflow-hidden mb-2",children:A.jsx("div",{className:"h-full bg-studio-primary transition-all duration-300",style:{width:`${k.completedFiles/k.totalFiles*100}%`}})}),A.jsx("div",{className:"flex justify-between text-xs text-gray-400",children:A.jsxs("span",{children:["Progress: ",k.completedFiles," / ",k.totalFiles]})})]}),A.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[M.length>0&&A.jsxs("div",{className:`flex-1 overflow-y-auto p-4 border-r border-studio-border min-w-[300px] ${L.length>0?"hidden md:block":"w-full"}`,children:[A.jsx("h3",{className:"text-xs font-bold text-gray-500 mb-3 sticky top-0 bg-studio-panel py-2 z-10 flex justify-between",children:A.jsxs("span",{children:["PENDING / RUNNING (",M.length,")"]})}),A.jsx("div",{className:"space-y-2",children:M.map(V=>A.jsxs("div",{className:"bg-[#131314] border border-studio-border rounded p-3 opacity-80",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[V.status==="loading"?A.jsx(ap,{size:14,className:"animate-spin text-blue-400"}):A.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"}),A.jsx("span",{className:"text-xs font-mono truncate",children:V.originalFileName})]}),A.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[V.question.slice(0,50),"..."]})]},V.id))})]}),A.jsxs("div",{className:"flex-[2] overflow-y-auto p-4 bg-[#0e0e0e]",children:[A.jsxs("h3",{className:"text-xs font-bold text-gray-500 mb-3 sticky top-0 bg-[#0e0e0e] py-2 z-10 flex justify-between items-center",children:[A.jsxs("span",{children:["COMPLETED (",L.length,")"]}),L.length>0&&A.jsxs("button",{onClick:()=>Z(k),className:"text-xs flex items-center gap-1 text-studio-primary hover:underline",children:[A.jsx(Vm,{size:12})," Download ZIP"]})]}),A.jsxs("div",{className:"space-y-4",children:[L.length===0&&A.jsx("div",{className:"text-center text-gray-600 italic py-10",children:"Results will appear here as they finish..."}),L.map(V=>A.jsxs("div",{className:"bg-[#131314] border border-studio-border rounded-lg overflow-hidden",children:[A.jsxs("div",{className:"p-3 flex items-center gap-3 cursor-pointer hover:bg-[#1e1e1e]",onClick:()=>U(b===V.id?null:V.id),children:[b===V.id?A.jsx(ov,{size:16,className:"text-gray-500"}):A.jsx(av,{size:16,className:"text-gray-500"}),A.jsx("div",{className:"text-sm font-medium text-green-400 flex-1 truncate",children:V.originalFileName}),V.status==="error"&&A.jsx(Va,{size:16,className:"text-red-400"}),V.tokenUsage&&A.jsxs("span",{className:"text-[10px] font-mono text-gray-600",children:[V.tokenUsage.prompt+V.tokenUsage.candidates," toks"]})]}),b===V.id&&A.jsxs("div",{className:"border-t border-studio-border p-4 bg-[#1a1a1a]",children:[A.jsxs("div",{className:"mb-2",children:[A.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Question"}),A.jsx("div",{className:"text-xs text-gray-400 mb-2 line-clamp-2 hover:line-clamp-none",children:V.question})]}),A.jsxs("div",{children:[A.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Answer"}),A.jsx("div",{className:"text-sm text-gray-200 whitespace-pre-wrap font-mono mt-1",children:V.answer||A.jsx("span",{className:"text-red-400",children:V.errorMsg})})]})]})]},V.id))]})]})]})]}):A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[A.jsx(bu,{size:48,className:"mb-4 opacity-20"}),A.jsx("p",{className:"text-lg font-medium text-gray-400",children:'Select "Import Questions" to start'}),A.jsxs("p",{className:"text-sm mt-2 max-w-md text-center",children:["Select a folder of text files to process them concurrently.",A.jsx("br",{}),"You can attach a context file in the next step."]}),A.jsx("button",{onClick:()=>{var V;return(V=P.current)==null?void 0:V.click()},className:"mt-6 px-6 py-3 bg-studio-primary text-studio-bg font-bold rounded-full hover:opacity-90",children:"Import Questions"})]})})]})},vg="gemini_cost_history",Qu=()=>{const i=localStorage.getItem(vg);return i?JSON.parse(i):[]},qm=i=>{const t=Qu(),l={...i,id:Date.now().toString(),timestamp:Date.now()};return t.push(l),localStorage.setItem(vg,JSON.stringify(t)),l},Kx=i=>Qu().filter(l=>l.date===i).reduce((l,a)=>l+a.cost,0),Zx=(i,t)=>{const l=Qu(),a=`${i}-${(t+1).toString().padStart(2,"0")}`;return l.filter(r=>r.date.startsWith(a)).reduce((r,c)=>r+c.cost,0)},ja="gemini_batch_history",es=()=>{const i=localStorage.getItem(ja);return i?JSON.parse(i):[]},Xx=(i,t)=>{const l=es(),a={id:Date.now().toString(),jobName:i,promptPreview:t.length>30?t.substring(0,30)+"...":t,status:"JOB_STATE_PENDING",createdAt:Date.now()},r=[a,...l];return localStorage.setItem(ja,JSON.stringify(r)),a},Qx=(i,t,l)=>{const r=es().map(c=>c.id===i?{...c,status:t,result:l}:c);return localStorage.setItem(ja,JSON.stringify(r)),r},Wx=i=>{const l=es().filter(a=>a.id!==i);return localStorage.setItem(ja,JSON.stringify(l)),l};function $x(){const[i,t]=Ie.useState([]),[l,a]=Ie.useState("default"),[r,c]=Ie.useState(Ba),[d,p]=Ie.useState([]),[g,m]=Ie.useState(ml),[v,_]=Ie.useState({enabled:!1,ttlSeconds:300,status:"none"}),[S,E]=Ie.useState(!1),[R,x]=Ie.useState(0),[I,b]=Ie.useState(0),[U,D]=Ie.useState(0),[q,G]=Ie.useState([]),[X,P]=Ie.useState("chat"),se=Gm.useRef(null);Ie.useEffect(()=>{se.current=null},[l,g.model,r,v.cacheName,g.tools]);const[Y,re]=Ie.useState(()=>localStorage.getItem("gemini_api_key")||"");Ie.useEffect(()=>{localStorage.setItem("gemini_api_key",Y)},[Y]),Ie.useEffect(()=>{const O={id:"default",title:"Untitled Prompt",systemInstruction:Ba,messages:[],config:ml,updatedAt:Date.now()};t([O]);const W=new Date,he=W.toISOString().split("T")[0];b(Kx(he)),D(Zx(W.getFullYear(),W.getMonth())),G(es())},[]),Ie.useEffect(()=>{t(O=>O.map(W=>W.id===l?{...W,systemInstruction:r,messages:d,config:g,updatedAt:Date.now()}:W))},[d,g,r,l]);const _e=()=>{const O=Date.now().toString(),W={id:O,title:"New Prompt",systemInstruction:Ba,messages:[],config:ml,updatedAt:Date.now()};t(he=>[W,...he]),a(O),p([]),c(Ba),m(ml)},k=O=>{const W=i.find(he=>he.id===O);W&&(a(O),p(W.messages),c(W.systemInstruction),m(W.config))},ie=(O,W)=>{W.stopPropagation();const he=i.filter(ye=>ye.id!==O);he.length===0?_e():(t(he),l===O&&k(he[0].id))},N=()=>{const O=i.find(me=>me.id===l);if(!O)return;const W={...O,exportDate:new Date().toISOString(),appVersion:"1.0"},he=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),ye=URL.createObjectURL(he),Se=document.createElement("a");Se.href=ye,Se.download=`gemini-chat-${O.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}-${O.id.slice(-4)}.json`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),URL.revokeObjectURL(ye)},K=O=>{const W=new FileReader;W.onload=he=>{var ye;try{const Se=JSON.parse((ye=he.target)==null?void 0:ye.result);if(!Se.messages||!Array.isArray(Se.messages))throw new Error("Invalid session format");const me=Date.now().toString(),Ue={id:me,title:Se.title?`${Se.title} (Import)`:"Imported Chat",systemInstruction:Se.systemInstruction||"",messages:Se.messages,config:Se.config||ml,updatedAt:Date.now()};t(be=>[Ue,...be]),k(me)}catch(Se){alert("Failed to import session. Invalid JSON file."),console.error(Se)}},W.readAsText(O)},J=async(O,W)=>{if(!Y)return alert("Please enter API Key first."),null;_(ye=>({...ye,status:"loading"}));const he=W||v.ttlSeconds;try{const{name:ye,sizeBytes:Se}=await Ux(Y,g.model,O,he,r,g.enableGoogleSearch),me=Date.now()+he*1e3;return _(Ue=>({...Ue,status:"active",cacheName:ye,fileName:O.name,tokenCount:Math.ceil(Se/4),expirationTime:me,ttlSeconds:he})),{name:ye}}catch(ye){return console.error("Cache creation failed:",ye),alert("Failed to create cache. Ensure your file meets the minimum token requirements (1024 for Flash, 4096 for Pro)."),_(Se=>({...Se,status:"error"})),null}},Z=async()=>{if(_(O=>({...O,status:"none",cacheName:void 0,tokenCount:0,expirationTime:void 0})),v.cacheName&&Y)try{await Bu(Y,v.cacheName)}catch(O){console.warn("Attempted to delete cache on server but failed (it may have already expired):",O)}},ve=(O,W,he,ye)=>{const Se=yl.find(Oe=>Oe.id===g.model)||yl[0],me=he!==void 0?he:zm(O),Ue=ye!==void 0?ye:zm(W),be=me/1e6*Se.costInput+Ue/1e6*Se.costOutput;x(Oe=>Oe+be),qm({date:new Date().toISOString().split("T")[0],model:g.model,inputTokens:me,outputTokens:Ue,cost:be}),b(Oe=>Oe+be),D(Oe=>Oe+be)},ce=async(O,W,he=d)=>{if(!Y){const Ue={id:Date.now().toString(),role:_l.MODEL,text:" **API Key Missing**: Please enter your Gemini API Key in the settings panel (right sidebar) to start chatting.",timestamp:Date.now(),isError:!0};p(be=>[...be,Ue]);return}km(he);const ye={id:Date.now().toString(),role:_l.USER,text:O,attachments:W,timestamp:Date.now()};p([...he,ye]),E(!0);const Se=(Date.now()+1).toString(),me={id:Se,role:_l.MODEL,text:"",timestamp:Date.now()};p(Ue=>[...Ue,me]);try{if(!se.current){const C=v.enabled&&v.status==="active"?v.cacheName:void 0,ae=km(he);se.current=Ix(Y,g,r,ae,C)}const Ue=await kx(se.current,O,W);let be="",Ze,Oe;for await(const C of Ue)be+=C.text,C.thoughtSignature&&(Ze=C.thoughtSignature),C.usageMetadata&&(Oe=C.usageMetadata),p(ae=>ae.map(oe=>oe.id===Se?{...oe,text:be,thoughtSignature:Ze}:oe));Oe?ve(O,be,Oe.promptTokenCount,Oe.candidatesTokenCount):ve(O,be),he.length===0&&t(C=>C.map(ae=>ae.id===l?{...ae,title:O.slice(0,30)+"..."}:ae))}catch(Ue){console.error(Ue),se.current=null,p(be=>be.map(Ze=>Ze.id===Se?{...Ze,text:"Error generating response. "+Ue.message,isError:!0}:Ze))}finally{E(!1)}},Ce=(O,W)=>{const he=d.findIndex(me=>me.id===O);if(he===-1)return;const ye=d[he],Se=d.slice(0,he);p(Se),se.current=null,ce(W,ye.attachments||[],Se)},M=async O=>{if(!Y)return alert("Please enter API Key");try{const W=await Bx(Y,O.jobName),he=W.state||"UNKNOWN",ye=Qx(O.id,he);G(ye),alert(`Job Status: ${he}
Created: ${W.createTime}`)}catch(W){alert("Check failed: "+W.message)}},L=(O,W)=>{const he=Xx(O,W);G(ye=>[he,...ye])},V=(O,W)=>{W.stopPropagation();const he=Wx(O);G(he)};return A.jsxs("div",{className:"flex h-screen w-full bg-[#131314] text-[#e3e3e3] font-sans overflow-hidden",children:[A.jsx(t_,{sessions:i,currentSessionId:l,onNewChat:_e,onSelectSession:k,onDeleteSession:ie,onExportSession:N,onImportSession:K,batchJobs:q,onCheckBatchStatus:M,onDeleteBatchJob:V,activeView:X,onViewChange:P}),X==="chat"?A.jsx(i_,{systemInstruction:r,setSystemInstruction:c,messages:d,onSendMessage:ce,isStreaming:S,onRegenerate:()=>{},onEditMessage:Ce}):A.jsx(Jx,{apiKey:Y,config:g,contextCache:v,onCreateCache:J,systemInstruction:r,onUpdateCost:(O,W)=>{const he=yl.find(me=>me.id===g.model)||yl[0],ye=O/1e6*he.costInput+W/1e6*he.costOutput;x(me=>me+ye),qm({date:new Date().toISOString().split("T")[0],model:g.model,inputTokens:O,outputTokens:W,cost:ye}),b(me=>me+ye),D(me=>me+ye)},onDeleteCache:Z}),A.jsx(Gx,{config:g,contextCache:v,onConfigChange:m,onCacheChange:_,onCreateCache:J,onDeleteCache:Z,apiKey:Y,onApiKeyChange:re,totalCost:R,todayCost:I,monthCost:U,onBatchCreated:L})]})}const _g=document.getElementById("root");if(!_g)throw new Error("Could not find root element to mount to");const jx=O0.createRoot(_g);jx.render(A.jsx(Gm.StrictMode,{children:A.jsx($x,{})}));
